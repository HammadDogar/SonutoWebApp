(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{"209d":function(t,e,i){},"88b8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex page"},[i("div",{staticClass:"q-gutter-y-md",staticStyle:{width:"100%"}},[i("q-card",{staticClass:"maincard"},[i("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":"","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab",{attrs:{name:"Published",label:"Published","no-caps":""}}),i("q-tab",{attrs:{name:"Requests",label:"Requests","no-caps":""}}),i("q-tab",{attrs:{name:"Rejected",label:"Rejected","no-caps":""}}),i("q-tab",{attrs:{name:"Unpublished",label:"Unpublished","no-caps":""}})],1),i("q-separator"),i("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Published"}},[0===t.publishedRecipes.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("No Published found ")])],1)]):i("div",t._l(t.publishedRecipes,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto&&t.isImagePost(e.CoverPhoto.mime)?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToUserRecipe(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToUserRecipe(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openRecipeOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Requests"}},[0===t.submittedRecipes.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("No Requests found.")])],1)]):i("div",t._l(t.submittedRecipes,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto&&t.isImagePost(e.CoverPhoto.mime)?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToUserRecipe(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h5 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToUserRecipe(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openRecipeOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Rejected"}},[0===t.rejectedRecipes.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("No Rejected found. ")])],1)]):i("div",t._l(t.rejectedRecipes,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto&&t.isImagePost(e.CoverPhoto.mime)?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToUserRecipe(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h5 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToUserRecipe(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openRecipeOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Unpublished"}},[0===t.unpublishedRecipes.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("No Unpublished found. ")])],1)]):i("div",t._l(t.unpublishedRecipes,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto&&t.isImagePost(e.CoverPhoto.mime)?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToUserRecipe(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToUserRecipe(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openRecipeOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)])],1)],1)],1),i("div",{ref:"fullscreenElement",attrs:{id:"image-box"}},[i("FullScreen",{attrs:{details:t.fullscreendata}})],1),i("q-dialog",{attrs:{position:"bottom"},model:{value:t.recipeOptionModel,callback:function(e){t.recipeOptionModel=e},expression:"recipeOptionModel"}},[i("ManageBlogOption",{attrs:{selectedBlog:t.selectedRecipe},on:{"clicked-selected-Option":t.selectedManageOption}})],1),i("q-dialog",{attrs:{position:"bottom"},model:{value:t.confirmModal,callback:function(e){t.confirmModal=e},expression:"confirmModal"}},[i("q-card",{staticClass:"roundedNewsFeed"},[i("div",{staticClass:"row items-center no-wrap",staticStyle:{"margin-bottom":"30px"}},[i("div",{staticClass:"col"},[i("q-card-section",{staticClass:"row items-center q-pb-none"},[i("div",{staticClass:"text-h6"},[t._v(t._s(t.selectedOption)+" Recipe")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),i("q-card-section",{staticClass:"row items-center q-pb-none"},[i("p",{staticClass:"col-12"},[t._v("\n              Are you sure you want to "+t._s(t.selectedOption)+" this recipe?\n            ")])]),i("div",{staticClass:"col-12 text-center"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6 text-center"},[i("q-btn",{staticClass:"button default-button",staticStyle:{color:"#000000",width:"90%"},attrs:{label:"Cancel","no-caps":"",outline:"",color:"primary"},on:{click:function(e){return t.confirmChoice("cancel")}}})],1),i("div",{staticClass:"col-6 text-center"},[i("q-btn",{staticClass:"button default-button",staticStyle:{width:"90%"},attrs:{color:"primary",label:"Confirm","no-caps":""},on:{click:function(e){return t.confirmChoice("confirm")}}})],1)])])],1)])])],1)],1)},a=[],c=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("28a5"),i("6762"),i("2fdb"),i("9523")),o=i.n(c),n=i("2f62"),r=i("d41a"),l=i("2a19"),d=i("bd4c"),p=i("dd45");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"ManageRecipes",created:function(){this.$root.$on("headerRightIcon2Click",this.gotoSearch),this.$root.$on("onformatDateClick",this.formatDate),this.$root.$on("onExitFullscreen",this.closeFullScreen)},beforeDestroy:function(){this.$root.$off("headerRightIcon2Click",this.gotoSearch),this.$root.$off("onformatDateClick",this.formatDate),this.$root.$off("onExitFullscreen",this.closeFullScreen)},computed:f(f(f({},Object(n["c"])("recipe",["recipes","publishedRecipes","submittedRecipes","draftRecipes","rejectedRecipes","unpublishedRecipes"])),Object(n["c"])("config",["blobBaseUrl"])),Object(n["c"])("userprofile",["userDetails","userRoles"])),components:{FullScreen:r["a"],ManageBlogOption:p["a"]},filters:{truncate:function(t,e,i){return null===t?"":(null===t||void 0===t?void 0:t.length)>e?t.substring(0,e)+i:t}},mounted:function(){this.userRoles&&!this.userRoles.some((function(t){return[2].includes(t.id)}))&&this.$router.push("index"),this.setHeaderData(!1,!0,"Manage Recipes","","","",!0,!0),this.fetchRecipes()},data:function(){return{tab:"Published",fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:""},selectedRecipe:null,recipeOptionModel:!1,confirmModal:!1,selectedOption:""}},methods:f(f(f({},Object(n["b"])("header",["setHeader"])),Object(n["b"])("recipe",["fetchRecipe","storeContent","fetchRecipes","updateRecipeStatus"])),{},{setHeaderData:function(t,e,i,s,a,c,o,n){this.setHeader({hamburgerIcon:t,backIcon:e,title:i,rightIcon1:s,rightIcon2:a,rightLinkText:c,notificationIcon:o,searchIcon:n})},formatDate:function(t){return d["a"].formatDate(t,"DD MMM")+" at "+d["a"].formatDate(t,"hh.mm A")},gotoSearch:function(){this.$router.push("/recipe-search")},backButtonClick:function(){this.$router.push("dashboard")},goToCreateRecipe:function(){this.$router.push("/create-edit-recipe")},goToReview:function(t){},goToUserRecipe:function(t){this.$router.push("/user-recipe/"+t)},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen(),this.selectedRecipe={};var t=document.getElementById("image-box");t.setAttribute("style","display:none;")}},getImageurl:function(t){return t},openRecipeOptionModel:function(t){this.selectedRecipe=t,this.recipeOptionModel=!0},selectedManageOption:function(t){this.selectedOption=t,this.recipeOptionModel=!1,this.confirmModal=!0},confirmChoice:function(t){var e=this;if("confirm"===t){var i="Approve"===this.selectedOption||"Publish"===this.selectedOption?"Published":"Reject"===this.selectedOption?"Rejected":"Unpublish"===this.selectedOption?"Unpublished":"";this.updateRecipeStatus({id:this.selectedRecipe.id,status:i}).then((function(t){l["a"].create({progress:!0,message:"Recipe Status Updated Successfully",type:"positive"}),e.selectedOption="",e.selectedRecipe=null,e.confirmModal=!1}))}else this.selectedRecipe=null,this.confirmModal=!1,this.selectedOption=""},isImagePost:function(t){return"image"===t.split("/")[0]}})},b=m,h=(i("cc8d"),i("2877")),g=i("9989"),v=i("f09f"),C=i("429b"),y=i("7460"),q=i("eb85"),R=i("adad"),x=i("823b"),O=i("068f"),_=i("ad56"),k=i("a370"),P=i("9c40"),w=i("24e8"),j=i("2c91"),S=i("7f67"),M=i("eebe"),D=i.n(M),I=Object(h["a"])(b,s,a,!1,null,"effb23a2",null);e["default"]=I.exports;D()(I,"components",{QPage:g["a"],QCard:v["a"],QTabs:C["a"],QTab:y["a"],QSeparator:q["a"],QTabPanels:R["a"],QTabPanel:x["a"],QImg:O["a"],QIntersection:_["a"],QCardSection:k["a"],QBtn:P["a"],QDialog:w["a"],QSpace:j["a"]}),D()(I,"directives",{ClosePopup:S["a"]})},cc8d:function(t,e,i){"use strict";var s=i("209d"),a=i.n(s);a.a}}]);