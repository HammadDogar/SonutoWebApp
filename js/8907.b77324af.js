"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[8907],{23487:function(e,o,t){t.r(o),t.d(o,{default:function(){return ne}});t(83296),t(89933);var n=t(59835),i=function(e){return(0,n.dD)("data-v-d8173d38"),e=e(),(0,n.Cn)(),e},s={class:"main-container"},l={class:"profile-edit-section"},r={class:"row"},a={class:"col"},c={class:"row user-section"},u={class:"col"},d=i((function(){return(0,n._)("span",{class:"user-name"}," Cover photo ",-1)})),f={class:"row"},p={class:"col"},m=i((function(){return(0,n._)("span",{class:"banner-image"}," Upload Image",-1)})),h={class:"row user-section"},g={class:"col"},v=i((function(){return(0,n._)("span",{class:"user-name"}," Title ",-1)})),w={class:"row"},_={class:"col"},k={class:"row user-section"},y={class:"col"},b=i((function(){return(0,n._)("span",{class:"user-name"}," Descreption ",-1)})),x={class:"row"},C={class:"col"},B={class:"row user-section"},I={class:"col"},V=i((function(){return(0,n._)("span",{class:"user-name"},"Content",-1)})),q={class:"row"},K={class:"col"},P={class:"row user-section"},W={class:"col"},S=i((function(){return(0,n._)("span",{class:"user-name"}," Keyword ",-1)})),D={class:"row"},Z={key:0,class:"col"},U={class:"row"},Q={class:"col flex flex-center more-info-item",style:{"margin-top":"40px",width:"100%"}},$={class:"row"},F={class:"col flex flex-center more-info-item",style:{"margin-top":"20px"}};function M(e,o,t,i,M,R){var A=this,L=(0,n.up)("q-img"),O=(0,n.up)("q-btn"),T=(0,n.up)("q-input"),j=(0,n.up)("q-editor"),H=(0,n.up)("q-select"),E=(0,n.up)("q-form"),z=(0,n.up)("BlogSuccessMessage"),G=(0,n.up)("q-dialog"),J=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(J,{class:"flex-center"},{default:(0,n.w5)((function(){return[(0,n._)("div",s,[(0,n._)("div",l,[(0,n._)("div",r,[(0,n._)("div",a,[(0,n.Wm)(E,{onSubmit:R.saveBlog,class:"q-gutter-md"},{default:(0,n.w5)((function(){return[(0,n._)("div",c,[(0,n._)("div",u,[d,(0,n._)("div",f,[(0,n._)("div",p,[null!=M.form.coverPhoto?((0,n.wg)(),(0,n.j4)(L,{key:0,src:"".concat(M.form.coverPhoto),"spinner-color":"white",style:{height:"280px","max-width":"100%"}},null,8,["src"])):(0,n.kq)("",!0),(0,n._)("div",{style:{"max-width":"100%",height:"46px",padding:"5px 5px",border:"1px #6B7BC7 dotted","text-align":"center"},class:"fileupload",onClick:o[1]||(o[1]=function(o){return e.$refs.file.click()})},[(0,n._)("input",{type:"file",ref:"file",style:{display:"none"},onChange:o[0]||(o[0]=function(){return R.onFileChange&&R.onFileChange.apply(R,arguments)})},null,544),(0,n.Wm)(O,{class:"img-icon",icon:"app:upload-img",flat:"",round:"",dense:""}),m])])])])]),(0,n._)("div",h,[(0,n._)("div",g,[v,(0,n._)("div",w,[(0,n._)("div",_,[(0,n.Wm)(T,{borderless:"",class:"input-control",modelValue:M.form.title,"onUpdate:modelValue":o[2]||(o[2]=function(e){return M.form.title=e}),"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"}},null,8,["modelValue"])])])])]),(0,n._)("div",k,[(0,n._)("div",y,[b,(0,n._)("div",x,[(0,n._)("div",C,[(0,n.Wm)(T,{borderless:"",class:"input-control",modelValue:M.form.description,"onUpdate:modelValue":o[3]||(o[3]=function(e){return M.form.description=e}),"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"}},null,8,["modelValue"])])])])]),(0,n._)("div",B,[(0,n._)("div",I,[V,(0,n._)("div",q,[(0,n._)("div",K,[(0,n.Wm)(j,{class:"contentinput",modelValue:M.form.content,"onUpdate:modelValue":o[4]||(o[4]=function(e){return M.form.content=e}),definitions:{insert_img:{tip:"Insert Image",icon:"photo",handler:A.insertImg}},toolbar:[["left","center","right","justify","insert_img","bold","italic","strike"]]},null,8,["modelValue","definitions"])])])])]),(0,n._)("div",P,[(0,n._)("div",W,[S,(0,n._)("div",D,[M.allKeywords?((0,n.wg)(),(0,n.iD)("div",Z,[(0,n.Wm)(H,{filled:"",modelValue:M.form.keyword,"onUpdate:modelValue":o[5]||(o[5]=function(e){return M.form.keyword=e}),"use-input":"","use-chips":"",multiple:"","input-debounce":"0",options:M.allKeywords},null,8,["modelValue","options"])])):(0,n.kq)("",!0)])])]),(0,n._)("div",U,[(0,n._)("div",Q,[(0,n.Wm)(O,{color:"primary",type:"button",onClick:R.goToPreview,label:"Preview",class:"signIn-button",rounded:"","no-caps":""},null,8,["onClick"])])]),(0,n._)("div",$,[(0,n._)("div",F,[(0,n.Wm)(O,{color:"primary",type:"submit",label:"Save",class:"signIn-button savBtn",rounded:"","no-caps":""})])])]})),_:1},8,["onSubmit"])])])])]),(0,n.Wm)(G,{modelValue:M.successfulModal,"onUpdate:modelValue":o[6]||(o[6]=function(e){return M.successfulModal=e})},{default:(0,n.w5)((function(){return[(0,n.Wm)(z)]})),_:1},8,["modelValue"])]})),_:1})}var R=t(46264),A=t.n(R),L=(t(69665),t(97605),t(77280),t(46727),t(3452),t(56072),t(65716),t(33100)),O=t(56404),T={name:"BlogArticle",created:function(){this.$emitter.on("headerRightIcon2Click",this.gotoSearch),this.$emitter.on("headerBackButtonClick",this.backButtonClick)},data:function(){return{form:{coverPhoto:null,title:"",description:"",content:"",keyword:null},filterOptions:[],model:null,blogCoverPhoto:null,allKeywords:[],successfulModal:!1}},components:{BlogSuccessMessage:O.Z},beforeUnmount:function(){this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("headerRightIcon2Click",this.gotoSearch)},mounted:function(){var e=this;this.setHeaderData(!1,!0,"Blog Article","","","",!0,!0),this.fetchKeywords().then((function(){e.allKeywords=e.keywords,e.filterOptions=e.keywords}))},computed:A()(A()({},(0,L.Se)("userprofile",["userDetails"])),(0,L.Se)("blog",["blogs","keywords"])),methods:A()(A()(A()({},(0,L.nv)("blog",["postBlog","fetchKeywords","previewBlog"])),(0,L.nv)("header",["setHeader"])),{},{setHeaderData:function(e,o,t,n,i,s,l,r){this.setHeader({hamburgerIcon:e,backIcon:o,title:t,rightIcon1:n,rightIcon2:i,rightLinkText:s,notificationIcon:l,searchIcon:r})},gotoSearch:function(){this.$router.push("blog-search")},backButtonClick:function(){this.$router.push("dashboard")},goToPreview:function(){var e=this;this.previewBlog({form:this.form,file:this.blogCoverPhoto}).then((function(){e.$router.push("blog-review")}))},onFileChange:function(e){var o=e.target.files||e.dataTransfer.files;o.length&&(this.blogCoverPhoto=o[0],this.createImage(o[0]))},createImage:function(e){var o=this,t=new FileReader;t.onload=function(e){o.form.coverPhoto=e.target.result},t.readAsDataURL(e)},saveBlog:function(){var e=this;this.postBlog({user:this.userDetails.userprofile.id,form:this.form,file:this.blogCoverPhoto}).then((function(){e.successfulModal=!0}))},insertImg:function(){var e,o=this.post,t=document.createElement("input");t.type="file",t.accept=".png, .jpg",t.onchange=function(n){var i=Array.from(t.files);e=i[0];var s=new FileReader,l="";s.onloadend=function(){l=s.result,o.body+='<div><img src="'+l+'" /></div>'},s.readAsDataURL(e)},t.click()},createValue:function(e,o){e.length>2&&(this.allKeywords.includes(e)||o(e,"add-unique"))},filterFn:function(e,o){var t=this;o((function(){if(""===e)t.filterOptions=t.allKeywords;else{var o=e.toLowerCase();t.filterOptions=t.allKeywords.filter((function(e){return e.toLowerCase().indexOf(o)>-1}))}}))}})},j=t(11639),H=t(69885),E=t(8326),z=t(91487),G=t(68879),J=t(13119),N=t(84695),X=t(32259),Y=t(32074),ee=t(69984),oe=t.n(ee);const te=(0,j.Z)(T,[["render",M],["__scopeId","data-v-d8173d38"]]);var ne=te;oe()(T,"components",{QPage:H.Z,QForm:E.Z,QImg:z.Z,QBtn:G.Z,QInput:J.Z,QEditor:N.Z,QSelect:X.Z,QDialog:Y.Z})}}]);