"use strict";(self["webpackChunkSonuto"]=self["webpackChunkSonuto"]||[]).push([[7921],{75871:function(e,t,n){n.r(t),n.d(t,{default:function(){return ce}});n(52519),n(60893);var l=n(59835),o=n(86970),i=function(e){return(0,l.dD)("data-v-4c585c5d"),e=e(),(0,l.Cn)(),e},r={key:0,class:"favorite-pic-section"},s={class:"row no-wrap item-section"},a={class:"avatar-section"},u={class:"flex flex-center avatar-item"},c={class:"flex flex-center title-item"},d={class:"flex flex-center sub-title-item"},f={key:0},p={class:"flex flex-center country-item"},h={class:"flex flex-center more-info-item"},m={class:"about-section"},g=i((function(){return(0,l._)("span",{class:"section-header"}," About ",-1)})),w={style:{"margin-top":"1rem"}},k={key:0,class:"section-content"},v={class:"my-photos-section"},y={class:"row"},D={class:"col-12"},b=i((function(){return(0,l._)("span",{class:"section-header"}," My Photos ",-1)})),_={key:0,class:"row q-col-gutter-none q-ma-none q-pa-none",style:{"margin-top":"9px"}},C={key:1},S={class:"newsfeed-section",style:{width:"100%"}},x={id:"image-box-profile",ref:"fullscreenElement"};function I(e,t,n,i,I,F){var W=(0,l.up)("q-img"),q=(0,l.up)("q-scroll-area"),N=(0,l.up)("q-btn"),M=(0,l.up)("q-avatar"),Z=(0,l.up)("NewsFeedCard"),A=(0,l.up)("FullScreen"),$=(0,l.up)("AddNewsFeed"),E=(0,l.up)("q-dialog"),P=(0,l.up)("Settings"),Q=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(Q,{class:"flex flex-center page"},{default:(0,l.w5)((function(){return[F.hasFavoritePhotos?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(q,{class:"scroll"},{default:(0,l.w5)((function(){return[(0,l._)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(F.getFevImages(e.userDetails.userphotos),(function(t){return(0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"item"},[(0,l.Wm)(W,{src:"".concat(e.baseUrl).concat(t.photo.url),"spinner-color":"white",class:"rounded-borders fev-image"},null,8,["src"])])})),128))])]})),_:1})])):(0,l.kq)("",!0),(0,l._)("div",a,[(0,l.Wm)(N,{flat:"",class:"float-right pencil",icon:"app:pencil",onClick:F.profileEdit},null,8,["onClick"]),(0,l._)("div",u,[null!=e.userprofileDetail&&null!=e.userprofileDetail.avatar?((0,l.wg)(),(0,l.j4)(W,{key:0,src:"".concat(e.userprofileDetail.avatar.url),"spinner-color":"white",class:"rounded-borders",style:{height:"126px",width:"126px","border-radius":"126px"},onClick:t[0]||(t[0]=function(t){return F.getfullScreen(e.userprofileDetail,I.enlargesec="profile")})},null,8,["src"])):null!=e.userprofileDetail&&null!=e.userprofileDetail.firstname&&null!=e.userprofileDetail.lastname?((0,l.wg)(),(0,l.j4)(M,{key:1,style:{height:"126px",width:"126px"},color:"primary","text-color":"white"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(e.userprofileDetail.firstname.charAt(0))+" "+(0,o.zw)(e.userprofileDetail.lastname.charAt(0)),1)]})),_:1})):(0,l.kq)("",!0)]),(0,l._)("div",c,(0,o.zw)(e.userprofileDetail.firstname)+" "+(0,o.zw)(e.userprofileDetail.lastname),1),(0,l._)("div",d,[(0,l.Uk)((0,o.zw)(e.userprofileDetail.employer)+" ",1),e.userprofileDetail.employer&&e.userprofileDetail.school?((0,l.wg)(),(0,l.iD)("span",f," /  ")):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,o.zw)(e.userprofileDetail.School),1)]),(0,l._)("div",p,[(0,l._)("span",null,(0,o.zw)(F.getCountryName(e.userprofileDetail.country)),1),null!=e.userDetails.userfollowers?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"sub-font-blue",onClick:t[1]||(t[1]=function(e){return F.gotofollow()})},(0,o.zw)(e.userDetails.userfollowers.length)+" followers ",1)):(0,l.kq)("",!0)]),(0,l._)("div",h,[(0,l.Wm)(N,{color:"primary",label:"More Info",class:"button",rounded:"","no-caps":"",onClick:F.moreInfo},null,8,["onClick"])])]),(0,l._)("div",m,[(0,l.Wm)(N,{flat:"",class:"float-right pencil",icon:"app:pencil",onClick:F.aboutEdit},null,8,["onClick"]),g,(0,l._)("div",w,[e.userprofileDetail.shortdescription?((0,l.wg)(),(0,l.iD)("span",k,[(0,l.Uk)((0,o.zw)(e.userprofileDetail.shortdescription.slice(0,I.aboutSeeMore?e.userprofileDetail.shortdescription.length:125))+" ",1),e.userprofileDetail.shortdescription.length>125&&!I.aboutSeeMore?((0,l.wg)(),(0,l.iD)("span",{key:0,style:{color:"#5364B5"},class:"flex justify-end",onClick:t[2]||(t[2]=function(e){return I.aboutSeeMore=!0})},"See More")):(0,l.kq)("",!0),I.aboutSeeMore?((0,l.wg)(),(0,l.iD)("span",{key:1,style:{color:"#5364B5"},class:"flex justify-end",onClick:t[3]||(t[3]=function(e){return I.aboutSeeMore=!1})},"See Less")):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])]),(0,l._)("div",v,[(0,l._)("div",y,[(0,l._)("div",D,[b,e.userDetails.userphotos&&e.userDetails.userphotos.length>0?((0,l.wg)(),(0,l.j4)(N,{key:0,flat:"",class:"float-right",style:{color:"#5364B5"},onClick:F.viewAllPhoto},{default:(0,l.w5)((function(){return[(0,l.Uk)("View All")]})),_:1},8,["onClick"])):(0,l.kq)("",!0)])]),null!=e.userDetails.userphotos&&e.userDetails.userphotos.length>0?((0,l.wg)(),(0,l.iD)("div",_,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.userDetails.userphotos.slice(0,6),(function(t){return(0,l.wg)(),(0,l.iD)("div",{class:"col-4",key:"none-".concat(t.id)},[t.photo.url.indexOf("http")?((0,l.wg)(),(0,l.j4)(W,{key:0,src:"".concat(e.baseUrl).concat(t.photo.url),"spinner-color":"white",class:"rounded-borders photo",onClick:function(e){return F.getfullScreen(t,I.enlargesec="myphoto")}},null,8,["src","onClick"])):((0,l.wg)(),(0,l.j4)(W,{key:1,src:t.photo.url,"spinner-color":"white",class:"rounded-borders photo",onClick:function(e){return F.getfullScreen(t,I.enlargesec="myphoto")}},null,8,["src","onClick"]))])})),128))])):((0,l.wg)(),(0,l.iD)("div",C,"No photos uploaded yet"))]),(0,l._)("div",S,[(0,l.Wm)(Z,{isProfile:!0,onOnEditNewsfeed:F.editNewsfeed},null,8,["onOnEditNewsfeed"])]),(0,l._)("div",x,[(0,l.Wm)(A,{details:I.fullscreendata},null,8,["details"])],512),(0,l.Wm)(E,{modelValue:I.addNewsFeedModel,"onUpdate:modelValue":t[4]||(t[4]=function(e){return I.addNewsFeedModel=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)($,{isEditNewsfeed:I.isEditNewsfeed},null,8,["isEditNewsfeed"])]})),_:1},8,["modelValue"]),(0,l.Wm)(E,{modelValue:I.settingModel,"onUpdate:modelValue":t[5]||(t[5]=function(e){return I.settingModel=e}),position:"bottom"},{default:(0,l.w5)((function(){return[(0,l.Wm)(P)]})),_:1},8,["modelValue"])]})),_:1})}var F=n(46264),W=n.n(F),q=(n(69665),n(56072),n(65716),n(62590),n(247)),N=n(48217),M=function(e){return(0,l.dD)("data-v-d5af2bca"),e=e(),(0,l.Cn)(),e},Z={class:"row items-center no-wrap"},A={class:"col"},$=M((function(){return(0,l._)("div",{class:"text-h6"},"Settings",-1)}));function E(e,t,n,o,i,r){var s=(0,l.up)("q-space"),a=(0,l.up)("q-btn"),u=(0,l.up)("q-card-section"),c=(0,l.up)("q-icon"),d=(0,l.up)("q-item-section"),f=(0,l.up)("q-item"),p=(0,l.up)("q-list"),h=(0,l.up)("q-card"),m=(0,l.Q2)("close-popup"),g=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(h,{class:"roundedNewsFeed"},{default:(0,l.w5)((function(){return[(0,l._)("div",Z,[(0,l._)("div",A,[(0,l.Wm)(u,{class:"row items-center q-pb-none"},{default:(0,l.w5)((function(){return[$,(0,l.Wm)(s),(0,l.wy)((0,l.Wm)(a,{icon:"close",flat:"",round:"",dense:""},null,512),[[m]])]})),_:1}),(0,l.Wm)(p,{bordered:"",padding:"",class:"rounded-borders",style:{width:"100%","padding-bottom":"45px"}},{default:(0,l.w5)((function(){return[(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{clickable:"",onClick:t[0]||(t[0]=function(t){return e.followAction("report")}),"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{name:"app:create-business-profile"})]})),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Create my business profile")]})),_:1})]})),_:1})),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{clickable:"",onClick:t[1]||(t[1]=function(t){return e.followAction("report")}),"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{name:"app:application-setting"})]})),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Account settings")]})),_:1})]})),_:1})),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{clickable:"",onClick:t[2]||(t[2]=function(e){return r.goToPrivacySetting()}),"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{name:"app:privacy-settings2"})]})),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Privacy settings")]})),_:1})]})),_:1})),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{clickable:"",onClick:t[3]||(t[3]=function(e){return r.goToPrivacySetting()}),"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{name:"app:application-setting"})]})),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Application settings")]})),_:1})]})),_:1})),[[g]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{clickable:"",onClick:t[4]||(t[4]=function(t){return e.followAction("report")}),"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(d,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(c,{name:"app:support"})]})),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Support")]})),_:1})]})),_:1})),[[g]])]})),_:1})])])]})),_:1})}var P=n(33100),Q={name:"Settings",methods:W()(W()(W()({},(0,P.nv)("header",["setHeader"])),(0,P.nv)("followers",["fetchFollowers","fetchFollowings","updateFollowers"])),{},{setHeaderData:function(e,t,n,l,o,i){this.setHeader({hamburgerIcon:e,backIcon:t,title:n,rightIcon1:l,rightIcon2:o,rightLinkText:i})},goToPrivacySetting:function(){this.$router.push("privacy-setting")}})},U=n(11639),j=n(44458),B=n(63190),z=n(90136),H=n(68879),L=n(13246),V=n(490),R=n(76749),T=n(22857),O=n(62146),K=n(51136),Y=n(69984),G=n.n(Y);const J=(0,U.Z)(Q,[["render",E],["__scopeId","data-v-d5af2bca"]]);var X=J;G()(Q,"components",{QCard:j.Z,QCardSection:B.Z,QSpace:z.Z,QBtn:H.Z,QList:L.Z,QItem:V.Z,QItemSection:R.Z,QIcon:T.Z}),G()(Q,"directives",{ClosePopup:O.Z,Ripple:K.Z});var ee=n(43038),te=n(4376),ne={name:"Profile",created:function(){this.$emitter.on("footerAddIconClick",this.showAddNewsFeedModel),this.$emitter.on("headerRightIcon1Click",this.openSetting),this.$emitter.on("headerRightIcon2Click",this.gotoSearch),this.$emitter.on("onExitFullscreen",this.closeFullScreen),this.$emitter.on("onformatDateClick",this.formatDate)},beforeUnmount:function(){this.$emitter.off("footerAddIconClick",this.showAddNewsFeedModel),this.$emitter.off("headerRightIcon1Click",this.openSetting),this.$emitter.off("headerRightIcon2Click",this.gotoSearch),this.$emitter.off("onExitFullscreen",this.closeFullScreen),this.$emitter.off("onformatDateClick",this.formatDate)},data:function(){return{file:null,addNewsFeedModel:!1,settingModel:!1,albums:{info:[{src:"https://cdn.quasar.dev/img/boy-avatar.png",name:"Meeting",count:"16 photos"},{src:"https://cdn.quasar.dev/img/boy-avatar.png",name:"Me",count:"10 photos"}]},fullscreendata:{url:null,userprofile:null,feedtext:null,created_at:null,likeLength:null,commentLength:null,id:null,likeIcon:null,hideBack:!1},enlargesec:"",start:0,limit:10,aboutSeeMore:!1,isEditNewsfeed:!1}},computed:W()(W()(W()(W()({},(0,P.Se)("config",["baseUrl"])),(0,P.Se)("country",["countries"])),(0,P.Se)("userprofile",["userprofileDetail","userDetails"])),{},{hasFavoritePhotos:function(){return this.getFevImages(this.userDetails.userphotos).length}}),mounted:function(){this.setHeaderData(!0,!1,"Profile","","","",!0,!0),this.fetchMyNewsfeeds({id:this.userDetails.id,start:this.start,limit:this.limit}),0===this.countries.length&&this.fetchCountries()},methods:W()(W()(W()(W()({},(0,P.nv)("header",["setHeader"])),(0,P.nv)("country",["fetchCountries"])),(0,P.nv)("newsfeeds",["fetchMyNewsfeeds","fetchNewsfeed"])),{},{setHeaderData:function(e,t,n,l,o,i,r,s){this.setHeader({hamburgerIcon:e,backIcon:t,title:n,rightIcon1:l,rightIcon2:o,rightLinkText:i,notificationIcon:r,searchIcon:s})},moreInfo:function(){this.$router.push("profile-more-info")},profileEdit:function(){this.$router.push("edit-profile")},aboutEdit:function(){this.$router.push("about")},viewAllPhoto:function(){this.$router.push("my-photos")},gotofollow:function(){this.$router.push("followers")},getFevImages:function(e){return null==e?[]:e.filter((function(e){return!0===e.favourite}))},getCountryName:function(e){if(null==e)return"";var t=this.countries.filter((function(t){return t.value===e}));return 0!==t.length?t[0].label:void 0},openSetting:function(){this.settingModel=!0},gotoSearch:function(){this.$router.push("search-result")},showAddNewsFeedModel:function(){this.addNewsFeedModel=!0},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen();var e=document.getElementById("image-box-profile");e.setAttribute("style","display:none;"),this.fullscreendata.hideBack=!0}},getfullScreen:function(e,t){"myphoto"===t?(e.photo.url.indexOf("http")?this.fullscreendata.url=this.baseUrl+e.photo.url:this.fullscreendata.url=e.photo.url,this.fullscreendata.name=null,this.fullscreendata.created_at=null):(this.fullscreendata.url=e.avatar.url,this.fullscreendata.name=e.firstname+" "+e.lastname,this.fullscreendata.created_at=e.created_at),this.fullscreendata.hideBack=!1,this.fullscreendata.likeLength=null,this.fullscreendata.commentLength=null,this.fullscreendata.id=null,this.fullscreendata.likeIcon=null;var n=document.getElementById("image-box-profile");n.setAttribute("style","display:flex;");var l=this.$refs.fullscreenElement;this.$q.fullscreen.toggle(l).then((function(){var e=document.getElementById("image-box");e.style.display="flex"})).catch((function(e){alert(e)}))},formatDate:function(e){return te.ZP.formatDate(e,"DD MMM")+" at "+te.ZP.formatDate(e,"hh.mm A")},editNewsfeed:function(e){var t=this;this.fetchNewsfeed(e).then((function(){t.isEditNewsfeed=!0,t.addNewsFeedModel=!0}))}}),components:{NewsFeedCard:q.Z,AddNewsFeed:N.Z,Settings:X,FullScreen:ee.Z}},le=n(69885),oe=n(66663),ie=n(91487),re=n(61357),se=n(32074),ae=n(30627);const ue=(0,U.Z)(ne,[["render",I],["__scopeId","data-v-4c585c5d"]]);var ce=ue;G()(ne,"components",{QPage:le.Z,QScrollArea:oe.Z,QImg:ie.Z,QBtn:H.Z,QAvatar:re.Z,QDialog:se.Z,QPageSticky:ae.Z})}}]);