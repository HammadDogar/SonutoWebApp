"use strict";(self["webpackChunkSonuto"]=self["webpackChunkSonuto"]||[]).push([[4173],{94173:function(e,o,t){t.r(o),t.d(o,{default:function(){return ee}});var l=t(59835),n=t(86970),r=function(e){return(0,l.dD)("data-v-ee260382"),e=e(),(0,l.Cn)(),e},i={key:0,class:"main-container"},s={class:"search-section"},u=r((function(){return(0,l._)("div",{class:"text-h6",style:{padding:"16px 0px 1px 16px"}},"Follower requests",-1)})),a=["src"],c={class:"q-pa-md q-gutter-sm"},f={key:0,class:"text-center q-mb-md q-mt-lg"},d=["src"],w=["src"];function p(e,o,t,r,p,m){var g=(0,l.up)("q-icon"),h=(0,l.up)("q-input"),v=(0,l.up)("q-card"),k=(0,l.up)("q-item-section"),F=(0,l.up)("q-avatar"),_=(0,l.up)("q-item-label"),b=(0,l.up)("q-btn"),q=(0,l.up)("q-item"),y=(0,l.up)("q-list"),W=(0,l.up)("q-tab"),D=(0,l.up)("q-tabs"),P=(0,l.up)("q-separator"),R=(0,l.up)("FollowerAction"),U=(0,l.up)("q-dialog"),Z=(0,l.up)("FollowAction"),C=(0,l.up)("q-tab-panel"),A=(0,l.up)("q-tab-panels"),I=(0,l.up)("q-page"),Q=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(I,{class:"flex center"},{default:(0,l.w5)((function(){return[p.isFetching?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(v,{flat:"",bordered:"",class:"search-card",style:{"margin-top":"5px"}},{default:(0,l.w5)((function(){return[(0,l._)("div",s,[(0,l.Wm)(h,{class:"search",borderless:"","bg-color":"#474747",placeholder:"Search",style:{height:"49px"}},{prepend:(0,l.w5)((function(){return[(0,l.Wm)(g,{name:"search",style:{"margin-left":"10px"}})]})),_:1})])]})),_:1}),(0,l.Wm)(v,{flat:"",bordered:"",class:"follower-card"},{default:(0,l.w5)((function(){return[(0,l.Wm)(k,null,{default:(0,l.w5)((function(){return[u]})),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.followersRequests,(function(e){return(0,l.wg)(),(0,l.j4)(q,{key:e.id},{default:(0,l.w5)((function(){return[(0,l.Wm)(k,{avatar:""},{default:(0,l.w5)((function(){return[null!=e.follower.avatar?((0,l.wg)(),(0,l.j4)(F,{key:0},{default:(0,l.w5)((function(){return[(0,l._)("img",{src:e.follower.avatar.url},null,8,a)]})),_:2},1024)):((0,l.wg)(),(0,l.j4)(F,{key:1,color:"primary","text-color":"white"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,n.zw)(e.follower.firstname.charAt(0)),1)]})),_:2},1024))]})),_:2},1024),(0,l.Wm)(k,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(_,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,n.zw)(e.follower.firstname)+" "+(0,n.zw)(e.follower.lastname),1)]})),_:2},1024)]})),_:2},1024),(0,l.Wm)(k,{side:""},{default:(0,l.w5)((function(){return[(0,l._)("div",c,[(0,l.Wm)(b,{label:"Accept",color:"primary","no-caps":"",onClick:function(o){return m.acceptFollow(e)}},null,8,["onClick"]),(0,l.Wm)(b,{label:"Reject",color:"primary","no-caps":"",onClick:function(o){return m.removeFollow(e)}},null,8,["onClick"])])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),0===e.followersRequests.length?((0,l.wg)(),(0,l.iD)("h6",f,"No Request Found")):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)(v,{flat:"",bordered:"",class:"newsfeed-card"},{default:(0,l.w5)((function(){return[(0,l.Wm)(D,{modelValue:p.tab,"onUpdate:modelValue":o[0]||(o[0]=function(e){return p.tab=e}),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":"","no-caps":""},{default:(0,l.w5)((function(){return[(0,l.Wm)(W,{name:"followers",label:"Followers"}),(0,l.Wm)(W,{name:"following",label:"Followings"})]})),_:1},8,["modelValue"]),(0,l.Wm)(P),(0,l.Wm)(A,{modelValue:p.tab,"onUpdate:modelValue":o[6]||(o[6]=function(e){return p.tab=e}),animated:""},{default:(0,l.w5)((function(){return[2===e.followerRequestStatus?((0,l.wg)(),(0,l.j4)(C,{key:0,name:"followers"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.acceptedFollowers,(function(e){return(0,l.wg)(),(0,l.j4)(q,{key:e.id,style:{padding:"8px 0px !important"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(k,{avatar:"",onClick:function(o){return m.goToProfile(e.follower.id)}},{default:(0,l.w5)((function(){return[null!=e.follower.avatar?((0,l.wg)(),(0,l.j4)(F,{key:0},{default:(0,l.w5)((function(){return[(0,l._)("img",{src:e.follower.avatar.url},null,8,d)]})),_:2},1024)):((0,l.wg)(),(0,l.j4)(F,{key:1,color:"primary","text-color":"white"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,n.zw)(e.follower.firstname.charAt(0)),1)]})),_:2},1024))]})),_:2},1032,["onClick"]),(0,l.Wm)(k,{onClick:function(o){return m.goToProfile(e.follower.id)}},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,n.zw)(e.follower.firstname)+" "+(0,n.zw)(e.follower.lastname),1)]})),_:2},1024)]})),_:2},1032,["onClick"]),(0,l.Wm)(k,{side:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{flat:"",icon:"app:three-dots",class:"btn-dots",onClick:function(o){return m.actionFollowerOpen(e)}},null,8,["onClick"])]})),_:2},1024)]})),_:2},1024)})),128)),(0,l.Wm)(U,{modelValue:p.followerActionModel,"onUpdate:modelValue":o[2]||(o[2]=function(e){return p.followerActionModel=e}),position:"bottom"},{default:(0,l.w5)((function(){return[(0,l.Wm)(R,{id:p.followerId,selectedProfile:p.selectedProfileDetails,onUpdateOptions:m.optionsProps,onCloseDialog:o[1]||(o[1]=function(e){return p.followerActionModel=!1})},null,8,["id","selectedProfile","onUpdateOptions"])]})),_:1},8,["modelValue"]),(0,l.Wm)(U,{modelValue:p.followActionModel,"onUpdate:modelValue":o[3]||(o[3]=function(e){return p.followActionModel=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(Z)]})),_:1},8,["modelValue"])]})),_:1})):(0,l.kq)("",!0),(0,l.Wm)(C,{name:"following"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.followings,(function(e){return(0,l.wy)(((0,l.wg)(),(0,l.j4)(q,{key:e.id,class:"q-mb-sm",clickable:"",style:{padding:"8px 0px !important"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(k,{avatar:"",onClick:function(o){return m.goToProfile(e.following.id)}},{default:(0,l.w5)((function(){return[null!=e.following.avatar?((0,l.wg)(),(0,l.j4)(F,{key:0},{default:(0,l.w5)((function(){return[(0,l._)("img",{src:e.following.avatar.url},null,8,w)]})),_:2},1024)):((0,l.wg)(),(0,l.j4)(F,{key:1,color:"primary","text-color":"white"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,n.zw)(e.following.firstname.charAt(0)),1)]})),_:2},1024))]})),_:2},1032,["onClick"]),(0,l.Wm)(k,{onClick:function(o){return m.goToProfile(e.following.id)}},{default:(0,l.w5)((function(){return[(0,l.Wm)(_,null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,n.zw)(e.following.firstname)+" "+(0,n.zw)(e.following.lastname),1)]})),_:2},1024)]})),_:2},1032,["onClick"]),(0,l.Wm)(k,{side:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{flat:"",icon:"app:three-dots",class:"btn-dots",onClick:function(o){return m.actionFollowOpen(e)}},null,8,["onClick"])]})),_:2},1024)]})),_:2},1024)),[[Q]])})),128)),(0,l.Wm)(U,{modelValue:p.followActionModel,"onUpdate:modelValue":o[5]||(o[5]=function(e){return p.followActionModel=e}),position:"bottom"},{default:(0,l.w5)((function(){return[(0,l.Wm)(Z,{onUpdateOptions:m.optionsPropsFollow,selectedProfile:p.selectedProfileDetails,onCloseDialog:o[4]||(o[4]=function(e){return p.followActionModel=!1}),isRequestPending:p.isRequestPending},null,8,["onUpdateOptions","selectedProfile","isRequestPending"])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]))]})),_:1})}var m=t(46264),g=t.n(m),h=(t(69665),t(33100)),v=t(6827),k={class:"row items-center no-wrap"},F={class:"col"};function _(e,o,t,n,r,i){var s=(0,l.up)("q-icon"),u=(0,l.up)("q-item-section"),a=(0,l.up)("q-item"),c=(0,l.up)("q-list"),f=(0,l.up)("q-card"),d=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(f,{class:"roundedNewsFeed"},{default:(0,l.w5)((function(){return[(0,l._)("div",k,[(0,l._)("div",F,[(0,l.Wm)(c,{bordered:"",padding:"",class:"rounded-borders",style:{width:"100%","padding-bottom":"45px"}},{default:(0,l.w5)((function(){return[(0,l.wy)(((0,l.wg)(),(0,l.j4)(a,{clickable:"",disabled:e.userReportLoading,onClick:i.reportUserAction,"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{name:"app:report"})]})),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Report")]})),_:1})]})),_:1},8,["disabled","onClick"])),[[d]])]})),_:1})])])]})),_:1})}var b={name:"FollwerAction",props:["id","selectedProfile"],computed:g()({},(0,h.Se)("userprofile",["userDetails","userReportLoading"])),methods:g()(g()(g()({},(0,h.nv)("followers",["updateFollowers","removeFollowing","getFollower","removeFollower","fetchFollowers"])),(0,h.nv)("userprofile",["sendUserReportEmail"])),{},{followAction:function(e){var o=this;this.updateFollowers({id:this.id,status:e}).then((function(){o.$emit("update-options")}))},reportUserAction:function(){var e=this;if(!this.userReportLoading){var o={profileLink:document.location.origin+"/#/user-profile/"+this.selectedProfile.id,fromUser:this.userDetails.userprofile.firstname+" "+this.userDetails.userprofile.lastname,toUser:this.selectedProfile.firstname+" "+this.selectedProfile.lastname};this.sendUserReportEmail(o).then((function(){e.$emit("close-dialog"),v.Z.create({progress:!0,message:"Profile Reported Successfully",type:"positive"})}))}}})},q=t(11639),y=t(44458),W=t(13246),D=t(490),P=t(76749),R=t(22857),U=t(51136),Z=t(69984),C=t.n(Z);const A=(0,q.Z)(b,[["render",_],["__scopeId","data-v-0f3453ef"]]);var I=A;C()(b,"components",{QCard:y.Z,QList:W.Z,QItem:D.Z,QItemSection:P.Z,QIcon:R.Z}),C()(b,"directives",{Ripple:U.Z});var Q={class:"row items-center no-wrap"},j={class:"col"};function x(e,o,t,n,r,i){var s=(0,l.up)("q-icon"),u=(0,l.up)("q-item-section"),a=(0,l.up)("q-item"),c=(0,l.up)("q-list"),f=(0,l.up)("q-card"),d=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(f,{class:"roundedNewsFeed"},{default:(0,l.w5)((function(){return[(0,l._)("div",Q,[(0,l._)("div",j,[(0,l.Wm)(c,{bordered:"",padding:"",class:"rounded-borders",style:{width:"100%","padding-bottom":"45px"}},{default:(0,l.w5)((function(){return[(0,l.wy)(((0,l.wg)(),(0,l.j4)(a,{clickable:"",onClick:i.unFollow,"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{name:"app:unfollow"})]})),_:1}),!0===t.isRequestPending?((0,l.wg)(),(0,l.j4)(u,{key:0},{default:(0,l.w5)((function(){return[(0,l.Uk)("Cancel Request")]})),_:1})):((0,l.wg)(),(0,l.j4)(u,{key:1},{default:(0,l.w5)((function(){return[(0,l.Uk)("Unfollow")]})),_:1}))]})),_:1},8,["onClick"])),[[d]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(a,{clickable:"",disabled:e.userReportLoading,onClick:i.reportUserAction,"active-class":"my-menu-link"},{default:(0,l.w5)((function(){return[(0,l.Wm)(u,{avatar:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{name:"app:report"})]})),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Report")]})),_:1})]})),_:1},8,["disabled","onClick"])),[[d]])]})),_:1})])])]})),_:1})}t(56072),t(65716);var S={name:"FollowAction",props:["id","selectedProfile","isRequestPending"],computed:g()(g()({},(0,h.Se)("followers",["acceptedFollowers","followersRequests"])),(0,h.Se)("userprofile",["userprofileDetail","userDetails","userReportLoading"])),methods:g()(g()(g()({},(0,h.nv)("followers",["updateFollowers","removeFollowing","getFollower","removeFollower","fetchFollowers","fetchFollowings"])),(0,h.nv)("userprofile",["sendUserReportEmail","getUserDetail"])),{},{followAction:function(e){var o=this;this.removeFollowing(this.id).then((function(){o.$emit("update-options")}))},reportUserAction:function(){var e=this;if(!this.userReportLoading){var o={profileLink:document.location.origin+"/#/user-profile/"+this.selectedProfile.id,fromUser:this.userDetails.userprofile.firstname+" "+this.userDetails.userprofile.lastname,toUser:this.selectedProfile.firstname+" "+this.selectedProfile.lastname};this.sendUserReportEmail(o).then((function(){e.$emit("close-dialog"),v.Z.create({progress:!0,message:"Profile Reported Successfully",type:"positive"})}))}},unFollow:function(){var e=this,o=this.userDetails.userfollowings.filter((function(o){return o.following===e.selectedProfile.id}));this.removeFollowing(o[0].id).then((function(){e.getUserDetail(e.userDetails.id)})),this.getFollower({followerId:this.userDetails.userprofile.id,userId:this.selectedProfile.user}).then((function(o){e.removeFollower(o[0].id).then((function(){e.fetchFollowings(e.userprofileDetail.user),e.$emit("close-dialog"),v.Z.create({progress:!0,message:"Unfollowed Successfully",type:"positive"})}))}))}})};const V=(0,q.Z)(S,[["render",x],["__scopeId","data-v-37cb4a5b"]]);var M=V;C()(S,"components",{QCard:y.Z,QList:W.Z,QItem:D.Z,QItemSection:P.Z,QIcon:R.Z}),C()(S,"directives",{Ripple:U.Z});var L=t(57529),T={data:function(){return{tab:"followers",followerActionModel:!1,followActionModel:!1,followerId:0,followId:0,selectedProfileDetails:null,isRequestPending:!1,isFetching:!0}},created:function(){this.$emitter.on("headerBackButtonClick",this.backButtonClick)},beforeUnmount:function(){this.$emitter.off("headerBackButtonClick",this.backButtonClick)},mounted:function(){this.setHeaderData(!1,!0,"Followers","","","",!0,!0),this.fetchFollowers(this.userprofileDetail.user),this.fetchFollowings(this.userprofileDetail.user),this.isFetching=!1},computed:g()(g()({},(0,h.Se)("followers",["acceptedFollowers","followings","followersRequests","followerRequestStatus"])),(0,h.Se)("userprofile",["userprofileDetail","userDetails"])),components:{FollowerAction:I,FollowAction:M},methods:g()(g()(g()(g()({},(0,h.nv)("header",["setHeader"])),(0,h.nv)("followers",["fetchFollowers","fetchFollowings","updateFollowers","updateFollowing","getFollowing","removeFollowing","removeFollower"])),(0,h.nv)("userprofile",["getUserDetail"])),{},{setHeaderData:function(e,o,t,l,n,r,i,s){this.setHeader({hamburgerIcon:e,backIcon:o,title:t,rightIcon1:l,rightIcon2:n,rightLinkText:r,notificationIcon:i,searchIcon:s})},actionFollowOpen:function(e){this.followActionModel=!0,this.followId=e.id,this.selectedProfileDetails=e.following,this.isRequestPending="Pending"===e.status},optionsPropsFollow:function(){this.followActionModel=!1,this.followId=0,this.fetchFollowings(),this.isRequestPending=!1},actionFollowerOpen:function(e){this.followerActionModel=!0,this.followerId=e.id,this.selectedProfileDetails=e.follower},optionsProps:function(){this.followerActionModel=!1,this.followerId=0,this.fetchFollowers()},acceptFollow:function(e){var o=this;this.updateFollowers({id:e.id,status:"Accepted"}).then((function(){o.fetchFollowers(o.userprofileDetail.user)})),this.getFollowing({followingId:this.userprofileDetail.id,userId:e.follower.user}).then((function(t){t.length>0&&o.updateFollowing({id:t[0].id,status:"Accepted"}).then((function(){o.fetchFollowings(o.userprofileDetail.user),o.getUserDetail(o.userDetails.id),v.Z.create({progress:!0,message:"Request Accepted",type:"positive"}),L.socket.emit("followRequestStatus",{to:e.follower.user})}))}))},removeFollow:function(e){var o=this;this.removeFollower(e.id).then((function(){o.fetchFollowers(o.userprofileDetail.user)})),this.getFollowing({followingId:this.userprofileDetail.id,userId:e.follower.user}).then((function(t){t.length>0&&o.removeFollowing(t[0].id).then((function(){o.fetchFollowings(o.userprofileDetail.user),o.getUserDetail(o.userDetails.id),v.Z.create({progress:!0,message:"Request Rejected",type:"positive"}),L.socket.emit("followRequestStatus",{to:e.follower.user})}))}))},backButtonClick:function(){this.$router.push("profile")},goToProfile:function(e){this.$router.push("/user-profile/"+e)}})},z=t(69885),$=t(13119),B=t(61357),O=t(33115),H=t(68879),E=t(47817),K=t(57661),N=t(50926),Y=t(89800),G=t(84106),J=t(32074);const X=(0,q.Z)(T,[["render",p],["__scopeId","data-v-ee260382"]]);var ee=X;C()(T,"components",{QPage:z.Z,QCard:y.Z,QInput:$.Z,QIcon:R.Z,QItemSection:P.Z,QList:W.Z,QItem:D.Z,QAvatar:B.Z,QItemLabel:O.Z,QBtn:H.Z,QTabs:E.Z,QTab:K.Z,QSeparator:N.Z,QTabPanels:Y.Z,QTabPanel:G.Z,QDialog:J.Z}),C()(T,"directives",{Ripple:U.Z})}}]);