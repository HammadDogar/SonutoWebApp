"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[8292],{31307:function(e,t,o){o.r(t),o.d(t,{default:function(){return ge}});var i=o(59835),n=o(86970),s=function(e){return(0,i.dD)("data-v-a2f426de"),e=e(),(0,i.Cn)(),e},l={class:"main-container"},r={class:"profile-edit-section"},a={class:"row"},c={class:"col"},u={class:"row user-section"},d={class:"col"},p={class:"user-name"},f={class:"row user-section"},m={class:"col"},h=s((function(){return(0,i._)("span",{class:"user-name"}," Cover photo/video ",-1)})),g={class:"row"},v={class:"col"},C=s((function(){return(0,i._)("span",{class:"banner-image"}," Upload Image ",-1)})),k=["innerHTML"],b={key:1},y={style:{"margin-top":"1rem"}},w={class:"text-h6 col-md-6"},_={key:0},D={key:1},W={class:"text-h6 col-md-6 close"},R={class:"row"},P={class:"text-h6 col",style:{"text-align":"center"}},x={key:0},U=s((function(){return(0,i._)("span",null,"recipe",-1)})),M={key:1},V=s((function(){return(0,i._)("span",null,"recipe",-1)})),S={class:"flex flex-center more-info-item"},q=s((function(){return(0,i._)("div",{class:"text-h6 col-md-6"},[(0,i._)("b",null,"Updated")],-1)})),Z={class:"text-h6 col-md-6 close"},T={class:"row"},I={class:"text-h6 col",style:{"text-align":"center"}},B=s((function(){return(0,i._)("p",null,[(0,i.Uk)(" Your "),(0,i._)("span",null,"Recipe"),(0,i.Uk)(" has been updated successfully. ")],-1)})),Q={class:"flex flex-center more-info-item"},L={class:"row items-center no-wrap",style:{"margin-bottom":"30px"}},$={class:"col"},F=s((function(){return(0,i._)("div",{class:"text-h6"},[(0,i.Uk)("Delete "),(0,i._)("span",null,"Recipe")],-1)})),H=s((function(){return(0,i._)("p",{class:"col-12"},[(0,i.Uk)(" Are you sure you want to delete this "),(0,i._)("span",null,"recipe"),(0,i.Uk)("? ")],-1)})),K={class:"col-12 text-center"},O={class:"row"},A={class:"col-6 text-center"},j={class:"col-6 text-center"};function E(e,t,o,s,E,Y){var N=(0,i.up)("q-input"),z=(0,i.up)("q-select"),G=(0,i.up)("q-img"),J=(0,i.up)("q-btn"),X=(0,i.up)("q-icon"),ee=(0,i.up)("q-form"),te=(0,i.up)("BlogAction"),oe=(0,i.up)("q-dialog"),ie=(0,i.up)("q-space"),ne=(0,i.up)("q-card-section"),se=(0,i.up)("q-card"),le=(0,i.up)("q-page"),re=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(le,{class:"flex-center",style:{"background-color":"white"}},{default:(0,i.w5)((function(){return[(0,i._)("div",l,[(0,i._)("div",r,[(0,i._)("div",a,[(0,i._)("div",c,[(0,i.Wm)(ee,{class:"q-gutter-md"},{default:(0,i.w5)((function(){return[(0,i._)("div",u,[(0,i._)("div",d,[(0,i._)("span",p,[(0,i.Wm)(N,{modelValue:E.form.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return E.form.title=e}),label:"Title","stack-label":""},null,8,["modelValue"])]),(0,i.Wm)(z,{modelValue:E.form.categories,"onUpdate:modelValue":t[1]||(t[1]=function(e){return E.form.categories=e}),options:e.recipesCategory,"emit-value":"","map-options":"",label:"Category",multiple:"",class:"q-my-md","option-value":function(e){return e.id},"option-label":function(e){return e.Name}},null,8,["modelValue","options","option-value","option-label"]),(0,i._)("div",f,[(0,i._)("div",m,[h,(0,i._)("div",g,[(0,i._)("div",v,[null!=E.form.coverPhoto?((0,i.wg)(),(0,i.j4)(G,{key:0,src:"".concat(E.form.coverPhoto),"spinner-color":"white",style:{"max-height":"280px","max-width":"100%"}},null,8,["src"])):(0,i.kq)("",!0),(0,i._)("div",{style:{"max-width":"100%",height:"46px",padding:"5px 5px",border:"1px #6B7BC7 dotted","text-align":"center"},class:"fileupload",onClick:t[3]||(t[3]=function(t){return e.$refs.file.click()})},[(0,i._)("input",{type:"file",ref:"file",style:{display:"none"},onChange:t[2]||(t[2]=function(){return Y.onFileChange&&Y.onFileChange.apply(Y,arguments)}),accept:["image/*"]},null,544),(0,i.Wm)(J,{class:"img-icon",icon:"app:upload-img",flat:"",round:"",dense:""}),C])])])])]),E.form.content?((0,i.wg)(),(0,i.iD)("div",{key:0,innerHTML:E.form.content,class:"content",onClick:t[4]||(t[4]=function(){return Y.startCreatePost&&Y.startCreatePost.apply(Y,arguments)})},null,8,k)):((0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",y,[(0,i.Wm)(J,{outline:"",style:{height:"70px",width:"100% !important"},align:"left","no-caps":"",onClick:Y.startCreatePost,label:"Start creating your post..."},null,8,["onClick"])])])),(0,i.Wm)(z,{label:"Labels",modelValue:E.form.label,"onUpdate:modelValue":t[5]||(t[5]=function(e){return E.form.label=e}),"use-chips":"",multiple:"",options:E.allKeywords,"option-value":function(e){return e.value},"option-label":function(e){return e.label},style:{width:"100% !important"},"emit-value":"","map-options":""},{append:(0,i.w5)((function(){return[(0,i.Wm)(X,{name:"app:question-mark"})]})),_:1},8,["modelValue","options","option-value","option-label"])])])]})),_:1})])])]),(0,i.Wm)(oe,{modelValue:E.saveDraftDialog,"onUpdate:modelValue":t[6]||(t[6]=function(e){return E.saveDraftDialog=e}),position:"bottom"},{default:(0,i.w5)((function(){return[(0,i.Wm)(te,{isForVlog:!1,onClickedSelectedOption:Y.clickedSelectedOptionModal},null,8,["onClickedSelectedOption"])]})),_:1},8,["modelValue"])]),(0,i.Wm)(oe,{modelValue:E.successfulModal,"onUpdate:modelValue":t[7]||(t[7]=function(e){return E.successfulModal=e})},{default:(0,i.w5)((function(){return[(0,i.Wm)(se,{class:"popup"},{default:(0,i.w5)((function(){return[(0,i.Wm)(ne,{class:"row items-center q-pb-none"},{default:(0,i.w5)((function(){return[(0,i._)("div",w,["Published"===E.recipeMessageType?((0,i.wg)(),(0,i.iD)("b",_,"Published")):((0,i.wg)(),(0,i.iD)("b",D,"Save as Draft"))]),(0,i.Wm)(ie),(0,i._)("div",W,[(0,i.wy)((0,i.Wm)(J,{icon:"close",onClick:Y.goToUserRecipesList,flat:"",round:"",dense:""},null,8,["onClick"]),[[re]])])]})),_:1}),(0,i._)("div",R,[(0,i._)("div",P,[(0,i.Wm)(X,{name:"app:successful",class:"success col-md-12"})])]),(0,i.Wm)(ne,{class:"success-msg"},{default:(0,i.w5)((function(){return["Published"===E.recipeMessageType?((0,i.wg)(),(0,i.iD)("p",x,[(0,i.Uk)(" Your "),U,(0,i.Uk)(" is published successfully. ")])):((0,i.wg)(),(0,i.iD)("p",M,[(0,i.Uk)(" Your "),V,(0,i.Uk)(" has been successfully saved as a "+(0,n.zw)(E.recipeMessageType)+". ",1)]))]})),_:1}),(0,i._)("div",S,[(0,i.Wm)(J,{color:"primary",onClick:Y.goToUserRecipesList,label:"Done",rounded:"","no-caps":""},null,8,["onClick"])])]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)(oe,{modelValue:E.updateModal,"onUpdate:modelValue":t[8]||(t[8]=function(e){return E.updateModal=e})},{default:(0,i.w5)((function(){return[(0,i.Wm)(se,{class:"popup"},{default:(0,i.w5)((function(){return[(0,i.Wm)(ne,{class:"row items-center q-pb-none"},{default:(0,i.w5)((function(){return[q,(0,i.Wm)(ie),(0,i._)("div",Z,[(0,i.wy)((0,i.Wm)(J,{icon:"close",onClick:Y.goToUserRecipesList,flat:"",round:"",dense:""},null,8,["onClick"]),[[re]])])]})),_:1}),(0,i._)("div",T,[(0,i._)("div",I,[(0,i.Wm)(X,{name:"app:successful",class:"success col-md-12"})])]),(0,i.Wm)(ne,{class:"success-msg"},{default:(0,i.w5)((function(){return[B]})),_:1}),(0,i._)("div",Q,[(0,i.Wm)(J,{color:"primary",onClick:Y.goToUserRecipesList,label:"Done",rounded:"","no-caps":""},null,8,["onClick"])])]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)(oe,{modelValue:E.recipeDeleteModel,"onUpdate:modelValue":t[11]||(t[11]=function(e){return E.recipeDeleteModel=e}),position:"bottom"},{default:(0,i.w5)((function(){return[(0,i.Wm)(se,{class:"roundedNewsFeed"},{default:(0,i.w5)((function(){return[(0,i._)("div",L,[(0,i._)("div",$,[(0,i.Wm)(ne,{class:"row items-center q-pb-none"},{default:(0,i.w5)((function(){return[F,(0,i.Wm)(ie),(0,i.wy)((0,i.Wm)(J,{icon:"close",flat:"",round:"",dense:""},null,512),[[re]])]})),_:1}),(0,i.Wm)(ne,{class:"row items-center q-pb-none"},{default:(0,i.w5)((function(){return[H]})),_:1}),(0,i._)("div",K,[(0,i._)("div",O,[(0,i._)("div",A,[(0,i.Wm)(J,{label:"Cancel",class:"button default-button","no-caps":"",outline:"",color:"primary",style:{color:"#000000",width:"90%"},onClick:t[9]||(t[9]=function(e){return Y.deleteConfirmationChoice("cancel")})})]),(0,i._)("div",j,[(0,i.Wm)(J,{color:"primary",style:{width:"90%"},label:"Confirm",class:"button default-button","no-caps":"",onClick:t[10]||(t[10]=function(e){return Y.deleteConfirmationChoice("confirm")})})])])])])])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})}var Y=o(46264),N=o.n(Y),z=(o(58665),o(46727),o(3452),o(69665),o(33100)),G=o(6827),J=o(27643),X={name:"CreateEditRecipe",data:function(){return{form:{id:0,title:"",content:"",label:null,coverPhoto:null,categories:[]},recipeCoverPhoto:null,recipeMessageType:"Published",successfulModal:!1,saveDraftDialog:!1,allKeywords:[],updateModal:!1,recipeDeleteModel:!1}},components:{BlogAction:J.Z},created:function(){this.$emitter.on("headerRightIcon1Click",this.openSaveDialog),this.$emitter.on("headerBackButtonClick",this.backButtonClick)},beforeUnmount:function(){this.$emitter.off("headerRightIcon1Click",this.openSaveDialog),this.$emitter.off("headerBackButtonClick",this.backButtonClick)},computed:N()(N()({},(0,z.Se)("userprofile",["userDetails"])),(0,z.Se)("recipe",["recipe","recipes","CreateRecipe","keywords","recipesCategory"])),mounted:function(){var e=this;this.setHeaderData(!1,!0,"Create Recipe","three-dots-icon",!1,"",!1,!1),this.fetchKeywords().then((function(){e.allKeywords=e.keywords,e.filterOptions=e.keywords})),null!==this.CreateRecipe&&(this.form=Object.assign({},this.CreateRecipe),this.setHeaderData(!1,!0,0!==this.form.id?"Edit Recipe":"Create Recipe","three-dots-icon",!1,"",!1,!1),this.recipeCoverPhoto=this.CreateRecipe.recipeCoverPhoto),this.fetchRecipesCategory()},methods:N()(N()(N()({},(0,z.nv)("recipe",["postRecipe","storeContent","fetchKeywords","fetchRecipesCategory","putRecipe","deleteRecipe"])),(0,z.nv)("header",["setHeader"])),{},{setHeaderData:function(e,t,o,i,n,s,l,r){this.setHeader({hamburgerIcon:e,backIcon:t,title:o,rightIcon1:i,rightIcon2:n,rightLinkText:s,notificationIcon:l,searchIcon:r})},saveRecipe:function(e){var t=this;""!==this.form.title||"Submitted"!==e?null!==this.form.coverPhoto||"Submitted"!==e?0!==this.form.categories.length||"Submitted"!==e?(e||(e="Submitted"),this.recipeMessageType=e,this.form.categories.includes(1)||this.form.categories.push(1),0===parseInt(this.form.id)?this.postRecipe({user:this.userDetails.userprofile.id,form:this.form,status:e,file:this.recipeCoverPhoto}).then((function(e){t.successfulModal=!0})):this.putRecipe({user:this.userDetails.userprofile.id,form:this.form,file:this.recipeCoverPhoto,status:e}).then((function(e){t.updateModal=!0}))):G.Z.create({progress:!0,message:"Please select at least one category",type:"negative"}):G.Z.create({progress:!0,message:"Please Add Cover Photo",type:"negative"}):G.Z.create({progress:!0,message:"Please Add Title",type:"negative"})},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.recipeCoverPhoto=t[0],"image"===t[0].type.split("/")[0]?this.createImage(t[0]):(this.recipeCoverPhoto=null,G.Z.create({progress:!0,message:"Please select image",type:"negative"})))},createImage:function(e){var t=this,o=new FileReader;o.onload=function(e){t.form.coverPhoto=e.target.result},o.readAsDataURL(e)},openSaveDialog:function(){this.saveDraftDialog=!0},action:function(e){this.$emit("clicked-selected-Option",e)},clickedSelectedOptionModal:function(e){switch(e){case"Edit":this.startCreatePost();break;case"Submit":this.saveRecipe("Submitted");break;case"Draft":this.saveRecipe("Drafts");break;case"Delete":this.recipeDeleteModel=!0;break;case"Discard":this.saveDraftDialog=!1,this.form.id=0,this.form.title="",this.form.content="",this.form.label=null,this.form.coverPhoto=null,this.recipeCoverPhoto=null;break}},backButtonClick:function(){this.$router.push("dashboard")},startCreatePost:function(){var e=this;this.storeContent({form:this.form,file:this.recipeCoverPhoto}).then((function(){e.$router.push("create-edit-recipe-detail")}))},goToUserRecipesList:function(){this.$router.push({name:"user-recipes",params:{tab:this.recipeMessageType}})},deleteConfirmationChoice:function(e){var t=this;"confirm"===e?this.deleteRecipe(parseInt(this.form.id)).then((function(){t.recipeDeleteModel=!1,G.Z.create({progress:!0,message:"Recipe Deleted Successfully",type:"positive"}),t.goToUserRecipesList()})):this.recipeDeleteModel=!1}})},ee=o(11639),te=o(69885),oe=o(8326),ie=o(13119),ne=o(32259),se=o(91487),le=o(68879),re=o(22857),ae=o(32074),ce=o(44458),ue=o(63190),de=o(90136),pe=o(62146),fe=o(69984),me=o.n(fe);const he=(0,ee.Z)(X,[["render",E],["__scopeId","data-v-a2f426de"]]);var ge=he;me()(X,"components",{QPage:te.Z,QForm:oe.Z,QInput:ie.Z,QSelect:ne.Z,QImg:se.Z,QBtn:le.Z,QIcon:re.Z,QDialog:ae.Z,QCard:ce.Z,QCardSection:ue.Z,QSpace:de.Z}),me()(X,"directives",{ClosePopup:pe.Z})}}]);