"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[9669],{16446:function(e,t,o){o.r(t),o.d(t,{default:function(){return ye}});var n=o(59835),l=o(86970),i=function(e){return(0,n.dD)("data-v-4956e34a"),e=e(),(0,n.Cn)(),e},r={class:"q-gutter-y-md",style:{width:"100%"}},s=["src","poster"],u={key:0,class:"row items-center no-wrap"},a={class:"col"},c=["src"],d={key:0,class:"col-auto"},f={class:"text-h5 q-mt-sm q-mb-xs blog-title"},m=["innerHTML"],p=i((function(){return(0,n._)("span",{class:"action post-interaction-text"},"Like",-1)})),h=i((function(){return(0,n._)("span",{class:"action post-interaction-text"},"Comment",-1)})),g=i((function(){return(0,n._)("span",{class:"action post-interaction-text"},"Share",-1)})),k=i((function(){return(0,n._)("div",{class:"text-h5 q-mt-sm q-mb-xs"},"Comment",-1)})),w=["src"],b=["src"],v={class:"row justify-center"},C=["onClick"],_={class:"subtitle"},y={key:0},W={class:"row"},B={class:"col"},q=i((function(){return(0,n._)("p",{class:"comment",style:{display:"inline-block","word-break":"break-word"}},null,-1)})),D=["src"],I=i((function(){return(0,n._)("div",{class:"text-h5 q-mt-sm q-mb-xs"},"Related Posts",-1)})),x={class:"q-pa-md mostReadSection",style:{"padding-top":"0px !important"}},A={class:"favorite-pic-section"},M={class:"row no-wrap item-section"},P=["onClick"],S={class:"appStar"},$=i((function(){return(0,n._)("div",{class:"text-h6"},"Delete comment",-1)})),V=i((function(){return(0,n._)("span",{class:"q-ml-sm"},"Deleting the comment will remove it from the conversation",-1)})),Z={id:"image-box",ref:"fullscreenElement"};function T(e,t,o,i,T,z){var L=(0,n.up)("q-tab"),O=(0,n.up)("q-tabs"),Q=(0,n.up)("q-separator"),j=(0,n.up)("q-img"),U=(0,n.up)("q-avatar"),F=(0,n.up)("q-item-section"),R=(0,n.up)("q-item-label"),H=(0,n.up)("q-card-section"),E=(0,n.up)("q-btn"),N=(0,n.up)("q-card-actions"),K=(0,n.up)("q-card"),Y=(0,n.up)("q-input"),G=(0,n.up)("q-icon"),J=(0,n.up)("q-item"),X=(0,n.up)("q-list"),ee=(0,n.up)("q-menu"),te=(0,n.up)("truncate"),oe=(0,n.up)("q-intersection"),ne=(0,n.up)("q-scroll-area"),le=(0,n.up)("q-dialog"),ie=(0,n.up)("FullScreen"),re=(0,n.up)("BlogVlogOption"),se=(0,n.up)("DeletePostWarning"),ue=(0,n.up)("ShareAction"),ae=(0,n.up)("q-page"),ce=(0,n.Q2)("close-popup");return e.blog?((0,n.wg)(),(0,n.j4)(ae,{key:0,class:"flex blog-page"},{default:(0,n.w5)((function(){return[(0,n._)("div",r,[(0,n.Wm)(K,{class:"my-card",flat:"",bordered:""},{default:(0,n.w5)((function(){return[e.blog.IsVlog?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(O,{key:0,modelValue:T.tab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return T.tab=e}),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.blogCategory,(function(e){return(0,n.wg)(),(0,n.j4)(L,{"no-caps":"",onClick:function(t){return z.goToblogs(e.Name)},key:e.id,name:e.Name,label:e.Name},null,8,["onClick","name","label"])})),128))]})),_:1},8,["modelValue"])),(0,n.Wm)(Q),e.blog.CoverPhoto&&z.isImagePost(e.blog.CoverPhoto.mime)?((0,n.wg)(),(0,n.j4)(j,{key:1,src:z.getImageurl(e.blog.CoverPhoto.url),onClick:t[1]||(t[1]=function(t){return z.oneClick(e.blog)})},null,8,["src"])):e.blog.CoverPhoto&&!1===z.isImagePost(e.blog.CoverPhoto.mime)?((0,n.wg)(),(0,n.iD)("video",{key:2,src:e.blog.CoverPhoto.url,class:"video-player",controls:"",controlsList:"nodownload",poster:!!e.blog.PosterImage&&e.blog.PosterImage.url,preload:"none"},null,8,s)):(0,n.kq)("",!0),(0,n.Wm)(H,null,{default:(0,n.w5)((function(){return[e.blog.userprofile?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",a,[(0,n.Wm)(H,{horizontal:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{avatar:"",class:"avatar-section"},{default:(0,n.w5)((function(){return[e.blog.userprofile.avatar?((0,n.wg)(),(0,n.j4)(U,{key:0,size:"34px"},{default:(0,n.w5)((function(){return[(0,n._)("img",{src:"".concat(e.blog.userprofile.avatar.url)},null,8,c)]})),_:1})):e.blog.userprofile.firstname?((0,n.wg)(),(0,n.j4)(U,{key:1,size:"34px",color:"primary","text-color":"white"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(e.blog.userprofile.firstname.charAt(0)),1)]})),_:1})):e.blog.userprofile.username?((0,n.wg)(),(0,n.j4)(U,{key:2,size:"34px",color:"primary","text-color":"white"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(e.blog.userprofile.username.charAt(0)),1)]})),_:1})):(0,n.kq)("",!0)]})),_:1}),(0,n.Wm)(F,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(R,{class:"title",onClick:t[2]||(t[2]=function(t){return z.goToProfile(parseInt(e.blog.userprofile.id))})},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(e.blog.userprofile.firstname)+" "+(0,l.zw)(e.blog.userprofile.lastname),1)]})),_:1}),(0,n.Wm)(R,{caption:"",class:"subtitle"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(z.formatDate(e.blog.created_at)),1)]})),_:1})]})),_:1})]})),_:1})]),parseInt(e.blog.userprofile.id)===parseInt(e.userDetails.userprofile.id)&&"Published"!==e.blog.Status&&"Unpublished"!==e.blog.Status?((0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(E,{color:" grey-7",round:"",flat:"",icon:"app:three-dots",onClick:t[3]||(t[3]=function(e){return z.openBlogVlogOptionModel()})})])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),(0,n._)("div",f,(0,l.zw)(e.blog.Title),1),(0,n._)("div",{class:"text-caption blog-description",innerHTML:e.blog.Content},null,8,m)]})),_:1}),(0,n.Wm)(N,{class:"icons",align:"between"},{default:(0,n.w5)((function(){return[(0,n._)("div",null,[(0,n.Wm)(E,{flat:"",icon:z.likeColour(),"no-caps":"",disabled:T.likeActionReq,onClick:t[4]||(t[4]=function(t){return z.setLikeForBlog(parseInt(e.blog.id))}),class:"post-actions q-mr-md like-interaction-icon"},{default:(0,n.w5)((function(){return[p]})),_:1},8,["icon","disabled"]),(0,n.Wm)(E,{flat:"",icon:"app:comment-vector",onClick:t[5]||(t[5]=function(t){return z.blogComment(e.blog.id)}),"no-caps":"",class:"post-actions comment-interaction-icon"},{default:(0,n.w5)((function(){return[h]})),_:1})]),(0,n.Wm)(E,{flat:"",icon:"app:share-vector","no-caps":"",class:"post-actions share-interaction-icon",onClick:t[6]||(t[6]=function(t){return z.shareNewsfeed(e.blog)})},{default:(0,n.w5)((function(){return[g]})),_:1})]})),_:1}),e.blog.bloglikes?((0,n.wg)(),(0,n.j4)(N,{key:3,align:"between",class:"post-like-comment-info"},{default:(0,n.w5)((function(){return[(0,n.Wm)(R,{class:"q-mt-none"},{default:(0,n.w5)((function(){return[(0,n.Uk)(" Liked by "+(0,l.zw)(e.blog.bloglikes.length),1)]})),_:1}),(0,n.Wm)(R,{class:"comment-count"},{default:(0,n.w5)((function(){return[(0,n.Uk)(" Comments ("+(0,l.zw)(e.blog.blog_comments.length)+") ",1)]})),_:1})]})),_:1})):(0,n.kq)("",!0)]})),_:1})]),(0,n.Wm)(K,{class:"my-card",flat:"",bordered:"",style:{width:"100%"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(H,null,{default:(0,n.w5)((function(){return[k]})),_:1}),(0,n.Wm)(H,{class:"comment-input",style:{width:"100%"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(Y,{rounded:"",outlined:"",modelValue:T.commentText,"onUpdate:modelValue":t[8]||(t[8]=function(e){return T.commentText=e}),placeholder:"Add a comment",dense:T.dense},{before:(0,n.w5)((function(){return[null!=e.userprofileDetail&&null!=e.userprofileDetail.avatar?((0,n.wg)(),(0,n.j4)(U,{key:0,size:"34px"},{default:(0,n.w5)((function(){return[(0,n._)("img",{src:"".concat(e.userprofileDetail.avatar.url)},null,8,w)]})),_:1})):((0,n.wg)(),(0,n.j4)(U,{key:1,size:"34px",color:"primary","text-color":"white"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(e.userDetails.userprofile.firstname.charAt(0)),1)]})),_:1}))]})),default:(0,n.w5)((function(){return[(0,n.Wm)(E,{round:"",dense:"",flat:"",icon:"app:send-comment-vector",onClick:t[7]||(t[7]=function(e){return z.postBlogComment()}),disable:0==T.commentText.length,style:{color:"#6B7BC7"}},null,8,["disable"])]})),_:1},8,["modelValue","dense"])]})),_:1})]})),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.blog.blog_comments,(function(o){return(0,n.wg)(),(0,n.j4)(oe,{transition:"scale",once:"",key:o.id},{default:(0,n.w5)((function(){return[(0,n.Wm)(H,{horizontal:""},{default:(0,n.w5)((function(){return[!1!==T.edit||null!==T.selectedComment&&T.selectedComment.id!==o.id?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(H,{key:0},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{avatar:"",class:"avatar-section"},{default:(0,n.w5)((function(){return[null!=o.userprofile.avatar?((0,n.wg)(),(0,n.j4)(U,{key:0,size:"34px"},{default:(0,n.w5)((function(){return[(0,n._)("img",{src:"".concat(o.userprofile.avatar.url)},null,8,b)]})),_:2},1024)):((0,n.wg)(),(0,n.j4)(U,{key:1,size:"34px",color:"primary","text-color":"white"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(o.userprofile.firstname.charAt(0)),1)]})),_:2},1024))]})),_:2},1024)]})),_:2},1024)),!1!==T.edit||null!==T.selectedComment&&T.selectedComment.id!==o.id?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(H,{key:1,class:"comment-section"},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,null,{default:(0,n.w5)((function(){return[(0,n._)("div",v,[(0,n._)("div",{class:"title col",onClick:function(e){return z.goToProfile(parseInt(o.userprofile.id))}},(0,l.zw)(o.userprofile.firstname)+" "+(0,l.zw)(o.userprofile.lastname),9,C),(0,n._)("div",_,"("+(0,l.zw)(z.formatDate(o.created_at))+")",1),parseInt(o.userprofile.id)===e.userprofileDetail.id?((0,n.wg)(),(0,n.iD)("div",y,[(0,n.Wm)(E,{color:"grey-7",round:"",flat:"",icon:"app:three-dot-action",size:"8px"},{default:(0,n.w5)((function(){return[(0,n.Wm)(ee,{cover:"","auto-close":""},{default:(0,n.w5)((function(){return[(0,n.Wm)(X,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(J,{clickable:"",onClick:function(e){return z.editComment(o),T.edit=!0}},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{avatar:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(G,{name:"create"})]})),_:1}),(0,n.Wm)(F,null,{default:(0,n.w5)((function(){return[(0,n.Uk)("Edit Comment")]})),_:1})]})),_:2},1032,["onClick"]),(0,n.Wm)(J,{clickable:"",onClick:function(e){return z.editComment(o),T.confirm=!0}},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,{avatar:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(G,{name:"delete"})]})),_:1}),(0,n.Wm)(F,null,{default:(0,n.w5)((function(){return[(0,n.Uk)("Delete Comment")]})),_:1})]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)])):(0,n.kq)("",!0)]),(0,n._)("div",W,[(0,n._)("div",B,[(0,n.Wm)(te,{class:"comment",clamp:"...See More",type:"text",length:60,less:"Show Less",text:o.comment,"action-class":"collapsedText"},null,8,["text"]),q])])]})),_:2},1024)]})),_:2},1024)),parseInt(o.userprofile.id)===e.userprofileDetail.id&&!0===T.edit&&null!=T.selectedComment&&T.selectedComment.id===o.id?((0,n.wg)(),(0,n.j4)(H,{key:2,class:"comment-input",style:{width:"100%","margin-top":"10px"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(F,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(Y,{rounded:"",outlined:"",modelValue:T.selectedComment.comment,"onUpdate:modelValue":t[10]||(t[10]=function(e){return T.selectedComment.comment=e}),placeholder:"Write a Message",dense:T.dense},{before:(0,n.w5)((function(){return[null!=e.userprofileDetail&&null!=e.userprofileDetail.avatar?((0,n.wg)(),(0,n.j4)(U,{key:0,size:"34px"},{default:(0,n.w5)((function(){return[(0,n._)("img",{src:"".concat(e.userprofileDetail.avatar.url)},null,8,D)]})),_:1})):((0,n.wg)(),(0,n.j4)(U,{key:1,size:"34px",color:"primary","text-color":"white"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(e.userDetails.userprofile.firstname.charAt(0)),1)]})),_:1}))]})),after:(0,n.w5)((function(){return[(0,n.Wm)(G,{name:"close",onClick:z.resetEdit,class:"cursor-pointer"},null,8,["onClick"]),(0,n.Wm)(E,{round:"",dense:"",flat:"",icon:"send",onClick:t[9]||(t[9]=function(e){return z.putBlogComment()}),style:{color:"#6B7BC7"}})]})),_:1},8,["modelValue","dense"])]})),_:1})]})),_:1})):(0,n.kq)("",!0)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),z.relatedBlogs().length&&!e.blog.IsVlog?((0,n.wg)(),(0,n.j4)(K,{key:0,class:"my-card",flat:"",bordered:"",style:{width:"100%"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(H,null,{default:(0,n.w5)((function(){return[I]})),_:1}),(0,n._)("div",x,[(0,n._)("div",A,[(0,n.Wm)(ne,{class:"scroll"},{default:(0,n.w5)((function(){return[(0,n._)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(z.relatedBlogs(),(function(e){return(0,n.wg)(),(0,n.iD)("div",{class:"item",key:e.id},[(0,n.Wm)(j,{class:"blog-image",src:z.getImageurl(e.CoverPhoto.url),onClick:function(t){return z.goToBlog(e.id)}},null,8,["src","onClick"]),(0,n._)("div",{class:"BMiCal",onClick:function(t){return z.goToBlog(e.id)}},(0,l.zw)(e.Title),9,P),(0,n._)("div",S,(0,l.zw)(e.blog_comments.length)+" Comments",1)])})),128))])]})),_:1})])])]})),_:1})):(0,n.kq)("",!0),(0,n.Wm)(le,{modelValue:T.confirm,"onUpdate:modelValue":t[11]||(t[11]=function(e){return T.confirm=e}),persistent:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(K,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(H,{class:"row items-center"},{default:(0,n.w5)((function(){return[$]})),_:1}),(0,n.Wm)(H,{class:"row items-center"},{default:(0,n.w5)((function(){return[V]})),_:1}),(0,n.Wm)(N,{align:"right"},{default:(0,n.w5)((function(){return[(0,n.wy)((0,n.Wm)(E,{flat:"",label:"Cancel"},null,512),[[ce]]),(0,n.wy)((0,n.Wm)(E,{flat:"",label:"Delete",onClick:z.deleteComment},null,8,["onClick"]),[[ce]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,n._)("div",Z,[(0,n.Wm)(ie,{details:T.fullscreendata,likeActionReq:T.likeActionReq},null,8,["details","likeActionReq"])],512),(0,n.Wm)(le,{modelValue:T.postOptionModel,"onUpdate:modelValue":t[12]||(t[12]=function(e){return T.postOptionModel=e}),position:"bottom"},{default:(0,n.w5)((function(){return[(0,n.Wm)(re,{isMyProfilePost:T.isMyPost,onClickedSelectedOption:z.clickedSelectedOptionModal},null,8,["isMyProfilePost","onClickedSelectedOption"])]})),_:1},8,["modelValue"]),(0,n.Wm)(le,{modelValue:T.postWarningModal,"onUpdate:modelValue":t[13]||(t[13]=function(e){return T.postWarningModal=e}),position:"bottom"},{default:(0,n.w5)((function(){return[(0,n.Wm)(se,{postType:T.postType,onDeleteSelectedOption:z.deleteSelectedOption},null,8,["postType","onDeleteSelectedOption"])]})),_:1},8,["modelValue"]),(0,n.Wm)(le,{modelValue:T.shareActionModel,"onUpdate:modelValue":t[14]||(t[14]=function(e){return T.shareActionModel=e}),position:"bottom"},{default:(0,n.w5)((function(){return[(0,n.Wm)(ue,{sharePost:T.sharePostId,isBlogPost:!0,isRecipePost:!1,postOwner:T.postOwner},null,8,["sharePost","postOwner"])]})),_:1},8,["modelValue"])]})),_:1})):(0,n.kq)("",!0)}var z=o(46264),L=o.n(z),O=(o(51393),o(56072),o(65716),o(69665),o(18381),o(58665),o(62590),o(4376)),Q=o(6827),j=o(33100),U=o(79736),F=o(72370),R=o(80156),H=o(85541),E=o(31551),N={name:"Blog",computed:L()(L()(L()({},(0,j.Se)("userprofile",["userDetails","userprofileDetail"])),(0,j.Se)("blog",["blog","blogCategory","blogs"])),(0,j.Se)("config",["blobBaseUrl"])),created:function(){this.$emitter.on("footerAddIconClick",this.showAddNewsFeedModel),this.$emitter.on("headerRightIcon2Click",this.gotoSearch),this.$emitter.on("headerBackButtonClick",this.backButtonClick),this.$emitter.on("onlikeClick",this.setLikeForBlog),this.$emitter.on("onsetSelectedClick",this.blogComment),this.$emitter.on("onformatDateClick",this.formatDate),this.$emitter.on("onExitFullscreen",this.closeFullScreen)},beforeUnmount:function(){this.$emitter.off("footerAddIconClick",this.showAddNewsFeedModel),this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("headerRightIcon2Click",this.gotoSearch),this.$emitter.off("onsetSelectedClick",this.blogComment),this.$emitter.off("onformatDateClick",this.formatDate),this.$emitter.off("onExitFullscreen",this.closeFullScreen)},mounted:function(){var e,t;this.$auth.isAuthenticated(),this.setHeaderData(!1,!0,"Blog Article","","","",!1,!1),this.fetchBlog(null===(e=this.$route)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.id),this.fetchBlogs(!1)},data:function(){return{tab:"",slide:1,autoplay:!0,commentText:"",ph:"",dense:!1,selectedComment:null,confirm:!1,edit:!1,fullscreendata:{url:null,hideBack:!0,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:""},delay:700,clicks:0,timer:null,postOptionModel:!1,postWarningModal:!1,isMyPost:!1,postType:"blog",shareActionModel:!1,sharePostId:null,postOwner:null,likeActionReq:!1}},components:{truncate:U.Z,FullScreen:F.Z,DeletePostWarning:R.Z,BlogVlogOption:H.Z,ShareAction:E.Z},watch:{"$route.query.id":function(e){e&&this.fetchBlog(e)}},methods:L()(L()(L()({},(0,j.nv)("header",["setHeader"])),(0,j.nv)("blog",["fetchBlog","fetchBlogs","postBlogComments","putBlogComments","deleteBlogComments","postBlogLikes","deleteBlogLikes","deleteBlog"])),{},{setHeaderData:function(e,t,o,n,l,i,r,s){this.setHeader({hamburgerIcon:e,backIcon:t,title:o,rightIcon1:n,rightIcon2:l,rightLinkText:i,notificationIcon:r,searchIcon:s})},truncate:function(e,t,o){return e.length>t?e.substring(0,t)+o:e},relatedBlogs:function(){var e=this,t=this.blog&&this.blog.blog_categories&&this.blog.blog_categories.map((function(e){return e.id})),o=this.blogs&&this.blogs.filter((function(o){var n,l=(null===o||void 0===o||null===(n=o.blog_categories)||void 0===n?void 0:n.some((function(e){return null===t||void 0===t?void 0:t.some((function(t){return t===e.id}))})))&&o.id!==e.blog.id;return l}));return o},setLikeForBlog:function(e){var t,o,n,l=this;if(!this.$auth.isAuthenticated())return this.$router.push("/welcome"),!1;if(this.likeActionReq=!0,null===(null===(t=this.userDetails)||void 0===t?void 0:t.verification)||"Approved"!==(null===(o=this.userDetails)||void 0===o||null===(n=o.verification)||void 0===n?void 0:n.status))return this.verifcationStatusModal=!0,this.likeActionReq=!1,!1;var i=this.blog.bloglikes.find((function(e){return parseInt(e.userprofile.id)===l.userprofileDetail.id}));void 0===i?this.postBlogLikes({userprofileId:this.userprofileDetail.id,blogId:e}).then((function(){l.fetchBlog(e).then((function(){l.fullscreendata.likeIcon=l.likeColour(),l.fullscreendata.likeLength=l.blog.bloglikes.length,l.likeActionReq=!1}))})):this.deleteBlogLikes({blogLikeId:i.id}).then((function(){l.fetchBlog(e).then((function(){l.fullscreendata.likeIcon=l.likeColour(),l.fullscreendata.likeLength=l.blog.bloglikes.length,l.likeActionReq=!1}))}))},likeColour:function(){var e=this;if(!this.blog.bloglikes)return"app:like-vector";var t=this.blog.bloglikes.find((function(t){var o;return parseInt((null===t||void 0===t||null===(o=t.userprofile)||void 0===o?void 0:o.id)||0)===e.userprofileDetail.id}));return void 0!==t?"app:like-filled-vector":"app:like-vector"},formatDate:function(e){return O.ZP.formatDate(e,"DD MMM")+" at "+O.ZP.formatDate(e,"hh.mm A")},editComment:function(e){this.selectedComment=Object.assign({},e)},postBlogComment:function(){var e=this;this.postBlogComments({comment:this.commentText,blogId:this.$route.query.id,userprofile:this.userprofileDetail.id}).then((function(){e.commentText="",e.fetchBlog(e.$route.query.id)}))},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen();var e=document.getElementById("image-box");e.setAttribute("style","display:none;"),this.fullscreendata.hideBack=!0}},getfullScreen:function(e){this.fullscreendata.hideBack=!1,this.fullscreendata.url=e.CoverPhoto.url,this.fullscreendata.name=e.userprofile?e.userprofile.firstname+" "+e.userprofile.lastname:null,this.fullscreendata.feedtext=e.Content,this.fullscreendata.created_at=e.created_at,this.fullscreendata.likeLength=e.bloglikes.length,this.fullscreendata.commentLength=e.blog_comments.length,this.fullscreendata.id=parseInt(e.id),this.fullscreendata.likeIcon=this.likeColour();var t=document.getElementById("image-box");t.setAttribute("style","display:flex;");var o=this.$refs.fullscreenElement;this.$q.fullscreen.toggle(o).then((function(){})).catch((function(e){alert(e)}))},resetEdit:function(){this.selectedComment=null,this.edit=!1},putBlogComment:function(){var e=this;this.putBlogComments(this.selectedComment).then((function(){e.selectedComment=null,e.edit=!1,e.fetchBlog(e.$route.query.id)}))},deleteComment:function(){var e=this;this.deleteBlogComments(this.selectedComment.id).then((function(){e.selectedComment=null,e.fetchBlog(e.$route.query.id)}))},backButtonClick:function(){this.$router.push("/blogs/Home")},goToBlog:function(e){this.$router.push({path:"/blog",query:{id:e}})},blogComment:function(e){var t,o,n;return this.$auth.isAuthenticated()?null===(null===(t=this.userDetails)||void 0===t?void 0:t.verification)||"Approved"!==(null===(o=this.userDetails)||void 0===o||null===(n=o.verification)||void 0===n?void 0:n.status)?(this.verifcationStatusModal=!0,!1):void this.$router.push("/blog-comment/"+e):(this.$router.push("/welcome"),!1)},gotoSearch:function(){this.$router.push("/blog-search")},goToProfile:function(e){e===this.userDetails.userprofile.id?this.$router.push("/profile"):this.$router.push("/user-profile/"+e)},oneClick:function(e){if(this.clicks++,1===this.clicks){var t=this;this.timer=setTimeout((function(){t.clicks=0,t.getfullScreen(e)}),this.delay)}else clearTimeout(this.timer),this.clicks=0,this.likeColour(),this.likeActionReq||this.setLikeForBlog(parseInt(e.id))},goToblogs:function(e){this.$router.push("/blogs/"+e)},getImageurl:function(e){var t=e.substring(e.lastIndexOf("/")+1),o="https://konokustorageprod.blob.core.windows.net/photos/assets/";return e=o+t,e},showAddNewsFeedModel:function(){var e,t,o;return this.$auth.isAuthenticated()?null===(null===(e=this.userDetails)||void 0===e?void 0:e.verification)||"Approved"!==(null===(t=this.userDetails)||void 0===t||null===(o=t.verification)||void 0===o?void 0:o.status)?(this.verifcationStatusModal=!0,!1):void 0:(this.$router.push("/welcome"),!1)},isImagePost:function(e){return"image"===e.split("/")[0]},clickedSelectedOptionModal:function(e){switch(this.postOptionModel=!1,e){case"delete":this.blog.IsVlog?this.postType="Vlog":this.postType="Blog",this.postWarningModal=!0;break}},openBlogVlogOptionModel:function(){parseInt(this.blog.userprofile.id)===parseInt(this.userDetails.userprofile.id)?this.isMyPost=!0:this.isMyPost=!1,this.postOptionModel=!0},deleteSelectedOption:function(e){var t=this;"cancel"===e?(this.isMyPost=!1,this.postWarningModal=!1):(this.deleteBlog(parseInt(this.blog.id)).then((function(){Q.Z.create({progress:!0,message:(t.blog.IsVlog?"Vlog":"Blog")+"Delete Successfully",type:"postive"}),t.blog.IsVlog?t.$router.push("vlogs/Home"):t.$router.push("blogs/home")})),this.isMyPost=!1,this.postWarningModal=!1)},shareNewsfeed:function(e){var t,o,n;return this.$auth.isAuthenticated()?null===(null===(t=this.userDetails)||void 0===t?void 0:t.verification)||"Approved"!==(null===(o=this.userDetails)||void 0===o||null===(n=o.verification)||void 0===n?void 0:n.status)?(this.verifcationStatusModal=!0,!1):(this.sharePostId=e.id,this.shareActionModel=!0,void(this.postOwner=e.userprofile.user.id||null)):(this.$router.push("/welcome"),!1)}})},K=o(11639),Y=o(69885),G=o(44458),J=o(47817),X=o(57661),ee=o(50926),te=o(91487),oe=o(31005),ne=o(63190),le=o(76749),ie=o(61357),re=o(33115),se=o(68879),ue=o(11821),ae=o(13119),ce=o(30875),de=o(56362),fe=o(13246),me=o(490),pe=o(22857),he=o(66663),ge=o(32074),ke=o(30627),we=o(18149),be=o(62146),ve=o(69984),Ce=o.n(ve);const _e=(0,K.Z)(N,[["render",T],["__scopeId","data-v-4956e34a"]]);var ye=_e;Ce()(N,"components",{QPage:Y.Z,QCard:G.Z,QTabs:J.Z,QTab:X.Z,QSeparator:ee.Z,QImg:te.Z,QVideo:oe.Z,QCardSection:ne.Z,QItemSection:le.Z,QAvatar:ie.Z,QItemLabel:re.Z,QBtn:se.Z,QCardActions:ue.Z,QInput:ae.Z,QIntersection:ce.Z,QMenu:de.Z,QList:fe.Z,QItem:me.Z,QIcon:pe.Z,QScrollArea:he.Z,QDialog:ge.Z,QPageSticky:ke.Z,QField:we.Z}),Ce()(N,"directives",{ClosePopup:be.Z})}}]);