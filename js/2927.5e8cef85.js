"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[2927],{39914:function(e,t,i){i.r(t),i.d(t,{default:function(){return fe}});var o=i(59835),n=i(86970),r=function(e){return(0,o.dD)("data-v-0f0899a2"),e=e(),(0,o.Cn)(),e},c={class:"q-gutter-y-md",style:{width:"100%"}},l={key:0},s={class:"flex flex-center"},a=r((function(){return(0,o._)("p",{class:"emptymsg"},"Your Published is empty. tap the button below to start writing ",-1)})),u={key:1},d=["src","id","onClick"],p={class:"flex flex-center justify-between"},f=["onClick"],m={key:0,class:"text-caption text-grey blog-description"},h={key:0},g={class:"flex flex-center"},b=r((function(){return(0,o._)("p",{class:"emptymsg"},"Your Submitted is empty. tap the button below to start writing ",-1)})),k={key:1},w=["src","id","onClick"],v={class:"flex flex-center justify-between"},y=["onClick"],C={key:0,class:"text-caption text-grey blog-description"},R={key:0},D={class:"flex flex-center"},_=r((function(){return(0,o._)("p",{class:"emptymsg"},"Your draft is empty. tap the button below to start writing ",-1)})),x={key:1},P=["src","id","onClick"],W={class:"flex flex-center justify-between"},q=["onClick"],I={key:0,class:"text-caption text-grey blog-description"},S={id:"image-box",ref:"fullscreenElement"},U={class:"row items-center no-wrap",style:{"margin-bottom":"30px"}},Z={class:"col"},M=r((function(){return(0,o._)("div",{class:"text-h6"},"Delete Recipe",-1)})),T=r((function(){return(0,o._)("p",{class:"col-12"}," Are you sure you want to delete this recipe? ",-1)})),O={class:"col-12 text-center"},$={class:"row"},B={class:"col-6 text-center"},F={class:"col-6 text-center"};function Q(e,t,i,r,Q,V){var j=(0,o.up)("q-tab"),A=(0,o.up)("q-tabs"),H=(0,o.up)("q-separator"),z=(0,o.up)("q-img"),K=(0,o.up)("q-btn"),L=(0,o.up)("q-card-section"),Y=(0,o.up)("q-card"),E=(0,o.up)("q-intersection"),N=(0,o.up)("q-tab-panel"),G=(0,o.up)("q-tab-panels"),J=(0,o.up)("FullScreen"),X=(0,o.up)("BlogArticleOption"),ee=(0,o.up)("q-dialog"),te=(0,o.up)("q-space"),ie=(0,o.up)("q-page"),oe=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(ie,{class:"flex page"},{default:(0,o.w5)((function(){return[(0,o._)("div",c,[(0,o.Wm)(Y,{class:"maincard"},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{modelValue:Q.tab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Q.tab=e}),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":"","narrow-indicator":""},{default:(0,o.w5)((function(){return[(0,o.Wm)(j,{name:"Published",label:"Published","no-caps":""}),(0,o.Wm)(j,{name:"Submitted",label:"Submitted","no-caps":""}),(0,o.Wm)(j,{name:"Drafts",label:"Drafts","no-caps":""})]})),_:1},8,["modelValue"]),(0,o.Wm)(H),(0,o.Wm)(G,{modelValue:Q.tab,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Q.tab=e}),animated:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(N,{name:"Published",style:{padding:"0px !important"}},{default:(0,o.w5)((function(){return[0===e.publishedRecipes.length?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",s,[(0,o.Wm)(z,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),a])])):((0,o.wg)(),(0,o.iD)("div",u,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.publishedRecipes,(function(e){return(0,o.wg)(),(0,o.j4)(E,{transition:"scale",once:"",key:e.id},{default:(0,o.w5)((function(){return[(0,o.Wm)(Y,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,o.w5)((function(){return[e.CoverPhoto&&V.isImagePost(e.CoverPhoto.mime)?((0,o.wg)(),(0,o.j4)(z,{key:0,class:"blog-cover",src:V.getImageurl(e.CoverPhoto.url),onClick:function(t){return V.goToUserRecipe(e.id)}},null,8,["src","onClick"])):(0,o.kq)("",!0),null!==e.CoverPhoto&&!1===V.isImagePost(e.CoverPhoto.mime)?((0,o.wg)(),(0,o.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",controlsList:"nodownload",onClick:function(t){return V.goToUserRecipe(e.id)}},null,8,d)):(0,o.kq)("",!0),(0,o.Wm)(L,null,{default:(0,o.w5)((function(){return[(0,o._)("div",p,[(0,o._)("div",{class:"text-h6 q-mt-sm q-mb-xs blog-title",onClick:function(t){return V.goToUserRecipe(e.id)}},(0,n.zw)(e.Title),9,f),(0,o.Wm)(K,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return V.openUserRecipeOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,o.wg)(),(0,o.iD)("div",m,(0,n.zw)(V.truncateFunc(e.Description,50,"...")),1)):(0,o.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1}),(0,o.Wm)(N,{name:"Submitted",style:{padding:"0px !important"}},{default:(0,o.w5)((function(){return[0===e.submittedRecipes.length?((0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",g,[(0,o.Wm)(z,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),b])])):((0,o.wg)(),(0,o.iD)("div",k,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.submittedRecipes,(function(e){return(0,o.wg)(),(0,o.j4)(E,{transition:"scale",once:"",key:e.id},{default:(0,o.w5)((function(){return[(0,o.Wm)(Y,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,o.w5)((function(){return[e.CoverPhoto&&V.isImagePost(e.CoverPhoto.mime)?((0,o.wg)(),(0,o.j4)(z,{key:0,class:"blog-cover",src:V.getImageurl(e.CoverPhoto.url),onClick:function(t){return V.goToUserRecipe(e.id)}},null,8,["src","onClick"])):(0,o.kq)("",!0),null!==e.CoverPhoto&&!1===V.isImagePost(e.CoverPhoto.mime)?((0,o.wg)(),(0,o.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",controlsList:"nodownload",onClick:function(t){return V.goToUserRecipe(e.id)}},null,8,w)):(0,o.kq)("",!0),(0,o.Wm)(L,null,{default:(0,o.w5)((function(){return[(0,o._)("div",v,[(0,o._)("div",{class:"text-h6 q-mt-sm q-mb-xs blog-title",onClick:function(t){return V.goToUserRecipe(e.id)}},(0,n.zw)(e.Title),9,y),(0,o.Wm)(K,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return V.openUserRecipeOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,o.wg)(),(0,o.iD)("div",C,(0,n.zw)(V.truncateFunc(e.Description,50,"...")),1)):(0,o.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1}),(0,o.Wm)(N,{name:"Drafts",style:{padding:"0px !important"}},{default:(0,o.w5)((function(){return[0===e.draftRecipes.length?((0,o.wg)(),(0,o.iD)("div",R,[(0,o._)("div",D,[(0,o.Wm)(z,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),_])])):((0,o.wg)(),(0,o.iD)("div",x,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.draftRecipes,(function(e){return(0,o.wg)(),(0,o.j4)(E,{transition:"scale",once:"",key:e.id},{default:(0,o.w5)((function(){return[(0,o.Wm)(Y,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,o.w5)((function(){return[e.CoverPhoto&&V.isImagePost(e.CoverPhoto.mime)?((0,o.wg)(),(0,o.j4)(z,{key:0,class:"blog-cover",src:V.getImageurl(e.CoverPhoto.url),onClick:function(t){return V.goToUserRecipe(e.id)}},null,8,["src","onClick"])):(0,o.kq)("",!0),null!==e.CoverPhoto&&!1===V.isImagePost(e.CoverPhoto.mime)?((0,o.wg)(),(0,o.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",controlsList:"nodownload",onClick:function(t){return V.goToUserRecipe(e.id)}},null,8,P)):(0,o.kq)("",!0),(0,o.Wm)(L,null,{default:(0,o.w5)((function(){return[(0,o._)("div",W,[(0,o._)("div",{class:"text-h6 q-mt-sm q-mb-xs blog-title",onClick:function(t){return V.goToUserRecipe(e.id)}},(0,n.zw)(e.Title),9,q),(0,o.Wm)(K,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return V.openUserRecipeOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,o.wg)(),(0,o.iD)("div",I,(0,n.zw)(V.truncateFunc(e.Description,50,"...")),1)):(0,o.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]),(0,o._)("div",S,[(0,o.Wm)(J,{details:Q.fullscreendata},null,8,["details"])],512),(0,o.Wm)(ee,{modelValue:Q.userRecipeOptionModel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Q.userRecipeOptionModel=e}),position:"bottom"},{default:(0,o.w5)((function(){return[(0,o.Wm)(X,{selectedBlog:Q.selectedRecipe,onClickedSelectedOption:V.selectedUserRecipeOption},null,8,["selectedBlog","onClickedSelectedOption"])]})),_:1},8,["modelValue"]),(0,o.Wm)(ee,{modelValue:Q.userRecipeDeleteModel,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Q.userRecipeDeleteModel=e}),position:"bottom"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Y,{class:"roundedNewsFeed"},{default:(0,o.w5)((function(){return[(0,o._)("div",U,[(0,o._)("div",Z,[(0,o.Wm)(L,{class:"row items-center q-pb-none"},{default:(0,o.w5)((function(){return[M,(0,o.Wm)(te),(0,o.wy)((0,o.Wm)(K,{icon:"close",flat:"",round:"",dense:""},null,512),[[oe]])]})),_:1}),(0,o.Wm)(L,{class:"row items-center q-pb-none"},{default:(0,o.w5)((function(){return[T]})),_:1}),(0,o._)("div",O,[(0,o._)("div",$,[(0,o._)("div",B,[(0,o.Wm)(K,{label:"Cancel",class:"button default-button","no-caps":"",outline:"",color:"primary",style:{color:"#000000",width:"90%"},onClick:t[3]||(t[3]=function(e){return V.confirmationChoice("cancel")})})]),(0,o._)("div",F,[(0,o.Wm)(K,{color:"primary",style:{width:"90%"},label:"Confirm",class:"button default-button","no-caps":"",onClick:t[4]||(t[4]=function(e){return V.confirmationChoice("confirm")})})])])])])])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})}var V=i(46264),j=i.n(V),A=(i(69665),i(33100)),H=i(45038),z=i(7167),K=i(4376),L=i(6827),Y={name:"BlogArticle",created:function(){this.$emitter.on("footerAddIconClick",this.showAddRecipePage),this.$emitter.on("headerRightIcon2Click",this.gotoSearch),this.$emitter.on("headerBackButtonClick",this.backButtonClick),this.$emitter.on("onformatDateClick",this.formatDate),this.$emitter.on("onExitFullscreen",this.closeFullScreen),this.$route.params.tab&&(this.tab=this.$route.params.tab)},beforeUnmount:function(){this.$emitter.off("footerAddIconClick",this.showAddRecipePage),this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("headerRightIcon2Click",this.gotoSearch),this.$emitter.off("onformatDateClick",this.formatDate),this.$emitter.off("onExitFullscreen",this.closeFullScreen)},computed:j()(j()(j()({},(0,A.Se)("recipe",["recipes","publishedRecipes","submittedRecipes","draftRecipes"])),(0,A.Se)("config",["blobBaseUrl"])),(0,A.Se)("userprofile",["userDetails"])),components:{FullScreen:H.Z,BlogArticleOption:z.Z},mounted:function(){this.setHeaderData(!0,!1,"Konoku","","","",!0,!0),this.fetchUserRecipes({id:this.userDetails.userprofile.id})},data:function(){return{tab:"Published",fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:""},selectedRecipe:null,userRecipeOptionModel:!1,userRecipeDeleteModel:!1}},methods:j()(j()(j()({},(0,A.nv)("header",["setHeader"])),(0,A.nv)("recipe",["fetchRecipes","storeContent","fetchUserRecipes","updateRecipeStatus","deleteRecipe","editRecipe"])),{},{setHeaderData:function(e,t,i,o,n,r,c,l){this.setHeader({hamburgerIcon:e,backIcon:t,title:i,rightIcon1:o,rightIcon2:n,rightLinkText:r,notificationIcon:c,searchIcon:l})},truncateFunc:function(e,t,i){return null===e?"":(null===e||void 0===e?void 0:e.length)>t?e.substring(0,t)+i:e},formatDate:function(e){return K.ZP.formatDate(e,"DD MMM")+" at "+K.ZP.formatDate(e,"hh.mm A")},gotoSearch:function(){this.$router.push("/recipe-search")},backButtonClick:function(){this.$router.push("dashboard")},goToReview:function(e){},goToUserRecipe:function(e){this.$router.push("/user-recipe/"+e)},showAddRecipePage:function(){var e=this;this.storeContent({form:null}).then((function(){e.$router.push("/create-edit-recipe")}))},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen(),this.selectedRecipe={};var e=document.getElementById("image-box");e.setAttribute("style","display:none;")}},getImageurl:function(e){var t=e.substring(e.lastIndexOf("/")+1),i="https://konokustorageprod.blob.core.windows.net/photos/assets/";return e=i+t,e},openUserRecipeOptionModel:function(e){this.selectedRecipe=e,this.userRecipeOptionModel=!0},selectedUserRecipeOption:function(e){var t=this;switch(e){case"Edit":this.editRecipe(this.selectedRecipe.id).then((function(e){t.$router.push("create-edit-recipe")}));break;case"Submit":this.updateRecipeStatus({id:this.selectedRecipe.id,status:"Submitted"}).then((function(){L.Z.create({progress:!0,message:"Recipe Submitted Successfully",type:"positive"}),t.selectedRecipe=null,t.userRecipeOptionModel=!1}));break;case"Delete":this.userRecipeOptionModel=!1,this.userRecipeDeleteModel=!0;break}},confirmationChoice:function(e){var t=this;"confirm"===e?this.deleteRecipe(parseInt(this.selectedRecipe.id)).then((function(){t.userRecipeDeleteModel=!1,t.selectedRecipe=null,L.Z.create({progress:!0,message:"Recipe Deleted Successfully",type:"positive"})})):(this.userRecipeDeleteModel=!1,this.selectedRecipe=null)},isImagePost:function(e){return"image"===e.split("/")[0]}})},E=i(11639),N=i(69885),G=i(44458),J=i(47817),X=i(57661),ee=i(50926),te=i(89800),ie=i(84106),oe=i(91487),ne=i(30875),re=i(63190),ce=i(68879),le=i(32074),se=i(90136),ae=i(62146),ue=i(69984),de=i.n(ue);const pe=(0,E.Z)(Y,[["render",Q],["__scopeId","data-v-0f0899a2"]]);var fe=pe;de()(Y,"components",{QPage:N.Z,QCard:G.Z,QTabs:J.Z,QTab:X.Z,QSeparator:ee.Z,QTabPanels:te.Z,QTabPanel:ie.Z,QImg:oe.Z,QIntersection:ne.Z,QCardSection:re.Z,QBtn:ce.Z,QDialog:le.Z,QSpace:se.Z}),de()(Y,"directives",{ClosePopup:ae.Z})}}]);