(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{"0505":function(e,t,s){"use strict";var i=s("73de"),a=s.n(i);a.a},"73de":function(e,t,s){},a3d7:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"flex-center",staticStyle:{"background-color":"white"}},[s("div",{staticClass:"main-container"},[s("div",{staticClass:"profile-edit-section"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-form",{staticClass:"q-gutter-md"},[s("div",{staticClass:"row user-section"},[s("div",{staticClass:"col"},[s("span",{staticClass:"user-name"},[s("q-input",{attrs:{label:"Title","stack-label":""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),s("q-select",{staticClass:"q-my-md",attrs:{options:e.recipesCategory,"emit-value":"","map-options":"",label:"Category",multiple:"","option-value":function(e){return e.id},"option-label":function(e){return e.Name}},model:{value:e.form.categories,callback:function(t){e.$set(e.form,"categories",t)},expression:"form.categories"}}),s("div",{staticClass:"row user-section"},[s("div",{staticClass:"col"},[s("span",{staticClass:"user-name"},[e._v("\n                      Cover photo/video\n                    ")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[null!=e.form.coverPhoto?s("q-img",{staticStyle:{"max-height":"280px","max-width":"100%"},attrs:{src:""+e.form.coverPhoto,"spinner-color":"white"}}):e._e(),s("div",{staticClass:"fileupload",staticStyle:{"max-width":"100%",height:"46px",padding:"5px 5px",border:"1px #6B7BC7 dotted","text-align":"center"},on:{click:function(t){return e.$refs.file.click()}}},[s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:["image/*"]},on:{change:e.onFileChange}}),s("q-btn",{staticClass:"img-icon",attrs:{icon:"app:upload-img",flat:"",round:"",dense:""}}),s("span",{staticClass:"banner-image"},[e._v(" Upload Image ")])],1)],1)])])]),e.form.content?s("div",{staticClass:"content",domProps:{innerHTML:e._s(e.form.content)},on:{click:e.startCreatePost}}):s("div",[s("div",{staticStyle:{"margin-top":"1rem"}},[s("q-btn",{staticStyle:{height:"70px",width:"100% !important"},attrs:{outline:"",align:"left","no-caps":"",label:"Start creating your post..."},on:{click:e.startCreatePost}})],1)]),s("q-select",{staticStyle:{width:"100% !important"},attrs:{label:"Labels","use-chips":"",multiple:"",options:e.allKeywords,"option-value":function(e){return e.value},"option-label":function(e){return e.label},"emit-value":"","map-options":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"app:question-mark"}})]},proxy:!0}]),model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1)])])],1)])]),s("q-dialog",{attrs:{position:"bottom"},model:{value:e.saveDraftDialog,callback:function(t){e.saveDraftDialog=t},expression:"saveDraftDialog"}},[s("BlogAction",{attrs:{isForVlog:!1},on:{"clicked-selected-Option":e.clickedSelectedOptionModal}})],1)],1),s("q-dialog",{model:{value:e.successfulModal,callback:function(t){e.successfulModal=t},expression:"successfulModal"}},[s("q-card",{staticClass:"popup"},[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6 col-md-6"},["Published"===e.recipeMessageType?s("b",[e._v("Published")]):s("b",[e._v("Save as Draft")])]),s("q-space"),s("div",{staticClass:"text-h6 col-md-6 close"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:e.goToUserRecipesList}})],1)],1),s("div",{staticClass:"row"},[s("div",{staticClass:"text-h6 col",staticStyle:{"text-align":"center"}},[s("q-icon",{staticClass:"success col-md-12",attrs:{name:"app:successful"}})],1)]),s("q-card-section",{staticClass:"success-msg"},["Published"===e.recipeMessageType?s("p",[e._v(" Your\n          "),s("span",[e._v("recipe")]),e._v("\n          is published successfully.\n        ")]):s("p",[e._v(" Your\n          "),s("span",[e._v("recipe")]),e._v(" has been successfully saved as a "+e._s(e.recipeMessageType)+".\n        ")])]),s("div",{staticClass:"flex flex-center more-info-item"},[s("q-btn",{attrs:{color:"primary",label:"Done",rounded:"","no-caps":""},on:{click:e.goToUserRecipesList}})],1)],1)],1),s("q-dialog",{model:{value:e.updateModal,callback:function(t){e.updateModal=t},expression:"updateModal"}},[s("q-card",{staticClass:"popup"},[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6 col-md-6"},[s("b",[e._v("Updated")])]),s("q-space"),s("div",{staticClass:"text-h6 col-md-6 close"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:e.goToUserRecipesList}})],1)],1),s("div",{staticClass:"row"},[s("div",{staticClass:"text-h6 col",staticStyle:{"text-align":"center"}},[s("q-icon",{staticClass:"success col-md-12",attrs:{name:"app:successful"}})],1)]),s("q-card-section",{staticClass:"success-msg"},[s("p",[e._v(" Your\n          "),s("span",[e._v("Recipe")]),e._v("\n          has been updated successfully.\n        ")])]),s("div",{staticClass:"flex flex-center more-info-item"},[s("q-btn",{attrs:{color:"primary",label:"Done",rounded:"","no-caps":""},on:{click:e.goToUserRecipesList}})],1)],1)],1),s("q-dialog",{attrs:{position:"bottom"},model:{value:e.recipeDeleteModel,callback:function(t){e.recipeDeleteModel=t},expression:"recipeDeleteModel"}},[s("q-card",{staticClass:"roundedNewsFeed"},[s("div",{staticClass:"row items-center no-wrap",staticStyle:{"margin-bottom":"30px"}},[s("div",{staticClass:"col"},[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6"},[e._v("Delete\n              "),s("span",[e._v("Recipe")])]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("p",{staticClass:"col-12"},[e._v("\n              Are you sure you want to delete this\n              "),s("span",[e._v("recipe")]),e._v("?\n            ")])]),s("div",{staticClass:"col-12 text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 text-center"},[s("q-btn",{staticClass:"button default-button",staticStyle:{color:"#000000",width:"90%"},attrs:{label:"Cancel","no-caps":"",outline:"",color:"primary"},on:{click:function(t){return e.deleteConfirmationChoice("cancel")}}})],1),s("div",{staticClass:"col-6 text-center"},[s("q-btn",{staticClass:"button default-button",staticStyle:{width:"90%"},attrs:{color:"primary",label:"Confirm","no-caps":""},on:{click:function(t){return e.deleteConfirmationChoice("confirm")}}})],1)])])],1)])])],1)],1)},a=[],o=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("28a5"),s("6762"),s("2fdb"),s("f751"),s("9523")),c=s.n(o),r=s("2f62"),n=s("2a19"),l=s("f19a");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){c()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"CreateEditRecipe",data:function(){return{form:{id:0,title:"",content:"",label:null,coverPhoto:null,categories:[]},recipeCoverPhoto:null,recipeMessageType:"Published",successfulModal:!1,saveDraftDialog:!1,allKeywords:[],updateModal:!1,recipeDeleteModel:!1}},components:{BlogAction:l["a"]},created:function(){this.$root.$on("headerRightIcon1Click",this.openSaveDialog),this.$root.$on("headerBackButtonClick",this.backButtonClick)},beforeDestroy:function(){this.$root.$off("headerRightIcon1Click",this.openSaveDialog),this.$root.$off("headerBackButtonClick",this.backButtonClick)},computed:d(d({},Object(r["c"])("userprofile",["userDetails"])),Object(r["c"])("recipe",["recipe","recipes","CreateRecipe","keywords","recipesCategory"])),mounted:function(){var e=this;this.setHeaderData(!1,!0,"Create Recipe","three-dots-icon",!1,"",!1,!1),this.fetchKeywords().then((function(){e.allKeywords=e.keywords,e.filterOptions=e.keywords})),null!==this.CreateRecipe&&(this.form=Object.assign({},this.CreateRecipe),this.setHeaderData(!1,!0,0!==this.form.id?"Edit Recipe":"Create Recipe","three-dots-icon",!1,"",!1,!1),this.recipeCoverPhoto=this.CreateRecipe.recipeCoverPhoto),this.fetchRecipesCategory()},methods:d(d(d({},Object(r["b"])("recipe",["postRecipe","storeContent","fetchKeywords","fetchRecipesCategory","putRecipe","deleteRecipe"])),Object(r["b"])("header",["setHeader"])),{},{setHeaderData:function(e,t,s,i,a,o,c,r){this.setHeader({hamburgerIcon:e,backIcon:t,title:s,rightIcon1:i,rightIcon2:a,rightLinkText:o,notificationIcon:c,searchIcon:r})},saveRecipe:function(e){var t=this;""!==this.form.title||"Submitted"!==e?null!==this.form.coverPhoto||"Submitted"!==e?0!==this.form.categories.length||"Submitted"!==e?(e||(e="Submitted"),this.recipeMessageType=e,this.form.categories.includes(1)||this.form.categories.push(1),0===parseInt(this.form.id)?this.postRecipe({user:this.userDetails.userprofile.id,form:this.form,status:e,file:this.recipeCoverPhoto}).then((function(e){t.successfulModal=!0})):this.putRecipe({user:this.userDetails.userprofile.id,form:this.form,file:this.recipeCoverPhoto,status:e}).then((function(e){t.updateModal=!0}))):n["a"].create({progress:!0,message:"Please select at least one category",type:"negative"}):n["a"].create({progress:!0,message:"Please Add Cover Photo",type:"negative"}):n["a"].create({progress:!0,message:"Please Add Title",type:"negative"})},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&(this.recipeCoverPhoto=t[0],"image"===t[0].type.split("/")[0]?this.createImage(t[0]):(this.recipeCoverPhoto=null,n["a"].create({progress:!0,message:"Please select image",type:"negative"})))},createImage:function(e){var t=this,s=new FileReader;s.onload=function(e){t.form.coverPhoto=e.target.result},s.readAsDataURL(e)},openSaveDialog:function(){this.saveDraftDialog=!0},action:function(e){this.$emit("clicked-selected-Option",e)},clickedSelectedOptionModal:function(e){switch(e){case"Edit":this.startCreatePost();break;case"Submit":this.saveRecipe("Submitted");break;case"Draft":this.saveRecipe("Drafts");break;case"Delete":this.recipeDeleteModel=!0;break;case"Discard":this.saveDraftDialog=!1,this.form.id=0,this.form.title="",this.form.content="",this.form.label=null,this.form.coverPhoto=null,this.recipeCoverPhoto=null;break}},backButtonClick:function(){this.$router.push("dashboard")},startCreatePost:function(){var e=this;this.storeContent({form:this.form,file:this.recipeCoverPhoto}).then((function(){e.$router.push("create-edit-recipe-detail")}))},goToUserRecipesList:function(){this.$router.push({name:"user-recipes",params:{tab:this.recipeMessageType}})},deleteConfirmationChoice:function(e){var t=this;"confirm"===e?this.deleteRecipe(parseInt(this.form.id)).then((function(){t.recipeDeleteModel=!1,n["a"].create({progress:!0,message:"Recipe Deleted Successfully",type:"positive"}),t.goToUserRecipesList()})):this.recipeDeleteModel=!1}})},f=u,h=(s("0505"),s("2877")),m=s("9989"),v=s("0378"),b=s("27f9"),g=s("ddd8"),C=s("068f"),y=s("9c40"),k=s("0016"),w=s("24e8"),D=s("f09f"),q=s("a370"),P=s("2c91"),x=s("7f67"),R=s("eebe"),S=s.n(R),O=Object(h["a"])(f,i,a,!1,null,"80b2db06",null);t["default"]=O.exports;S()(O,"components",{QPage:m["a"],QForm:v["a"],QInput:b["a"],QSelect:g["a"],QImg:C["a"],QBtn:y["a"],QIcon:k["a"],QDialog:w["a"],QCard:D["a"],QCardSection:q["a"],QSpace:P["a"]}),S()(O,"directives",{ClosePopup:x["a"]})}}]);