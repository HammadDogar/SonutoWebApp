(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{"2e60":function(t,e,s){"use strict";var i=s("80ab"),a=s.n(i);a.a},"80ab":function(t,e,s){},e501:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex-center page"},[s("div",{staticClass:"main-container"},[s("div",{staticClass:"row justify-center q-mt-lg"},[t.verificationRequestDetail?s("div",{staticClass:"col-12"},[s("div",{staticClass:"flex justify-between items-center q-mx-md"},[s("h6",{staticClass:"q-ma-none flex items-center"},[s("img",{staticClass:"q-icon notranslate q-mr-md",attrs:{"aria-hidden":"true",role:"img",src:"statics/s-icons/back-arrow-icon.svg"},on:{click:t.goToList}}),t._v("\n            Review\n          ")]),"Pending"!==t.verificationRequestDetail.status?s("div",[s("q-select",{staticClass:"input-control status-select",attrs:{options:t.statusOptions,"emit-value":"",label:"Status","map-options":"",outlined:""},on:{input:function(e){return t.openReasonModal(t.form.status)}},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1):s("div",[s("q-btn",{staticClass:"q-mr-sm",attrs:{color:"red","text-color":"white",label:"Reject"},on:{click:function(e){return t.openReasonModal("Rejected")}}}),s("q-btn",{staticClass:"q-mx-sm",attrs:{color:"primary","text-color":"white",label:"Resubmit"},on:{click:function(e){return t.openReasonModal("Resubmit")}}}),s("q-btn",{staticClass:"q-ml-sm",attrs:{color:"secondary","text-color":"white",label:"Approve"},on:{click:function(e){return t.openReasonModal("Approved")}}})],1)]),[s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 q-mb-md"},[s("q-card",{staticClass:"my-card"},[s("q-card-section",[s("small",[t._v("Full Name")]),s("h6",{staticClass:"q-mt-none q-mb-md"},[t._v("\n                      "+t._s(t.verificationRequestDetail.users_permissions_user.userprofile.firstname+" "+t.verificationRequestDetail.users_permissions_user.userprofile.lastname))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 col-lg-4 q-mb-md"},[s("small",[t._v("Email")]),s("p",{staticClass:"q-my-none"},[t._v(" "+t._s(t.verificationRequestDetail.users_permissions_user.email))])]),s("div",{staticClass:"col-4 col-lg-4 q-mb-md"},[s("small",[t._v("Document")]),s("p",{staticClass:"q-my-none"},[t._v(t._s(t.verificationRequestDetail.documentType))])]),s("div",{staticClass:"col-4 col-lg-4 q-mb-md"},[s("small",[t._v("Status")]),s("p",{staticClass:"q-my-none"},[t._v(t._s(t.verificationRequestDetail.status))])])])])],1)],1),s("div",{staticClass:"col-12"},[s("q-card",{staticClass:"my-card"},[s("q-card-section",[s("small",[t._v("Identify Document")]),s("h6",{staticClass:"q-mt-none q-mb-md"},[t._v(t._s(t.verificationRequestDetail.documentType))]),s("div",{staticClass:"row q-col-gutter-lg"},[t.verificationRequestDetail.docFrontImg?s("div",{staticClass:"col-xs-12 col-md-6 col-lg-4 q-mb-md"},[s("p",[t._v("Front")]),s("div",{staticClass:"doc-img-section"},[s("q-img",{staticClass:"doc-img",attrs:{src:t.getImageurl(t.verificationRequestDetail.docFrontImg.url),basic:""},on:{error:function(e){return t.setError()}}})],1)]):t._e(),t.verificationRequestDetail.docBackImg?s("div",{staticClass:"col-xs-12 col-md-6 col-lg-4 q-mb-md"},[s("p",[t._v("Back")]),s("div",{staticClass:"doc-img-section"},[s("img",{staticClass:"doc-img",attrs:{src:t.getImageurl(t.verificationRequestDetail.docBackImg.url)},on:{error:function(e){return t.setError()}}})])]):t._e(),s("div",{staticClass:"col-xs-12 col-md-6 col-lg-4 q-mb-md"},[s("p",[t._v("Selfie")]),s("div",{staticClass:"doc-img-section"},[s("img",{staticClass:"doc-img",attrs:{src:t.getImageurl(t.verificationRequestDetail.personImg.url)},on:{error:function(e){return t.setError()}}})])])])])],1)],1)])])]],2):t._e()]),s("q-dialog",{attrs:{persistent:""},model:{value:t.reasonDialog,callback:function(e){t.reasonDialog=e},expression:"reasonDialog"}},[s("q-card",{staticStyle:{"min-width":"350px"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Comments")])]),s("q-card-section",{staticClass:"q-pt-none"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"text-area",attrs:{dense:"",rows:"5"},domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}})]),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:"Cancel",disable:t.isLoading},on:{click:t.onCloseModal}}),s("q-btn",{attrs:{flat:"",label:"Submit",disable:t.isLoading},on:{click:t.updateStatus}})],1)],1)],1)],1)])},a=[],o=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("9523")),r=s.n(o),n=s("2f62"),c=s("2a19"),l=s("2007");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={data:function(){return{reasonDialog:!1,form:{status:null,reason:""},isLoading:!1,imageError:!1,statusOptions:[{label:"Approve",value:"Approved"},{label:"Reject",value:"Rejected"},{label:"Resubmit",value:"Resubmit"}]}},computed:m(m({},Object(n["c"])("userprofile",["isAuthenticated","userDetails"])),Object(n["c"])("verification",["verificationRequestDetail"])),watch:{verificationRequestDetail:function(t){this.form.status=this.verificationRequestDetail.status}},methods:m(m(m({},Object(n["b"])("header",["setHeader"])),Object(n["b"])("verification",["updateVerificationStatus","getVerificationRequestDetail"])),{},{setHeaderData:function(t,e,s,i,a,o,r,n,c){this.setHeader({hamburgerIcon:t,backIcon:e,title:s,rightIcon1:i,rightIcon2:a,rightLinkText:o,notificationIcon:r,searchIcon:n,fullWidthOnLarge:c})},updateStatus:function(){var t=this;this.isLoading=!0;var e={id:this.$route.params.id,reason:this.form.reason,status:this.form.status,toUserEmail:this.verificationRequestDetail.users_permissions_user.email,userId:this.verificationRequestDetail.users_permissions_user.id};this.updateVerificationStatus(e).then((function(){l["b"].emit("sendVerificationStatus",{status:t.form.status,to:parseInt(t.verificationRequestDetail.users_permissions_user.id)}),c["a"].create({progress:!0,message:"Status Updated Successfully",type:"positive"}),"Approved"===t.form.status?(t.form.reason="",t.reasonDialog=!1,t.isLoading=!1):("Resubmit"===t.form.status||"Rejected"===t.form.status)&&t.$router.push("/admin/verification-requests")}))},openReasonModal:function(t){this.form.status=t,this.reasonDialog=!0},getImageurl:function(t){return t},setError:function(){this.imageError=!0},onCloseModal:function(){this.form.status=this.verificationRequestDetail.status,this.form.reason="",this.reasonDialog=!1},goToList:function(){this.$router.push("/admin/verification-requests")}}),mounted:function(){this.setHeaderData(!0,!1,"Review Request","","","",!1,!1,!0),this.getVerificationRequestDetail(this.$route.params.id)}},f=d,p=(s("2e60"),s("2877")),v=s("9989"),g=s("0016"),b=s("ddd8"),q=s("9c40"),h=s("f09f"),C=s("a370"),R=s("068f"),D=s("24e8"),_=s("27f9"),w=s("4b7e"),y=s("8572"),O=s("7f67"),j=s("eebe"),x=s.n(j),I=Object(p["a"])(f,i,a,!1,null,null,null);e["default"]=I.exports;x()(I,"components",{QPage:v["a"],QIcon:g["a"],QSelect:b["a"],QBtn:q["a"],QCard:h["a"],QCardSection:C["a"],QImg:R["a"],QDialog:D["a"],QInput:_["a"],QCardActions:w["a"],QField:y["a"]}),x()(I,"directives",{ClosePopup:O["a"]})}}]);