"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[9659],{15087:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});n(52519),n(62590);var l=n(59835),o=n(61957),i=n(86970),a=function(e){return(0,l.dD)("data-v-848f85de"),e=e(),(0,l.Cn)(),e},u={class:"q-pa-md row",style:{"max-width":"375px",width:"375px",overflow:"hidden"}},r={class:"row q-col-gutter-none"},s={class:"col-4 column items-center custom-file-upload"},c={class:"row q-col-gutter-none"},d={class:"col-4 column items-center",style:{"margin-top":"0.25rem"}},m=a((function(){return(0,l._)("div",{style:{margin:"-20px 0px 0px 0.5px"},class:"title-font"}," Create album ",-1)})),h={style:{"margin-left":"0.5px"},class:"title-font"},f={style:{"margin-left":"0.5rem"},class:"sub-font"},p={id:"image-box",ref:"fullscreenElement"};function g(e,t,n,a,g,b){var k=(0,l.up)("q-tab"),w=(0,l.up)("q-tabs"),x=(0,l.up)("q-icon"),v=(0,l.up)("q-file"),y=(0,l.up)("q-img"),C=(0,l.up)("q-tab-panel"),P=(0,l.up)("q-btn"),_=(0,l.up)("q-tab-panels"),A=(0,l.up)("CreateAlbumCard"),D=(0,l.up)("q-dialog"),q=(0,l.up)("FullScreen"),U=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(U,{class:"page bg-white"},{default:(0,l.w5)((function(){return[(0,l._)("div",u,[(0,l.Wm)(w,{modelValue:g.tab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.tab=e}),dense:"","active-color":"primary","indicator-color":"primary",align:"left",breakpoint:0},{default:(0,l.w5)((function(){return[(0,l.Wm)(k,{name:"myphotos",label:"My Photos"}),(0,l.Wm)(k,{name:"albums",label:"Albums"})]})),_:1},8,["modelValue"]),(0,l.Wm)(_,{modelValue:g.tab,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.tab=e}),animated:"",style:{"min-width":"345px","min-height":"200px"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(C,{name:"myphotos"},{default:(0,l.w5)((function(){return[(0,l._)("div",r,[(0,l._)("div",s,[(0,l.Wm)(v,{borderless:"",modelValue:g.file,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return g.file=e}),b.uploadPhoto],for:"fileUpload","display-value":""},{append:(0,l.w5)((function(){return[(0,l.Wm)(x,{name:"app:add-photo",onClick:t[1]||(t[1]=(0,o.iM)((function(){}),["stop"])),style:{height:"90px",width:"90px","margin-left":"-13px","margin-top":"42px"}})]})),_:1},8,["modelValue","onUpdate:modelValue"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.photos,(function(t){return(0,l.wg)(),(0,l.iD)("div",{class:"col-4 column items-center",key:t.id},[t.photo.url.indexOf("http")?((0,l.wg)(),(0,l.j4)(y,{key:0,src:"".concat(e.baseUrl).concat(t.photo.url),style:{width:"90px",margin:"5px"},ratio:1,"spinner-color":"white",class:"rounded-borders",onClick:function(e){return b.getfullScreen(t)}},null,8,["src","onClick"])):((0,l.wg)(),(0,l.j4)(y,{key:1,src:t.photo.url,style:{width:"90px",margin:"5px"},ratio:1,"spinner-color":"white",class:"rounded-borders",onClick:function(e){return b.getfullScreen(t)}},null,8,["src","onClick"]))])})),128))])]})),_:1}),(0,l.Wm)(C,{name:"albums"},{default:(0,l.w5)((function(){return[(0,l._)("div",c,[(0,l._)("div",d,[(0,l.Wm)(P,{flat:"",dense:"",icon:"app:create-album",padding:"0px",size:"60px",onClick:t[3]||(t[3]=function(e){return g.createAlbumModel=!0})}),m]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.useralbums,(function(e){return(0,l.wg)(),(0,l.iD)("div",{class:"col-4 column items-center",key:e.name,style:{"margin-top":"0.25rem"}},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.useralbumphotos,(function(t,n){return(0,l.wg)(),(0,l.iD)("div",{key:n},[0==n?((0,l.wg)(),(0,l.j4)(y,{key:0,src:t.photo.url,style:{width:"75px",margin:"5px"},ratio:1,"spinner-color":"white",onClick:function(t){return b.navigateToAlbumPhoto(e.id)},class:"rounded-borders"},{error:(0,l.w5)((function(){return[(0,l.Wm)(x,{name:"app:create-album",style:{height:"80px",width:"80px"},onClick:function(t){return b.navigateToAlbumPhoto(e.id)}},null,8,["onClick"])]})),_:2},1032,["src","onClick"])):(0,l.kq)("",!0)])})),128)),0==e.useralbumphotos.length?((0,l.wg)(),(0,l.j4)(x,{key:0,name:"app:create-album",style:{height:"80px",width:"80px"},onClick:function(t){return b.navigateToAlbumPhoto(e.id)}},null,8,["onClick"])):(0,l.kq)("",!0),(0,l._)("div",h,(0,i.zw)(e.name),1),(0,l._)("div",f,(0,i.zw)(e.useralbumphotos.length),1)])})),128))])]})),_:1})]})),_:1},8,["modelValue"])]),(0,l.Wm)(D,{modelValue:g.createAlbumModel,"onUpdate:modelValue":t[5]||(t[5]=function(e){return g.createAlbumModel=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(A)]})),_:1},8,["modelValue"]),(0,l._)("div",p,[(0,l.Wm)(q,{details:g.fullscreendata},null,8,["details"])],512)]})),_:1})}var b=n(46264),k=n.n(b),w=(n(69665),n(30448)),x=n(33100),v=n(72370),y={created:function(){this.$emitter.on("headerBackButtonClick",this.backButtonClick),this.$emitter.on("onExitFullscreen",this.closeFullScreen)},beforeUnmount:function(){this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("onExitFullscreen",this.closeFullScreen)},data:function(){return{file:null,createAlbumModel:!1,tab:"myphotos",albums:{info:[{src:"https://cdn.quasar.dev/img/boy-avatar.png",name:"Meeting",count:"16 photos"},{src:"https://cdn.quasar.dev/img/boy-avatar.png",name:"Me",count:"10 photos"}]},fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:"",hideBack:!1,hideActivity:!0}}},components:{CreateAlbumCard:w.Z,FullScreen:v.Z},computed:k()(k()(k()(k()({},(0,x.Se)("config",["baseUrl"])),(0,x.Se)("userprofile",["userDetails"])),(0,x.Se)("userphoto",["photos"])),(0,x.Se)("useralbum",["useralbums"])),mounted:function(){this.setHeaderData(!1,!0,"My Photos","","","",!0,!0),this.getPhoto(),this.getAlbum()},methods:k()(k()(k()(k()(k()({},(0,x.nv)("header",["setHeader"])),(0,x.nv)("userphoto",["uploadPhotos","getPhotos"])),(0,x.nv)("useralbum",["fetchUserAlbum"])),(0,x.nv)("userprofile",["fetchProfileDetail","getUserDetail"])),{},{setHeaderData:function(e,t,n,l,o,i,a,u){this.setHeader({hamburgerIcon:e,backIcon:t,title:n,rightIcon1:l,rightIcon2:o,rightLinkText:i,notificationIcon:a,searchIcon:u})},uploadPhoto:function(e){var t=this;this.uploadPhotos({file:e,user:this.userDetails}).then((function(){t.getPhoto(),t.fetchProfileDetail().then((function(e){t.getUserDetail(t.userDetails.id)}))}))},getPhoto:function(){this.getPhotos(this.userDetails.id)},getAlbum:function(){this.fetchUserAlbum(this.userDetails.id)},navigateToAlbumPhoto:function(e){this.$router.push("Album-Photos?id="+e)},backButtonClick:function(){this.$router.push("profile")},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen();var e=document.getElementById("image-box");e.setAttribute("style","display:none;"),this.fullscreendata.hideBack=!0}},getfullScreen:function(e){e.photo.url.indexOf("http")?this.fullscreendata.url=this.baseUrl+e.photo.url:this.fullscreendata.url=e.photo.url,this.fullscreendata.hideBack=!1,this.fullscreendata.name=null,this.fullscreendata.feedtext=null,this.fullscreendata.created_at=null,this.fullscreendata.likeLength=null,this.fullscreendata.commentLength=null,this.fullscreendata.id=null,this.fullscreendata.likeIcon=null;var t=document.getElementById("image-box");t.setAttribute("style","display:flex;");var n=this.$refs.fullscreenElement;this.$q.fullscreen.toggle(n).then((function(){})).catch((function(e){alert(e)}))}})},C=n(11639),P=n(69885),_=n(47817),A=n(57661),D=n(89800),q=n(84106),U=n(29420),Z=n(22857),B=n(91487),I=n(68879),V=n(32074),W=n(18149),S=n(69984),F=n.n(S);const Q=(0,C.Z)(y,[["render",g],["__scopeId","data-v-848f85de"]]);var M=Q;F()(y,"components",{QPage:P.Z,QTabs:_.Z,QTab:A.Z,QTabPanels:D.Z,QTabPanel:q.Z,QFile:U.Z,QIcon:Z.Z,QImg:B.Z,QBtn:I.Z,QDialog:V.Z,QField:W.Z})}}]);