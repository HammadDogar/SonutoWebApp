(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"39e2":function(t,e,i){},"3a35":function(t,e,i){"use strict";var o=i("39e2"),a=i.n(o);a.a},ad51:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex page"},[i("div",{staticClass:"q-gutter-y-md",staticStyle:{width:"100%"}},[i("q-card",{staticClass:"maincard"},[i("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":"","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab",{attrs:{name:"Published",label:"Published","no-caps":""}}),i("q-tab",{attrs:{name:"Submitted",label:"Submitted","no-caps":""}}),i("q-tab",{attrs:{name:"Drafts",label:"Drafts","no-caps":""}})],1),i("q-separator"),i("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Published"}},[0===t.publishedBlogs.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("Your Published is empty. tap the button below to start writing ")])],1)]):i("div",t._l(t.publishedBlogs,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToBlogArticle(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openBlogArticleOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Submitted"}},[0===t.submittedBlogs.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("Your Submitted is empty. tap the button below to start writing ")])],1)]):i("div",t._l(t.submittedBlogs,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToBlogArticle(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openBlogArticleOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),i("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Drafts"}},[0===t.draftBlogs.length?i("div",[i("div",{staticClass:"flex flex-center"},[i("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),i("p",{staticClass:"emptymsg"},[t._v("Your draft is empty. tap the button below to start writing ")])],1)]):i("div",t._l(t.draftBlogs,(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[i("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?i("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(i){return t.goToBlogArticle(e.id)}}}):t._e(),i("q-card-section",[i("div",{staticClass:"flex flex-center justify-between"},[i("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(i){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),i("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(i){return t.openBlogArticleOptionModel(e)}}})],1),i("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)])],1)],1)],1),i("div",{ref:"fullscreenElement",attrs:{id:"image-box"}},[i("FullScreen",{attrs:{details:t.fullscreendata}})],1),i("q-dialog",{attrs:{position:"bottom"},model:{value:t.blogArticleOptionModel,callback:function(e){t.blogArticleOptionModel=e},expression:"blogArticleOptionModel"}},[i("BlogArticleOption",{attrs:{selectedBlog:t.selectedBlog},on:{"clicked-selected-Option":t.selectedBlogArticleOption}})],1),i("q-dialog",{attrs:{position:"bottom"},model:{value:t.blogArticleDeleteModel,callback:function(e){t.blogArticleDeleteModel=e},expression:"blogArticleDeleteModel"}},[i("q-card",{staticClass:"roundedNewsFeed"},[i("div",{staticClass:"row items-center no-wrap",staticStyle:{"margin-bottom":"30px"}},[i("div",{staticClass:"col"},[i("q-card-section",{staticClass:"row items-center q-pb-none"},[i("div",{staticClass:"text-h6"},[t._v("Delete Blog")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),i("q-card-section",{staticClass:"row items-center q-pb-none"},[i("p",{staticClass:"col-12"},[t._v("\n              Are you sure you want to delete this blog?\n            ")])]),i("div",{staticClass:"col-12 text-center"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6 text-center"},[i("q-btn",{staticClass:"button default-button",staticStyle:{color:"#000000",width:"90%"},attrs:{label:"Cancel","no-caps":"",outline:"",color:"primary"},on:{click:function(e){return t.confirmationChoice("cancel")}}})],1),i("div",{staticClass:"col-6 text-center"},[i("q-btn",{staticClass:"button default-button",staticStyle:{width:"90%"},attrs:{color:"primary",label:"Confirm","no-caps":""},on:{click:function(e){return t.confirmationChoice("confirm")}}})],1)])])],1)])])],1)],1)},a=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("9523")),c=i.n(s),l=i("2f62"),n=i("d41a"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-card",{staticClass:"roundedNewsFeed"},[i("div",[i("hr",{staticClass:"hr",on:{click:t.closeActionDialog}})]),i("div",{staticClass:"row items-center no-wrap"},[i("div",{staticClass:"col"},[i("q-list",{staticClass:"rounded-borders",staticStyle:{width:"100%","padding-bottom":"45px"},attrs:{bordered:"",padding:""}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Edit")}}},[i("div",{staticClass:"icon-div"},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{staticClass:"icon-img",attrs:{name:"app:pencil"}})],1)],1),i("q-item-section",{staticClass:"option"},[t._v("Edit")])],1),"Drafts"===t.selectedBlog.Status?i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Submit")}}},[i("div",{staticClass:"icon-div"},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{staticClass:"icon-img",attrs:{name:"app:approve"}})],1)],1),i("q-item-section",{staticClass:"option"},[t._v("Submit")])],1):t._e(),"Drafts"===t.selectedBlog.Status||"Submitted"===t.selectedBlog.Status?i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Delete")}}},[i("div",{staticClass:"icon-div"},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{staticClass:"icon-img",attrs:{name:"app:post-notification"}})],1)],1),i("q-item-section",{staticClass:"option"},[t._v("Delete")])],1):t._e()],1)],1)])])},d=[],u={name:"BlogArticleOption",props:{selectedBlog:{type:Object,required:!1}},methods:{action:function(t){this.$emit("clicked-selected-Option",t)},closeActionDialog:function(){}}},p=u,g=(i("3a35"),i("2877")),f=i("f09f"),b=i("1c1c"),m=i("66e5"),h=i("4074"),v=i("0016"),C=i("714f"),y=i("eebe"),B=i.n(y),q=Object(g["a"])(p,r,d,!1,null,"4fae109d",null),k=q.exports;B()(q,"components",{QCard:f["a"],QList:b["a"],QItem:m["a"],QItemSection:h["a"],QIcon:v["a"]}),B()(q,"directives",{Ripple:C["a"]});var x=i("bd4c"),w=i("2a19");function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var S={name:"BlogArticle",created:function(){this.$root.$on("footerAddIconClick",this.showAddBlogPage),this.$root.$on("headerRightIcon2Click",this.gotoSearch),this.$root.$on("headerBackButtonClick",this.backButtonClick),this.$root.$on("onformatDateClick",this.formatDate),this.$root.$on("onExitFullscreen",this.closeFullScreen)},beforeDestroy:function(){this.$root.$off("footerAddIconClick",this.showAddBlogPage),this.$root.$off("headerBackButtonClick",this.backButtonClick),this.$root.$off("headerRightIcon2Click",this.gotoSearch),this.$root.$off("onformatDateClick",this.formatDate),this.$root.$off("onExitFullscreen",this.closeFullScreen)},computed:O(O(O({},Object(l["c"])("blog",["blogs","publishedBlogs","submittedBlogs","draftBlogs"])),Object(l["c"])("config",["blobBaseUrl"])),Object(l["c"])("userprofile",["userDetails"])),components:{FullScreen:n["a"],BlogArticleOption:k},filters:{truncate:function(t,e,i){return null===t?"":(null===t||void 0===t?void 0:t.length)>e?t.substring(0,e)+i:t}},mounted:function(){this.setHeaderData(!0,!1,"Sonuto","","","",!0,!0),this.fetchUserBlogs(this.userDetails.userprofile.id)},data:function(){return{tab:"Published",fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:""},selectedBlog:null,blogArticleOptionModel:!1,blogArticleDeleteModel:!1}},methods:O(O(O({},Object(l["b"])("header",["setHeader"])),Object(l["b"])("blog",["fetchBlogs","storeContent","fetchUserBlogs","updateBlogStatus","deleteBlog","editBlog"])),{},{setHeaderData:function(t,e,i,o,a,s,c,l){this.setHeader({hamburgerIcon:t,backIcon:e,title:i,rightIcon1:o,rightIcon2:a,rightLinkText:s,notificationIcon:c,searchIcon:l})},formatDate:function(t){return x["a"].formatDate(t,"DD MMM")+" at "+x["a"].formatDate(t,"hh.mm A")},gotoSearch:function(){this.$router.push("/blog-search")},backButtonClick:function(){this.$router.push("dashboard")},goToCreateBlog:function(){this.$router.push("/create-blog")},goToReview:function(t){},goToBlogArticle:function(t){this.$router.push("/blog-article/"+t)},showAddBlogPage:function(){var t=this;this.storeContent({form:null}).then((function(){t.$router.push("/create-post")}))},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen(),this.selectedBlog={};var t=document.getElementById("image-box");t.setAttribute("style","display:none;")}},getImageurl:function(t){return t},openBlogArticleOptionModel:function(t){this.selectedBlog=t,this.blogArticleOptionModel=!0},selectedBlogArticleOption:function(t){var e=this;switch(t){case"Edit":this.editBlog(this.selectedBlog.id).then((function(){e.$router.push("create-post")}));break;case"Submit":this.updateBlogStatus({id:this.selectedBlog.id,status:"Submitted"}).then((function(){w["a"].create({progress:!0,message:"Blog Submitted Successfully",type:"positive"}),e.selectedBlog=null,e.blogArticleOptionModel=!1}));break;case"Delete":this.blogArticleOptionModel=!1,this.blogArticleDeleteModel=!0;break}},confirmationChoice:function(t){var e=this;"confirm"===t?this.deleteBlog(parseInt(this.selectedBlog.id)).then((function(){e.blogArticleDeleteModel=!1,e.selectedBlog=null,w["a"].create({progress:!0,message:"Blog Deleted Successfully",type:"positive"})})):(this.blogArticleDeleteModel=!1,this.selectedBlog=null)}})},A=S,_=(i("e263"),i("9989")),$=i("429b"),P=i("7460"),j=i("eb85"),I=i("adad"),M=i("823b"),Q=i("068f"),T=i("ad56"),E=i("a370"),F=i("9c40"),N=i("24e8"),H=i("2c91"),L=i("7f67"),R=Object(g["a"])(A,o,a,!1,null,"1da58c52",null);e["default"]=R.exports;B()(R,"components",{QPage:_["a"],QCard:f["a"],QTabs:$["a"],QTab:P["a"],QSeparator:j["a"],QTabPanels:I["a"],QTabPanel:M["a"],QImg:Q["a"],QIntersection:T["a"],QCardSection:E["a"],QBtn:F["a"],QDialog:N["a"],QSpace:H["a"]}),B()(R,"directives",{ClosePopup:L["a"]})},d63b:function(t,e,i){},e263:function(t,e,i){"use strict";var o=i("d63b"),a=i.n(o);a.a}}]);