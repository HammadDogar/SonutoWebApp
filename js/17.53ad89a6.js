(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"17ec":function(t,e,i){"use strict";var a=i("1eb0"),r=i.n(a);r.a},"1eb0":function(t,e,i){},"5e35":function(t,e,i){"use strict";var a=i("ca4c"),r=i.n(a);r.a},ca4c:function(t,e,i){},d4a8:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex flex-center page"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"flex flex-center"},[null!=t.form.avatar&&null!=t.form.avatar.url?i("q-img",{staticClass:"rounded-borders profile-img",attrs:{src:""+t.form.avatar.url,"spinner-color":"white"},on:{click:function(e){return t.getfullScreen(t.form)}}}):t.form.firstname?i("q-avatar",{staticStyle:{height:"126px",width:"126px"},attrs:{color:"primary","text-color":"white"}},[t._v("\n        "+t._s(t.form.firstname.charAt(0))+" "+t._s(t.form.lastname.charAt(0))+"\n      ")]):t._e()],1),i("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/gif, image/jpeg"},on:{change:t.onFileChange}}),i("div",{staticClass:"flex flex-center edit-circle-icon"},[i("q-btn",{attrs:{flat:"",icon:"app:filled-circle",size:"14px","no-caps":""},on:{click:function(e){return t.$refs.file.click()}}})],1),i("div",{staticClass:"flex flex-center profile-photo-header"},[t._v("\n      Profile Photo\n    ")]),i("div",{staticClass:"profile-edit-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 input-label"},[t._v("\n          First Name\n        ")]),i("div",{staticClass:"col-12"},[i("q-input",{staticClass:"input-control",attrs:{borderless:"","input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"},rules:[function(t){return!!t||"Field is required"}]},on:{keyup:function(e){return t.validateSpace("firstname")}},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}})],1),i("div",{staticClass:"col-12 input-label"},[t._v("\n          Last Name\n        ")]),i("div",{staticClass:"col-12"},[i("q-input",{staticClass:"input-control",attrs:{borderless:"","input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"},rules:[function(t){return!!t||"Field is required"}]},on:{keyup:function(e){return t.validateSpace("lastname")}},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})],1),i("div",{staticClass:"col-12 input-label"},[t._v("\n          Country\n        ")]),i("div",{staticClass:"col-12"},[i("q-select",{staticClass:"input-control country-select",staticStyle:{"padding-left":"5px"},attrs:{options:t.countries,"emit-value":"","map-options":"",filled:"","input-style":{height:"46px",padding:"0px 5px"},rules:[function(t){return!!t||"Field is required"}]},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}})],1),i("div",{staticClass:"col-12 input-label"},[t._v("\n          School/College/University\n        ")]),i("div",{staticClass:"col-12"},[i("q-input",{staticClass:"input-control",attrs:{borderless:"","input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"},rules:[function(t){return!!t||"Field is required"}]},model:{value:t.form.school,callback:function(e){t.$set(t.form,"school",e)},expression:"form.school"}})],1),i("div",{staticClass:"col-12 input-label"},[t._v("\n          Employer\n        ")]),i("div",{staticClass:"col-12"},[i("q-input",{staticClass:"input-control",attrs:{borderless:"","input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"},rules:[function(t){return!!t||"Field is required"}]},model:{value:t.form.employer,callback:function(e){t.$set(t.form,"employer",e)},expression:"form.employer"}})],1),i("div",{staticClass:"col-12 input-label"},[t._v("\n          Occupation\n        ")]),i("div",{staticClass:"col-12"},[i("q-input",{staticClass:"input-control",attrs:{borderless:"","input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"},rules:[function(t){return!!t||"Field is required"}]},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)])])]),i("div",{ref:"fullscreenElement",attrs:{id:"image-box"}},[i("FullScreen",{attrs:{details:t.fullscreendata}})],1)])},r=[],n=(i("8e6e"),i("8a81"),i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("f751"),i("9523")),s=i.n(n),l=i("2f62"),o=i("bd4c"),c=i("2a19"),u=i("d41a");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){s()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={created:function(){this.$root.$on("headerBackButtonClick",this.backButtonClick),this.$root.$on("headerRightButtonClick",this.save),this.$root.$on("onformatDateClick",this.formatDate),this.$root.$on("onExitFullscreen",this.closeFullScreen)},beforeDestroy:function(){this.$root.$off("headerBackButtonClick",this.backButtonClick),this.$root.$off("headerRightButtonClick",this.save),this.$root.$off("onformatDateClick",this.formatDate),this.$root.$off("onExitFullscreen",this.closeFullScreen)},computed:p(p(p({},Object(l["c"])("config",["baseUrl"])),Object(l["c"])("userprofile",["userprofileDetail"])),Object(l["c"])("country",["countries"])),components:{FullScreen:u["a"]},data:function(){return{loading:!1,form:{id:"",FirstName:"",LastName:"",country:"",School:"",Employer:"",Occupation:"",Avatar:null},profileImage:null,fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:"",hideBack:!1}}},mounted:function(){this.setHeaderData(!1,!0,"Edit Profile","","","Save",!1,!1),0===this.countries.length&&this.getCountry(),this.form=Object.assign({},this.userprofileDetail,{avatar:Object.assign({},this.userprofileDetail.avatar)}),this.form.country=this.userprofileDetail.country},methods:p(p(p(p({},Object(l["b"])("country",["fetchCountries"])),Object(l["b"])("userprofile",["updateUserDetails"])),Object(l["b"])("header",["setHeader"])),{},{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files,i=e[0].size/1024/1024;if(i>2)return c["a"].create({progress:!0,message:"please select profile photo less than 2 MB",type:"negative"}),!1;e.length&&(this.profileImage=e[0],this.createImage(e[0]))},createImage:function(t){var e=this,i=new FileReader;i.onload=function(t){0!==Object.keys(e.form.avatar).length||(e.form.avatar=Object.assign({})),e.form.avatar.url=t.target.result},i.readAsDataURL(t)},setHeaderData:function(t,e,i,a,r,n,s,l){this.setHeader({hamburgerIcon:t,backIcon:e,title:i,rightIcon1:a,rightIcon2:r,rightLinkText:n,notificationIcon:s,searchIcon:l})},getCountry:function(){this.fetchCountries()},save:function(){this.form.firstname&&this.form.lastname&&this.form.country&&this.form.school&&this.form.employer&&this.form.occupation&&this.updateUserDetails({file:this.profileImage,userDetail:this.form,afterSuccess:this.backButtonClick})},backButtonClick:function(){this.$router.push("profile")},formatDate:function(t){return o["a"].formatDate(t,"DD MMM")+" at "+o["a"].formatDate(t,"hh.mm A")},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen();var t=document.getElementById("image-box");t.setAttribute("style","display:none;"),this.fullscreendata.hideBack=!0}},getfullScreen:function(t){this.fullscreendata.hideBack=!1,this.fullscreendata.url=t.avatar.url,this.fullscreendata.name=t.firstname+" "+t.lastname,this.fullscreendata.feedtext=null,this.fullscreendata.created_at=null,this.fullscreendata.likeLength=null,this.fullscreendata.commentLength=null,this.fullscreendata.id=null,this.fullscreendata.likeIcon=null;var e=document.getElementById("image-box");e.setAttribute("style","display:flex;");var i=this.$refs.fullscreenElement;this.$q.fullscreen.toggle(i).then((function(){})).catch((function(t){alert(t)}))},validateSpace:function(t){/^\s/.test(this.form[t])&&(this.form[t]="")}})},h=d,m=(i("5e35"),i("17ec"),i("2877")),g=i("9989"),v=i("068f"),b=i("cb32"),x=i("9c40"),y=i("27f9"),C=i("ddd8"),k=i("8572"),O=i("eebe"),$=i.n(O),D=Object(m["a"])(h,a,r,!1,null,"76dfac87",null);e["default"]=D.exports;$()(D,"components",{QPage:g["a"],QImg:v["a"],QAvatar:b["a"],QBtn:x["a"],QInput:y["a"],QSelect:C["a"],QField:k["a"]})}}]);