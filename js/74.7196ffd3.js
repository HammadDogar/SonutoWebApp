"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[74],{64117:function(e,t,o){o.r(t),o.d(t,{default:function(){return ye}});var n=o(59835),l=o(86970),i=function(e){return(0,n.dD)("data-v-36f40763"),e=e(),(0,n.Cn)(),e},r={class:"q-gutter-y-md",style:{width:"100%"}},s={key:0},c={class:"flex flex-center"},a=i((function(){return(0,n._)("p",{class:"emptymsg"},"No Published found ",-1)})),u={key:1},d=["src","id","poster","onClick"],g={class:"flex flex-center justify-between"},m=["onClick"],f={key:0,class:"text-caption text-grey blog-description"},p={key:0},h={class:"flex flex-center"},v=i((function(){return(0,n._)("p",{class:"emptymsg"},"No Requests found.",-1)})),b={key:1},w=["src","id","poster","onClick"],k={class:"flex flex-center justify-between"},y=["onClick"],C={key:0,class:"text-caption text-grey blog-description"},B={key:0},P={class:"flex flex-center"},_=i((function(){return(0,n._)("p",{class:"emptymsg"},"No Rejected found. ",-1)})),x={key:1},D=["src","id","poster","onClick"],q={class:"flex flex-center justify-between"},W=["onClick"],I={key:0,class:"text-caption text-grey blog-description"},O={key:0},M={class:"flex flex-center"},j=i((function(){return(0,n._)("p",{class:"emptymsg"},"No Unpublished found. ",-1)})),T={key:1},S=["src","id","poster","onClick"],Z={class:"flex flex-center justify-between"},A=["onClick"],F={key:0,class:"text-caption text-grey blog-description"},R={id:"image-box",ref:"fullscreenElement"},Q={class:"row items-center no-wrap",style:{"margin-bottom":"30px"}},U={class:"col"},V={class:"text-h6"},$={class:"col-12"},z={class:"col-12 text-center"},H={class:"row"},L={class:"col-6 text-center"},K={class:"col-6 text-center"};function N(e,t,o,i,N,E){var Y=(0,n.up)("q-tab"),G=(0,n.up)("q-tabs"),J=(0,n.up)("q-separator"),X=(0,n.up)("q-img"),ee=(0,n.up)("q-btn"),te=(0,n.up)("q-card-section"),oe=(0,n.up)("q-card"),ne=(0,n.up)("q-intersection"),le=(0,n.up)("q-tab-panel"),ie=(0,n.up)("q-tab-panels"),re=(0,n.up)("FullScreen"),se=(0,n.up)("ManageBlogOption"),ce=(0,n.up)("q-dialog"),ae=(0,n.up)("q-space"),ue=(0,n.up)("q-page"),de=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(ue,{class:"flex page"},{default:(0,n.w5)((function(){return[(0,n._)("div",r,[(0,n.Wm)(oe,{class:"maincard"},{default:(0,n.w5)((function(){return[(0,n.Wm)(G,{modelValue:N.tab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N.tab=e}),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":"","narrow-indicator":""},{default:(0,n.w5)((function(){return[(0,n.Wm)(Y,{name:"Published",label:"Published","no-caps":""}),(0,n.Wm)(Y,{name:"Requests",label:"Requests","no-caps":""}),(0,n.Wm)(Y,{name:"Rejected",label:"Rejected","no-caps":""}),(0,n.Wm)(Y,{name:"Unpublished",label:"Unpublished","no-caps":""})]})),_:1},8,["modelValue"]),(0,n.Wm)(J),(0,n.Wm)(ie,{modelValue:N.tab,"onUpdate:modelValue":t[1]||(t[1]=function(e){return N.tab=e}),animated:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(le,{name:"Published",style:{padding:"0px !important"}},{default:(0,n.w5)((function(){return[0===e.publishedBlogs.length?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",c,[(0,n.Wm)(X,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),a])])):((0,n.wg)(),(0,n.iD)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.publishedBlogs,(function(e){return(0,n.wg)(),(0,n.j4)(ne,{transition:"scale",once:"",key:e.id},{default:(0,n.w5)((function(){return[(0,n.Wm)(oe,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,n.w5)((function(){return[e.CoverPhoto&&E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.j4)(X,{key:0,class:"blog-cover",src:E.getImageurl(e.CoverPhoto.url),onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,["src","onClick"])):(0,n.kq)("",!0),null!==e.CoverPhoto&&!1===E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",poster:!!e.PosterImage&&e.PosterImage.url,preload:"none",controlsList:"nodownload",onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,d)):(0,n.kq)("",!0),(0,n.Wm)(te,null,{default:(0,n.w5)((function(){return[(0,n._)("div",g,[(0,n._)("div",{class:"text-h6 q-mt-sm q-mb-xs blog-title",onClick:function(t){return E.goToBlogArticle(e.id)}},(0,l.zw)(e.Title),9,m),(0,n.Wm)(ee,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return E.openBlogOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,n.wg)(),(0,n.iD)("div",f,(0,l.zw)(E.truncateFun(e.Description,50,"...")),1)):(0,n.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1}),(0,n.Wm)(le,{name:"Requests",style:{padding:"0px !important"}},{default:(0,n.w5)((function(){return[0===e.submittedBlogs.length?((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("div",h,[(0,n.Wm)(X,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),v])])):((0,n.wg)(),(0,n.iD)("div",b,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.submittedBlogs,(function(e){return(0,n.wg)(),(0,n.j4)(ne,{transition:"scale",once:"",key:e.id},{default:(0,n.w5)((function(){return[(0,n.Wm)(oe,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,n.w5)((function(){return[e.CoverPhoto&&E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.j4)(X,{key:0,class:"blog-cover",src:E.getImageurl(e.CoverPhoto.url),onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,["src","onClick"])):(0,n.kq)("",!0),null!==e.CoverPhoto&&!1===E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",poster:!!e.PosterImage&&e.PosterImage.url,preload:"none",controlsList:"nodownload",onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,w)):(0,n.kq)("",!0),(0,n.Wm)(te,null,{default:(0,n.w5)((function(){return[(0,n._)("div",k,[(0,n._)("div",{class:"text-h5 q-mt-sm q-mb-xs blog-title",onClick:function(t){return E.goToBlogArticle(e.id)}},(0,l.zw)(e.Title),9,y),(0,n.Wm)(ee,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return E.openBlogOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,n.wg)(),(0,n.iD)("div",C,(0,l.zw)(E.truncateFun(e.Description,50,"...")),1)):(0,n.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1}),(0,n.Wm)(le,{name:"Rejected",style:{padding:"0px !important"}},{default:(0,n.w5)((function(){return[0===e.rejectedBlogs.length?((0,n.wg)(),(0,n.iD)("div",B,[(0,n._)("div",P,[(0,n.Wm)(X,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),_])])):((0,n.wg)(),(0,n.iD)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.rejectedBlogs,(function(e){return(0,n.wg)(),(0,n.j4)(ne,{transition:"scale",once:"",key:e.id},{default:(0,n.w5)((function(){return[(0,n.Wm)(oe,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,n.w5)((function(){return[e.CoverPhoto&&E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.j4)(X,{key:0,class:"blog-cover",src:E.getImageurl(e.CoverPhoto.url),onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,["src","onClick"])):(0,n.kq)("",!0),null!==e.CoverPhoto&&!1===E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",poster:!!e.PosterImage&&e.PosterImage.url,preload:"none",controlsList:"nodownload",onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,D)):(0,n.kq)("",!0),(0,n.Wm)(te,null,{default:(0,n.w5)((function(){return[(0,n._)("div",q,[(0,n._)("div",{class:"text-h5 q-mt-sm q-mb-xs blog-title",onClick:function(t){return E.goToBlogArticle(e.id)}},(0,l.zw)(e.Title),9,W),(0,n.Wm)(ee,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return E.openBlogOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,n.wg)(),(0,n.iD)("div",I,(0,l.zw)(E.truncateFun(e.Description,50,"...")),1)):(0,n.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1}),(0,n.Wm)(le,{name:"Unpublished",style:{padding:"0px !important"}},{default:(0,n.w5)((function(){return[0===e.unpublishedBlogs.length?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",M,[(0,n.Wm)(X,{class:"emptyDraft",src:"/avatars/empty-draft-avatar.svg"},null,8,["src"]),j])])):((0,n.wg)(),(0,n.iD)("div",T,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.unpublishedBlogs,(function(e){return(0,n.wg)(),(0,n.j4)(ne,{transition:"scale",once:"",key:e.id},{default:(0,n.w5)((function(){return[(0,n.Wm)(oe,{class:"my-card",flat:"",style:{width:"100%"}},{default:(0,n.w5)((function(){return[e.CoverPhoto&&E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.j4)(X,{key:0,class:"blog-cover",src:E.getImageurl(e.CoverPhoto.url),onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,["src","onClick"])):(0,n.kq)("",!0),null!==e.CoverPhoto&&!1===E.isImagePost(e.CoverPhoto.mime)?((0,n.wg)(),(0,n.iD)("video",{key:1,src:e.CoverPhoto.url,class:"video-player",id:e.id,controls:"",poster:!!e.PosterImage&&e.PosterImage.url,preload:"none",controlsList:"nodownload",onClick:function(t){return E.goToBlogArticle(e.id)}},null,8,S)):(0,n.kq)("",!0),(0,n.Wm)(te,null,{default:(0,n.w5)((function(){return[(0,n._)("div",Z,[(0,n._)("div",{class:"text-h6 q-mt-sm q-mb-xs blog-title",onClick:function(t){return E.goToBlogArticle(e.id)}},(0,l.zw)(e.Title),9,A),(0,n.Wm)(ee,{color:"grey-7",round:"",flat:"",icon:"app:three-dots",onClick:function(t){return E.openBlogOptionModel(e)}},null,8,["onClick"])]),e.Description?((0,n.wg)(),(0,n.iD)("div",F,(0,l.zw)(E.truncateFun(e.Description,50,"...")),1)):(0,n.kq)("",!0)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]))]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]),(0,n._)("div",R,[(0,n.Wm)(re,{details:N.fullscreendata},null,8,["details"])],512),(0,n.Wm)(ce,{modelValue:N.blogOptionModel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return N.blogOptionModel=e}),position:"bottom"},{default:(0,n.w5)((function(){return[(0,n.Wm)(se,{selectedBlog:N.selectedBlog,onClickedSelectedOption:E.selectedManageOption},null,8,["selectedBlog","onClickedSelectedOption"])]})),_:1},8,["modelValue"]),(0,n.Wm)(ce,{modelValue:N.confirmModal,"onUpdate:modelValue":t[5]||(t[5]=function(e){return N.confirmModal=e}),position:"bottom"},{default:(0,n.w5)((function(){return[(0,n.Wm)(oe,{class:"roundedNewsFeed"},{default:(0,n.w5)((function(){return[(0,n._)("div",Q,[(0,n._)("div",U,[(0,n.Wm)(te,{class:"row items-center q-pb-none"},{default:(0,n.w5)((function(){return[(0,n._)("div",V,(0,l.zw)(N.selectedOption)+" Blog",1),(0,n.Wm)(ae),(0,n.wy)((0,n.Wm)(ee,{icon:"close",flat:"",round:"",dense:""},null,512),[[de]])]})),_:1}),(0,n.Wm)(te,{class:"row items-center q-pb-none"},{default:(0,n.w5)((function(){return[(0,n._)("p",$," Are you sure you want to "+(0,l.zw)(N.selectedOption)+" this blog? ",1)]})),_:1}),(0,n._)("div",z,[(0,n._)("div",H,[(0,n._)("div",L,[(0,n.Wm)(ee,{label:"Cancel",class:"button default-button","no-caps":"",outline:"",color:"primary",style:{color:"#000000",width:"90%"},onClick:t[3]||(t[3]=function(e){return E.confirmChoice("cancel")})})]),(0,n._)("div",K,[(0,n.Wm)(ee,{color:"primary",style:{width:"90%"},label:"Confirm",class:"button default-button","no-caps":"",onClick:t[4]||(t[4]=function(e){return E.confirmChoice("confirm")})})])])])])])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})}var E=o(46264),Y=o.n(E),G=(o(65716),o(46727),o(69665),o(33100)),J=o(72370),X=o(6827),ee=o(4376),te=o(56290),oe={name:"BlogArticle",created:function(){this.$emitter.on("headerRightIcon2Click",this.gotoSearch),this.$emitter.on("onformatDateClick",this.formatDate),this.$emitter.on("onExitFullscreen",this.closeFullScreen)},beforeUnmount:function(){this.$emitter.off("headerRightIcon2Click",this.gotoSearch),this.$emitter.off("onformatDateClick",this.formatDate),this.$emitter.off("onExitFullscreen",this.closeFullScreen)},computed:Y()(Y()(Y()(Y()({},(0,G.Se)("blog",["blogs","publishedBlogs","submittedBlogs","draftBlogs","rejectedBlogs","unpublishedBlogs"])),(0,G.Se)("config",["blobBaseUrl"])),(0,G.Se)("userprofile",["userDetails"])),(0,G.Se)("userprofile",["userRoles"])),components:{FullScreen:J.Z,ManageBlogOption:te.Z},mounted:function(){var e,t;this.userRoles&&!this.userRoles.some((function(e){return[2].includes(e.id)}))&&this.$router.push("index"),this.setHeaderData(!1,!0,"Manage Blogs","","","",!0,!0);var o="true"===(null===(e=this.$route)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.isForVlog)||!1;this.fetchBlogs(o)},data:function(){return{tab:"Published",fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:""},selectedBlog:null,blogOptionModel:!1,confirmModal:!1,selectedOption:""}},methods:Y()(Y()(Y()({},(0,G.nv)("header",["setHeader"])),(0,G.nv)("blog",["fetchBlogs","storeContent","fetchBlogs","updateBlogStatus"])),{},{setHeaderData:function(e,t,o,n,l,i,r,s){this.setHeader({hamburgerIcon:e,backIcon:t,title:o,rightIcon1:n,rightIcon2:l,rightLinkText:i,notificationIcon:r,searchIcon:s})},truncateFun:function(e,t,o){return null===e?"":(null===e||void 0===e?void 0:e.length)>t?e.substring(0,t)+o:e},formatDate:function(e){return ee.ZP.formatDate(e,"DD MMM")+" at "+ee.ZP.formatDate(e,"hh.mm A")},gotoSearch:function(){this.$router.push("/blog-search")},backButtonClick:function(){this.$router.push("dashboard")},goToCreateBlog:function(){this.$router.push("/create-blog")},goToBlogArticle:function(e){this.$router.push("/blog-article/"+e)},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen(),this.selectedBlog={};var e=document.getElementById("image-box");e.setAttribute("style","display:none;")}},getImageurl:function(e){var t=e.substring(e.lastIndexOf("/")+1),o="https://konokustorageprod.blob.core.windows.net/photos/assets/";return e=o+t,e},openBlogOptionModel:function(e){this.selectedBlog=e,this.blogOptionModel=!0},selectedManageOption:function(e){this.selectedOption=e,this.blogOptionModel=!1,this.confirmModal=!0},confirmChoice:function(e){var t=this;if("confirm"===e){var o="Approve"===this.selectedOption||"Publish"===this.selectedOption?"Published":"Reject"===this.selectedOption?"Rejected":"Unpublish"===this.selectedOption?"Unpublished":"";this.updateBlogStatus({id:this.selectedBlog.id,status:o}).then((function(e){X.Z.create({progress:!0,message:"Blog Status Updated Successfully",type:"positive"}),t.selectedOption="",t.selectedBlog=null,t.confirmModal=!1}))}else this.selectedBlog=null,this.confirmModal=!1,this.selectedOption=""},isImagePost:function(e){return"image"===e.split("/")[0]}})},ne=o(11639),le=o(69885),ie=o(44458),re=o(47817),se=o(57661),ce=o(50926),ae=o(89800),ue=o(84106),de=o(91487),ge=o(30875),me=o(63190),fe=o(68879),pe=o(32074),he=o(90136),ve=o(62146),be=o(69984),we=o.n(be);const ke=(0,ne.Z)(oe,[["render",N],["__scopeId","data-v-36f40763"]]);var ye=ke;we()(oe,"components",{QPage:le.Z,QCard:ie.Z,QTabs:re.Z,QTab:se.Z,QSeparator:ce.Z,QTabPanels:ae.Z,QTabPanel:ue.Z,QImg:de.Z,QIntersection:ge.Z,QCardSection:me.Z,QBtn:fe.Z,QDialog:pe.Z,QSpace:he.Z}),we()(oe,"directives",{ClosePopup:ve.Z})}}]);