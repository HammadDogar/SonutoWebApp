"use strict";(self["webpackChunkSonuto"]=self["webpackChunkSonuto"]||[]).push([[9633],{79633:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});t(62590);var l=t(59835),o={class:"main-container"},a={class:"custom-navbar"},i=(0,l._)("h5",{class:"q-ma-none"},"Hello Admin !",-1),r={class:"row justify-center q-mt-lg"},s={class:"col-12"},u={class:"flex justify-between q-mx-md"},d=(0,l._)("h4",{class:"q-ma-none"},"Users",-1),c={class:"q-pa-md"},m=(0,l._)("div",{class:"text-h6"},"Add User",-1),f={class:"row q-col-gutter-md"},p={class:"col-12"},h={class:"col-12"},b={class:"col-12"},g={class:"col-12"},v={class:"col-12 text-right"};function U(e,n,t,U,q,A){var _=this,w=(0,l.up)("q-icon"),W=(0,l.up)("q-btn"),V=(0,l.up)("q-td"),Z=(0,l.up)("q-table"),y=(0,l.up)("q-space"),Q=(0,l.up)("q-card-section"),F=(0,l.up)("q-input"),k=(0,l.up)("q-select"),S=(0,l.up)("q-form"),C=(0,l.up)("q-card"),L=(0,l.up)("q-dialog"),R=(0,l.up)("q-page"),N=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(R,{class:"flex-center page"},{default:(0,l.w5)((function(){return[(0,l._)("div",o,[(0,l._)("div",a,[i,(0,l._)("h6",{class:"q-ma-none cursor-pointer",onClick:n[0]||(n[0]=function(e){return A.logOut()})},[(0,l.Wm)(w,{name:e.matMenu},null,8,["name"]),(0,l.Uk)(" Logout ")])]),(0,l._)("div",r,[(0,l._)("div",s,[(0,l._)("div",u,[d,(0,l.Wm)(W,{color:"primary",type:"submit",label:"Add Users",class:"add-button",rounded:"","no-caps":"",onClick:n[1]||(n[1]=function(e){return q.addUserDialog=!0})})]),(0,l._)("template",null,[(0,l._)("div",c,[(0,l.Wm)(Z,{rows:_.adminUsers,columns:q.columns,"row-key":"name",pagination:q.pagination,"onUpdate:pagination":n[2]||(n[2]=function(e){return q.pagination=e}),class:"my-sticky-header-table custom-table table-responsive"},{"body-cell-action":(0,l.w5)((function(e){return[(0,l.Wm)(V,{props:e},{default:(0,l.w5)((function(){return[(0,l.Wm)(W,{dense:"",round:"",flat:"",color:"red",icon:"delete",onClick:function(n){return A.deleteAdminFunc(e)}},null,8,["onClick"])]})),_:2},1032,["props"])]})),_:1},8,["rows","columns","pagination"])])])])]),(0,l.Wm)(L,{modelValue:q.addUserDialog,"onUpdate:modelValue":n[7]||(n[7]=function(e){return q.addUserDialog=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(C,{class:"add-user-modal"},{default:(0,l.w5)((function(){return[(0,l.Wm)(Q,{class:"row items-center q-pb-none"},{default:(0,l.w5)((function(){return[m,(0,l.Wm)(y),(0,l.wy)((0,l.Wm)(W,{icon:"close",class:"close-btn",flat:"",round:"",dense:""},null,512),[[N]])]})),_:1}),(0,l.Wm)(Q,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(S,{onSubmit:A.addAdminUserFunc},{default:(0,l.w5)((function(){return[(0,l._)("div",f,[(0,l._)("div",p,[(0,l.Wm)(F,{label:"First Name",name:"firstName",modelValue:q.form.firstname,"onUpdate:modelValue":n[3]||(n[3]=function(e){return q.form.firstname=e}),rules:[function(e){return!!e||"Field is required"}]},null,8,["modelValue","rules"])]),(0,l._)("div",h,[(0,l.Wm)(F,{label:"Last Name",name:"lastName",modelValue:q.form.lastname,"onUpdate:modelValue":n[4]||(n[4]=function(e){return q.form.lastname=e}),rules:[function(e){return!!e||"Field is required"}]},null,8,["modelValue","rules"])]),(0,l._)("div",b,[(0,l.Wm)(k,{modelValue:q.form.email,"onUpdate:modelValue":n[5]||(n[5]=function(e){return q.form.email=e}),name:"user",options:e.usersList,label:"User","option-value":function(e){return e.email},"option-label":function(e){return null===e.user?null:e.user},"map-options":"",rules:[function(e){return!!e||"Field is required"}]},null,8,["modelValue","options","option-value","option-label","rules"])]),(0,l._)("div",g,[(0,l.Wm)(k,{modelValue:q.form.roles,"onUpdate:modelValue":n[6]||(n[6]=function(e){return q.form.roles=e}),name:"role",options:e.adminRoles,label:"Role","option-value":function(e){return null===e?null:e.id},"option-label":function(e){return null===e?"Null value":e.name},"map-options":"",rules:[function(e){return!!e||"Field is required"}]},null,8,["modelValue","options","option-value","option-label","rules"])]),(0,l._)("div",v,[(0,l.Wm)(W,{color:"primary",type:"submit",label:"Add",class:"add-button",rounded:"",disabled:e.addUserRequestStatus,"no-caps":""},null,8,["disabled"])])])]})),_:1},8,["onSubmit"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])]})),_:1})}var q=t(46264),A=t.n(q),_=(t(69665),t(33100)),w=t(6827),W={data:function(){return{addUserDialog:!1,form:{firstname:"",lastname:"",email:"",roles:""},pagination:{rowsPerPage:10},columns:[{name:"firstname",required:!0,label:"Name",align:"center",field:function(e){return e.firstname},format:function(e,n){return"".concat(n.firstname+" "+n.lastname)}},{name:"email",align:"center",label:"Email",field:"email"},{name:"roles",align:"center",label:"Roles",field:"roles",format:function(e){return e[0].code}},{name:"isActive",align:"center",label:"Active User",field:"isActive",format:function(e){return"".concat(!0===e?"Active":"Not Active")}},{name:"action",align:"center",label:"Action",field:""}]}},computed:A()(A()({},(0,_.Se)("admin",["adminRoles","adminUsers","usersList","addUserRequestStatus"])),(0,_.Se)("userprofile",["isAuthenticated"])),methods:A()(A()(A()({},(0,_.nv)("admin",["fetchAdminRoles","fetchAdminUsers","fetchUsersList","addAdminUser","deleteAdmin"])),(0,_.nv)("userprofile",["logout"])),{},{logOut:function(){this.logout()},returnValue:function(e){return e.userprofile.firstname},clearForm:function(){this.form={firstname:"",lastname:"",email:"",roles:""},this.addUserDialog=!1,w.Z.create({progress:!0,message:"User Added Successfully",type:"positive"})},addAdminUserFunc:function(){var e=A()(A()({},this.form),{},{email:this.form.email.email,roles:[this.form.roles.id]});this.addAdminUser({payload:e,callBack:this.clearForm})},deleteAdminFunc:function(e){this.deleteAdmin({ids:[e.row.id]})}}),mounted:function(){this.fetchAdminRoles(),this.fetchAdminUsers(),this.fetchUsersList(),this.isAuthenticated||this.$router.push("adminLogin")},created:function(){this.isAuthenticated||this.$router.push("adminLogin")}},V=t(11639),Z=t(69885),y=t(22857),Q=t(68879),F=t(81463),k=t(67220),S=t(32074),C=t(44458),L=t(63190),R=t(90136),N=t(8326),D=t(13119),x=t(32259),P=t(18149),j=t(62146),B=t(69984),I=t.n(B);const O=(0,V.Z)(W,[["render",U]]);var T=O;I()(W,"components",{QPage:Z.Z,QIcon:y.Z,QBtn:Q.Z,QTable:F.Z,QTd:k.Z,QDialog:S.Z,QCard:C.Z,QCardSection:L.Z,QSpace:R.Z,QForm:N.Z,QInput:D.Z,QSelect:x.Z,QField:P.Z}),I()(W,"directives",{ClosePopup:j.Z})}}]);