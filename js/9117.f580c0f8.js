"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[9117],{69117:function(t,e,n){n.r(e),n.d(e,{default:function(){return V}});var i=n(59835),o=function(t){return(0,i.dD)("data-v-2331efcb"),t=t(),(0,i.Cn)(),t},s={class:"main-container"},r={class:"profile-edit-section"},a={class:"row"},c={class:"col"},u=o((function(){return(0,i._)("p",{class:"heading"},"Delete Account",-1)})),l=o((function(){return(0,i._)("p",null,"When you delete your konoku account, you won't be able to retrieve the content or information you've shared on konoku. Your main profile and all of your messages will also be deleted. ",-1)})),d=o((function(){return(0,i._)("div",{class:"msginfo",style:{"margin-bottom":"10px","margin-top":"20px",width:"100%"}},[(0,i._)("span",{class:"user-name"}," Please enter your password to confirm you wish to delete your account ")],-1)})),p={key:0,class:"msginfo",style:{"margin-bottom":"10px","margin-top":"20px",width:"100%"}},h=o((function(){return(0,i._)("span",{class:"user-name"}," Please enter the verification code sent to your registered email account ",-1)})),f=[h],m={class:"more-info-item",style:{"margin-top":"40px",width:"100%"}};function g(t,e,n,o,h,g){var v=(0,i.up)("q-icon"),y=(0,i.up)("q-input"),k=(0,i.up)("q-btn"),w=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(w,{class:"flex-center"},{default:(0,i.w5)((function(){return[(0,i._)("div",s,[(0,i._)("div",r,[(0,i._)("div",a,[(0,i._)("div",c,[u,l,d,(0,i.Wm)(y,{modelValue:h.password,"onUpdate:modelValue":e[1]||(e[1]=function(t){return h.password=t}),borderless:"",type:h.isPwd?"password":"text",class:"input-control",readonly:2===h.step,disabled:2==h.step,"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"}},{append:(0,i.w5)((function(){return[(0,i.Wm)(v,{name:2===h.step?"verified":h.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[0]||(e[0]=function(t){return h.isPwd=!h.isPwd}),color:2==h.step&&"green",style:{"margin-right":"5px"}},null,8,["name","color"])]})),_:1},8,["modelValue","type","readonly","disabled"]),2==h.step?((0,i.wg)(),(0,i.iD)("div",p,f)):(0,i.kq)("",!0),2==h.step?((0,i.wg)(),(0,i.j4)(y,{key:1,borderless:"",class:"input-control",modelValue:h.otp,"onUpdate:modelValue":e[2]||(e[2]=function(t){return h.otp=t}),"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"}},null,8,["modelValue"])):(0,i.kq)("",!0),(0,i._)("div",m,[(0,i.Wm)(k,{color:"primary",label:1===h.step?"Verify":"Delete",rounded:"","no-caps":"",disable:1==h.step&&""==h.password||2==h.step&&""==h.otp||h.loading,onClick:g.submitFunc},null,8,["label","disable","onClick"])])])])])])]})),_:1})}var v=n(46264),y=n.n(v),k=(n(69665),n(11476),n(32119),n(6827)),w=n(33100),b={created:function(){this.$emitter.on("headerBackButtonClick",this.backButtonClick),this.$emitter.on("headerRightIcon2Click",this.gotoSearch)},beforeUnmount:function(){this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("headerRightIcon2Click",this.gotoSearch)},computed:y()({},(0,w.Se)("userprofile",["userprofileDetail","userDetails"])),data:function(){return{loading:!1,password:"",otp:"",isPwd:!0,step:1}},mounted:function(){this.setHeaderData(!1,!0,"Delete Account","","","",!0,!0)},methods:y()(y()(y()(y()({},(0,w.nv)("header",["setHeader"])),(0,w.nv)("userprofile",["logout"])),(0,w.nv)("accountSettings",["verifyPassword","verifyOtp"])),{},{setHeaderData:function(t,e,n,i,o,s,r,a){this.setHeader({hamburgerIcon:t,backIcon:e,title:n,rightIcon1:i,rightIcon2:o,rightLinkText:s,notificationIcon:r,searchIcon:a})},backButtonClick:function(){this.$router.push("account-setting")},afterUpdateSuccess:function(){k.Z.create({progress:!0,message:"Account Settings Updated",type:"positive"}),this.backButtonClick()},gotoSearch:function(){this.$router.push("search-result")},validateSpace:function(t){/^\s/.test(this.form[t])&&(this.form[t]="")},verifyPasswordFunc:function(){var t=this;this.loading=!0,this.verifyPassword({userId:this.userDetails.id,currentPassword:this.password}).then((function(e){t.loading=!1,e&&(t.step=2)}))},verifyOtpFunc:function(){var t=this;this.loading=!0,this.verifyOtp({userId:this.userDetails.id,otp:this.otp}).then((function(e){t.loading=!1,e&&t.logout()}))},submitFunc:function(){1===this.step?this.verifyPasswordFunc():2===this.step&&this.verifyOtpFunc()}})},x=n(11639),_=n(69885),C=n(13119),I=n(22857),P=n(68879),D=n(18149),B=n(69984),S=n.n(B);const F=(0,x.Z)(b,[["render",g],["__scopeId","data-v-2331efcb"]]);var V=F;S()(b,"components",{QPage:_.Z,QInput:C.Z,QIcon:I.Z,QBtn:P.Z,QField:D.Z})}}]);