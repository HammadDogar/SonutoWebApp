"use strict";(self["webpackChunkSonuto"]=self["webpackChunkSonuto"]||[]).push([[1034],{37741:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});n(52519),n(62590);var l=n(59835),o=n(61957),a=n(86970),u=function(e){return(0,l.dD)("data-v-fb7a5b28"),e=e(),(0,l.Cn)(),e},r={class:"q-pa-md row",style:{"max-width":"375px",width:"375px",overflow:"hidden"}},i={class:"row q-col-gutter-none"},s={class:"col-4"},c={class:"row q-col-gutter-none"},d={class:"col-4",style:{"margin-top":"0.25rem"}},m=u((function(){return(0,l._)("div",{style:{margin:"-20px 0px 0px 0.5px"},class:"title-font"}," Create album ",-1)})),p={style:{"margin-left":"0.5px"},class:"title-font"},f={style:{"margin-left":"0.5rem"},class:"sub-font"},h={id:"image-box",ref:"fullscreenElement"};function b(e,t,n,u,b,g){var v=(0,l.up)("q-tab"),w=(0,l.up)("q-tabs"),k=(0,l.up)("q-icon"),x=(0,l.up)("q-file"),y=(0,l.up)("q-img"),C=(0,l.up)("q-tab-panel"),_=(0,l.up)("q-btn"),A=(0,l.up)("q-tab-panels"),q=(0,l.up)("CreateAlbumCard"),P=(0,l.up)("q-dialog"),Z=(0,l.up)("FullScreen"),W=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(W,{class:"page bg-white"},{default:(0,l.w5)((function(){return[(0,l._)("div",r,[(0,l.Wm)(w,{modelValue:b.tab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.tab=e}),dense:"","active-color":"primary","indicator-color":"primary",align:"left",breakpoint:0},{default:(0,l.w5)((function(){return[(0,l.Wm)(v,{name:"myphotos",label:"My Photos"}),(0,l.Wm)(v,{name:"albums",label:"Albums"})]})),_:1},8,["modelValue"]),(0,l.Wm)(A,{modelValue:b.tab,"onUpdate:modelValue":t[4]||(t[4]=function(e){return b.tab=e}),animated:"",style:{"min-width":"345px","min-height":"200px"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(C,{name:"myphotos"},{default:(0,l.w5)((function(){return[(0,l._)("div",i,[(0,l._)("div",s,[(0,l.Wm)(x,{borderless:"",modelValue:b.file,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return b.file=e}),g.uploadPhoto],for:"fileUpload","display-value":""},{append:(0,l.w5)((function(){return[(0,l.Wm)(k,{name:"app:add-photo",onClick:t[1]||(t[1]=(0,o.iM)((function(){}),["stop"])),style:{height:"90px",width:"90px","margin-left":"-13px","margin-top":"42px"}})]})),_:1},8,["modelValue","onUpdate:modelValue"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.photos,(function(t){return(0,l.wg)(),(0,l.iD)("div",{class:"col-4",key:t.id},[t.photo.url.indexOf("http")?((0,l.wg)(),(0,l.j4)(y,{key:0,src:"".concat(e.baseUrl).concat(t.photo.url),style:{width:"90px",margin:"5px"},ratio:1,"spinner-color":"white",class:"rounded-borders",onClick:function(e){return g.getfullScreen(t)}},null,8,["src","onClick"])):((0,l.wg)(),(0,l.j4)(y,{key:1,src:t.photo.url,style:{width:"90px",margin:"5px"},ratio:1,"spinner-color":"white",class:"rounded-borders",onClick:function(e){return g.getfullScreen(t)}},null,8,["src","onClick"]))])})),128))])]})),_:1}),(0,l.Wm)(C,{name:"albums"},{default:(0,l.w5)((function(){return[(0,l._)("div",c,[(0,l._)("div",d,[(0,l.Wm)(_,{flat:"",dense:"",icon:"app:create-album",padding:"0px",size:"60px",onClick:t[3]||(t[3]=function(e){return b.createAlbumModel=!0})}),m]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.useralbums,(function(e){return(0,l.wg)(),(0,l.iD)("div",{class:"col-4",key:e.name,style:{"margin-top":"0.25rem"}},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.useralbumphotos,(function(t,n){return(0,l.wg)(),(0,l.iD)("div",{key:n},[0==n?((0,l.wg)(),(0,l.j4)(y,{key:0,src:t.photo.url,style:{width:"75px",margin:"5px"},ratio:1,"spinner-color":"white",onClick:function(t){return g.navigateToAlbumPhoto(e.id)},class:"rounded-borders"},{error:(0,l.w5)((function(){return[(0,l.Wm)(k,{name:"app:create-album",style:{height:"80px",width:"80px"},onClick:function(t){return g.navigateToAlbumPhoto(e.id)}},null,8,["onClick"])]})),_:2},1032,["src","onClick"])):(0,l.kq)("",!0)])})),128)),0==e.useralbumphotos.length?((0,l.wg)(),(0,l.j4)(k,{key:0,name:"app:create-album",style:{height:"80px",width:"80px"},onClick:function(t){return g.navigateToAlbumPhoto(e.id)}},null,8,["onClick"])):(0,l.kq)("",!0),(0,l._)("div",p,(0,a.zw)(e.name),1),(0,l._)("div",f,(0,a.zw)(e.useralbumphotos.length),1)])})),128))])]})),_:1})]})),_:1},8,["modelValue"])]),(0,l.Wm)(P,{modelValue:b.createAlbumModel,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b.createAlbumModel=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(q)]})),_:1},8,["modelValue"]),(0,l._)("div",h,[(0,l.Wm)(Z,{details:b.fullscreendata},null,8,["details"])],512)]})),_:1})}var g=n(46264),v=n.n(g),w=(n(69665),function(e){return(0,l.dD)("data-v-432bbd53"),e=e(),(0,l.Cn)(),e}),k=w((function(){return(0,l._)("div",{class:"text-h6"},"Create album",-1)})),x={class:"create-Album-section"},y={class:"row"},C=w((function(){return(0,l._)("div",{class:"col-12 input-label"}," Album name ",-1)})),_={class:"col-12"},A={class:"flex flex-center more-info-item"};function q(e,t,n,o,a,u){var r=(0,l.up)("q-space"),i=(0,l.up)("q-btn"),s=(0,l.up)("q-card-section"),c=(0,l.up)("q-input"),d=(0,l.up)("q-card"),m=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{class:"row items-center q-pb-none"},{default:(0,l.w5)((function(){return[k,(0,l.Wm)(r),(0,l.wy)((0,l.Wm)(i,{icon:"close",flat:"",round:"",dense:""},null,512),[[m]])]})),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((function(){return[(0,l._)("div",x,[(0,l._)("div",y,[C,(0,l._)("div",_,[(0,l.Wm)(c,{outlined:"",class:"input",name:"albumName",modelValue:a.form.AlbumName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.form.AlbumName=e})},null,8,["modelValue"])])]),(0,l._)("div",A,[(0,l.wy)((0,l.Wm)(i,{color:"primary",label:"Create",disable:u.validation(),class:"button",rounded:"","no-caps":"",onClick:u.createAlbum},null,8,["disable","onClick"]),[[m]])])])]})),_:1})]})),_:1})}var P=n(33100),Z={name:"CreateAlbumCard",data:function(){return{loading:!1,form:{AlbumName:""}}},computed:v()({},(0,P.Se)("userprofile",["userDetails"])),methods:v()(v()({},(0,P.nv)("useralbum",["createUserAlbum","fetchUserAlbum"])),{},{createAlbum:function(){var e=this;this.createUserAlbum({user:this.userDetails,form:this.form}).then((function(){e.fetchUserAlbum(e.userDetails.id)}))},validation:function(){return""===this.form.AlbumName}})},W=n(11639),D=n(44458),Q=n(63190),S=n(90136),U=n(68879),V=n(13119),I=n(62146),B=n(69984),F=n.n(B);const M=(0,W.Z)(Z,[["render",q],["__scopeId","data-v-432bbd53"]]);var T=M;F()(Z,"components",{QCard:D.Z,QCardSection:Q.Z,QSpace:S.Z,QBtn:U.Z,QInput:V.Z}),F()(Z,"directives",{ClosePopup:I.Z});var $=n(43038),H={created:function(){this.$emitter.on("headerBackButtonClick",this.backButtonClick),this.$emitter.on("onExitFullscreen",this.closeFullScreen)},beforeUnmount:function(){this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("onExitFullscreen",this.closeFullScreen)},data:function(){return{file:null,createAlbumModel:!1,tab:"myphotos",albums:{info:[{src:"https://cdn.quasar.dev/img/boy-avatar.png",name:"Meeting",count:"16 photos"},{src:"https://cdn.quasar.dev/img/boy-avatar.png",name:"Me",count:"10 photos"}]},fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:"",hideBack:!1}}},components:{CreateAlbumCard:T,FullScreen:$.Z},computed:v()(v()(v()(v()({},(0,P.Se)("config",["baseUrl"])),(0,P.Se)("userprofile",["userDetails"])),(0,P.Se)("userphoto",["photos"])),(0,P.Se)("useralbum",["useralbums"])),mounted:function(){this.setHeaderData(!1,!0,"My Photos","","","",!0,!0),this.getPhoto(),this.getAlbum()},methods:v()(v()(v()(v()({},(0,P.nv)("header",["setHeader"])),(0,P.nv)("userphoto",["uploadPhotos","getPhotos"])),(0,P.nv)("useralbum",["fetchUserAlbum"])),{},{setHeaderData:function(e,t,n,l,o,a,u,r){this.setHeader({hamburgerIcon:e,backIcon:t,title:n,rightIcon1:l,rightIcon2:o,rightLinkText:a,notificationIcon:u,searchIcon:r})},uploadPhoto:function(e){var t=this;this.uploadPhotos({file:e,user:this.userDetails}).then((function(){t.getPhoto()}))},getPhoto:function(){this.getPhotos(this.userDetails.id)},getAlbum:function(){this.fetchUserAlbum(this.userDetails.id)},navigateToAlbumPhoto:function(e){this.$router.push("Album-Photos?id="+e)},backButtonClick:function(){this.$router.push("profile")},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen();var e=document.getElementById("image-box");e.setAttribute("style","display:none;"),this.fullscreendata.hideBack=!0}},getfullScreen:function(e){e.photo.url.indexOf("http")?this.fullscreendata.url=this.baseUrl+e.photo.url:this.fullscreendata.url=e.photo.url,this.fullscreendata.hideBack=!1,this.fullscreendata.name=null,this.fullscreendata.feedtext=null,this.fullscreendata.created_at=null,this.fullscreendata.likeLength=null,this.fullscreendata.commentLength=null,this.fullscreendata.id=null,this.fullscreendata.likeIcon=null;var t=document.getElementById("image-box");t.setAttribute("style","display:flex;");var n=this.$refs.fullscreenElement;this.$q.fullscreen.toggle(n).then((function(){})).catch((function(e){alert(e)}))}})},j=n(69885),E=n(47817),L=n(57661),N=n(89800),z=n(84106),K=n(29420),Y=n(22857),O=n(91487),G=n(32074),J=n(18149);const R=(0,W.Z)(H,[["render",b],["__scopeId","data-v-fb7a5b28"]]);var X=R;F()(H,"components",{QPage:j.Z,QTabs:E.Z,QTab:L.Z,QTabPanels:N.Z,QTabPanel:z.Z,QFile:K.Z,QIcon:Y.Z,QImg:O.Z,QBtn:U.Z,QDialog:G.Z,QField:J.Z})}}]);