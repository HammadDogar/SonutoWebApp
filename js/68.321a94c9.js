(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[68],{"394f":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[e.usernotications.length>=1?o("q-card",{attrs:{flat:"",bordered:""}},[o("q-item-label",{staticClass:"title",staticStyle:{margin:"15px","font-size":"20px"}},[e._v(e._s("Follower requests")+" ")]),o("q-list",e._l(e.followersRequests,(function(t){return o("q-item",{key:t.id},[o("q-item-section",{attrs:{avatar:""}},[null!=t.follower.avatar?o("q-avatar",[o("img",{attrs:{src:t.follower.avatar.url}})]):o("q-avatar",{attrs:{color:"primary","text-color":"white"}},[e._v("\n            "+e._s(t.follower.firstname.charAt(0))+"\n          ")])],1),o("q-item-section",[o("q-item-label",[e._v(e._s(t.follower.firstname)+" "+e._s(t.follower.lastname)+"\n          ")])],1),o("q-item-section",{attrs:{side:""}},[o("div",{staticClass:"q-pa-md q-gutter-sm"},[o("q-btn",{attrs:{label:"Accept",color:"primary","no-caps":""},on:{click:function(o){return e.acceptFollow(t)}}}),o("q-btn",{attrs:{label:"Reject",color:"primary","no-caps":""},on:{click:function(o){return e.removeFollow(t)}}})],1)])],1)})),1),0===e.followersRequests.length?o("h6",{staticClass:"text-center q-mb-md q-mt-lg"},[e._v("No Request Found")]):e._e()],1):e._e()],1)},i=[],n=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("06db"),o("456d"),o("7514"),o("9523")),s=o.n(n),l=o("2f62"),a=o("06ae"),c=o("2a19"),u=o("2007");function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){s()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var h={name:"notification",data:function(){return{matMoreHoriz:null}},created:function(){this.matMoreHoriz=a["a"]},computed:p(p(p({},Object(l["c"])("userprofile",["userprofiles","userDetails","userprofileDetail"])),Object(l["c"])("notifications",["usernotications"])),Object(l["c"])("followers",["followersRequests"])),mounted:function(){this.setHeaderData(!0,!1,"Followers","","","",!0,!0),this.fetchNotifications(this.userDetails.id),this.fetchFollowers(this.userprofileDetail.user)},methods:p(p(p(p({},Object(l["b"])("header",["setHeader"])),Object(l["b"])("notifications",["fetchNotifications","putNotification"])),Object(l["b"])("followers",["fetchFollowers","fetchFollowings","updateFollowers","updateFollowing","getFollowing","removeFollowing","removeFollower"])),{},{setHeaderData:function(e,t,o,r,i,n,s,l){this.setHeader({hamburgerIcon:e,backIcon:t,title:o,rightIcon1:r,rightIcon2:i,rightLinkText:n,notificationIcon:s,searchIcon:l})},updateNotification:function(e,t,o,r){var i=this;this.putNotification({notificationId:e,userprofileId:t,message:o,userId:r}).then((function(){i.fetchNotifications(i.userDetails.id)}))},redirectToFollowRequests:function(){this.$router.push("my-photos")},viewcomments:function(e){this.$router.push(e.URL)},filterUserProfileData:function(e){var t=this.userprofiles.find((function(t){return t.id===e}));return null!=t?t.firstname+" "+t.lastname:""},filterUserProfileImage:function(e){var t=this.userprofiles.find((function(t){return t.id===e}));return null!=t&&null!=t.avatar?t.avatar.url:null},getNotificationReceiveTime:function(e){var t=new Date(e),o=new Date,r=(o.getTime()-t.getTime())/1e3;return r>60?(r/=60,r>60?(r/=60,r>60?Math.floor(r/=24)+" Days ago":Math.floor(r)+" Hours ago"):Math.floor(r)+" Min ago"):Math.floor(r)+" secound ago"},goToProfile:function(e){this.$router.push("/user-profile/"+e)},acceptFollow:function(e){var t=this;this.updateFollowers({id:e.id,status:"Accepted"}).then((function(){t.fetchFollowers(t.userprofileDetail.user)})),this.getFollowing({followingId:this.userprofileDetail.id,userId:e.follower.user}).then((function(o){o.length>0&&t.updateFollowing({id:o[0].id,status:"Accepted"}).then((function(){t.fetchFollowings(t.userprofileDetail.user),c["a"].create({progress:!0,message:"Request Accepted",type:"positive"}),u["b"].emit("followRequestStatus",{to:e.follower.user})}))}))},removeFollow:function(e){var t=this;this.removeFollower(e.id).then((function(){t.fetchFollowers(t.userprofileDetail.user)})),this.getFollowing({followingId:this.userprofileDetail.id,userId:e.follower.user}).then((function(o){o.length>0&&t.removeFollowing(o[0].id).then((function(){t.fetchFollowings(t.userprofileDetail.user),u["b"].emit("followRequestStatus",{to:e.follower.user}),c["a"].create({progress:!0,message:"Request Rejected",type:"positive"})}))}))}})},d=h,w=o("2877"),m=o("9989"),g=o("f09f"),b=o("0170"),v=o("1c1c"),q=o("66e5"),F=o("4074"),O=o("cb32"),D=o("9c40"),j=o("0016"),y=o("eebe"),I=o.n(y),R=Object(w["a"])(d,r,i,!1,null,"234af7e9",null);t["default"]=R.exports;I()(R,"components",{QPage:m["a"],QCard:g["a"],QItemLabel:b["a"],QList:v["a"],QItem:q["a"],QItemSection:F["a"],QAvatar:O["a"],QBtn:D["a"],QIcon:j["a"]})}}]);