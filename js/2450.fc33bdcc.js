"use strict";(self["webpackChunkSonuto"]=self["webpackChunkSonuto"]||[]).push([[2450],{92450:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var s=n(59835),o=n(61957),i=n(86970),a=function(e){return(0,s.dD)("data-v-25c8b745"),e=e(),(0,s.Cn)(),e},r={class:"background"},l=a((function(){return(0,s._)("span",{class:"Heading"},"What's your Email address?",-1)})),d=a((function(){return(0,s._)("span",{class:"Heading"},"Enter OTP",-1)})),p={class:"sub-title"},u=a((function(){return(0,s._)("br",null,null,-1)})),c={class:"row"},f=["disabled"],h={key:0},m={key:0},w=a((function(){return(0,s._)("span",{class:"Heading"},"Reset Your Password?",-1)})),g={class:"flex flex-center page"},v={class:"msg"},x=a((function(){return(0,s._)("p",{style:{"font-size":"xx-large"}},"Password Updated Successfully!",-1)})),y={class:"flex flex-center more-info-item row",style:{width:"100%"}};function b(e,t,n,a,b,k){var P=(0,s.up)("q-icon"),V=(0,s.up)("q-input"),_=(0,s.up)("q-step"),q=(0,s.up)("q-btn"),O=(0,s.up)("q-stepper-navigation"),T=(0,s.up)("q-stepper"),W=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(W,{class:"flex"},{default:(0,s.w5)((function(){return[(0,s._)("div",r,[4!==b.step?((0,s.wg)(),(0,s.j4)(P,{key:0,name:"app:back",onClick:t[0]||(t[0]=function(e){return k.goToBack()}),class:"backbutton"})):(0,s.kq)("",!0),(0,s.Wm)(T,{class:"background stepperDiv",modelValue:b.step,"onUpdate:modelValue":t[14]||(t[14]=function(e){return b.step=e}),ref:"stepper",color:"white",contracted:""},{navigation:(0,s.w5)((function(){return[(0,s.Wm)(O,null,{default:(0,s.w5)((function(){return[(0,s._)("div",y,[(0,s.Wm)(q,{class:"nextBtn",onClick:k.goToStep,label:4===b.step?"Go to login":"Next",rounded:"","no-caps":"",disabled:b.sendingRequest},null,8,["onClick","label","disabled"])])]})),_:1})]})),default:(0,s.w5)((function(){return[(0,s.Wm)(_,{name:1,icon:"app:transparent-rectangle","active-icon":"app:rectangle-dash","done-icon":"app:rectangle-dash",done:b.step>1,title:"",style:{width:"100%"}},{default:(0,s.w5)((function(){return[l,(0,s.Wm)(V,{borderless:"",class:"input-control",ref:"email",placeholder:"Add your Email",modelValue:b.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.email=e}),"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"},rules:[function(e){return!!e||"Field is required"},k.isValidEmail],onKeyup:(0,o.D2)(k.goToStep,["enter"])},null,8,["modelValue","rules","onKeyup"])]})),_:1},8,["done"]),(0,s.Wm)(_,{name:2,icon:"app:transparent-rectangle","active-icon":"app:rectangle-dash","done-icon":"app:rectangle-dash",done:b.step>2,title:""},{default:(0,s.w5)((function(){return[d,(0,s._)("p",p,[(0,s.Uk)("Please enter the 4 digit code sent to "),u,(0,s._)("b",null,(0,i.zw)(b.email),1)]),(0,s._)("div",c,[(0,s.Wm)(V,{borderless:"",class:"otp-control col-md-2",type:"text",min:"1",max:"1",autocapitalize:"off",onInput:t[2]||(t[2]=function(e){return k.goToNextOtp(e,"otpSecond")}),ref:"otpFirst",modelValue:b.otp.first,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.otp.first=e}),maxlength:"1"},null,8,["modelValue"]),(0,s.Wm)(V,{borderless:"",class:"otp-control col-md-2 mg-left",min:"1",max:"1",autocapitalize:"off",type:"text",ref:"otpSecond",onInput:t[4]||(t[4]=function(e){return k.goToNextOtp(e,"otpThird")}),modelValue:b.otp.second,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b.otp.second=e}),maxlength:"1"},null,8,["modelValue"]),(0,s.Wm)(V,{borderless:"",class:"otp-control col-md-2 mg-left",min:"1",max:"1",autocapitalize:"off",type:"text",ref:"otpThird",onInput:t[6]||(t[6]=function(e){return k.goToNextOtp(e,"otpForth")}),modelValue:b.otp.third,"onUpdate:modelValue":t[7]||(t[7]=function(e){return b.otp.third=e}),maxlength:"1"},null,8,["modelValue"]),(0,s.Wm)(V,{borderless:"",class:"otp-control col-md-2 mg-left",min:"1",max:"1",autocapitalize:"off",type:"text",ref:"otpForth",modelValue:b.otp.forth,"onUpdate:modelValue":t[8]||(t[8]=function(e){return b.otp.forth=e}),maxlength:"1",onKeyup:(0,o.D2)(k.goToStep,["enter"])},null,8,["modelValue","onKeyup"])]),(0,s._)("div",{style:{cursor:"pointer","margin-top":"10px"},onClick:t[9]||(t[9]=function(){return k.resendOtp&&k.resendOtp.apply(k,arguments)}),disabled:!b.allowResendOtp||b.sendingRequest},[(0,s.Uk)(" Resend Code "),b.allowResendOtp?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",h,[(0,s.Uk)("in 00:"),b.countDown<10?((0,s.wg)(),(0,s.iD)("span",m,"0")):(0,s.kq)("",!0),(0,s.Uk)((0,i.zw)(b.countDown),1)]))],8,f)]})),_:1},8,["done"]),(0,s.Wm)(_,{name:3,icon:"app:transparent-rectangle","active-icon":"app:rectangle-dash","done-icon":"app:rectangle-dash",done:b.step>3,title:""},{default:(0,s.w5)((function(){return[w,(0,s.Wm)(V,{modelValue:b.password,"onUpdate:modelValue":t[11]||(t[11]=function(e){return b.password=e}),ref:"password",borderless:"",type:b.isPwd?"password":"text",class:"input-control","input-style":{maxWidth:"335px",height:"46px",padding:"0px 7px"},rules:[function(e){return!!e||"Field is required"},k.isValidPassword],placeHolder:"New password"},{append:(0,s.w5)((function(){return[(0,s.Wm)(P,{name:b.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[10]||(t[10]=function(e){return b.isPwd=!b.isPwd}),style:{"margin-right":"5px"}},null,8,["name"])]})),_:1},8,["modelValue","type","rules"]),(0,s.Wm)(V,{modelValue:b.confirmPassword,"onUpdate:modelValue":t[13]||(t[13]=function(e){return b.confirmPassword=e}),ref:"confirmationPassword",borderless:"",type:b.isPwd?"password":"text",class:"input-control confirmationPasswordField","input-style":{maxWidth:"335px",height:"46px",padding:"0px 7px"},rules:[function(e){return!!e||"Field is required"},k.isValidPassword],placeHolder:"Confirm new password"},{append:(0,s.w5)((function(){return[(0,s.Wm)(P,{name:b.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[12]||(t[12]=function(e){return b.isPwd=!b.isPwd}),style:{"margin-right":"5px"}},null,8,["name"])]})),_:1},8,["modelValue","type","rules"])]})),_:1},8,["done"]),(0,s.Wm)(_,{name:4,icon:"app:transparent-rectangle","done-icon":"app:rectangle-dash","active-icon":"app:rectangle-dash",done:b.step>4,title:""},{default:(0,s.w5)((function(){return[(0,s._)("div",g,[(0,s._)("div",v,[(0,s.Wm)(P,{class:"successfulTick",name:"app:successful-white-tick"}),x])])]})),_:1},8,["done"])]})),_:1},8,["modelValue"])])]})),_:1})}var k=n(46264),P=n.n(k),V=(n(11476),n(32119),n(69665),n(6827)),_=n(33100),q={name:"forgetPassword",data:function(){return{isPwd:!0,step:1,email:"",otp:{first:"",second:"",third:"",forth:""},password:"",confirmPassword:"",countDown:20,allowResendOtp:!1,btnLabel:"Next",showpassword:!1,sendingRequest:!1}},mounted:function(){this.setHeaderData(!1,!1,"","","","",!1,!1)},methods:P()(P()(P()({},(0,_.nv)("header",["setHeader"])),(0,_.nv)("userprofile",["sendForgetPasswordOtp","verifyForgetPasswordOtp","resetPassword"])),{},{setHeaderData:function(e,t,n,s,o,i,a,r){this.setHeader({hamburgerIcon:e,backIcon:t,title:n,rightIcon1:s,rightIcon2:o,rightLinkText:i,notificationIcon:a,searchIcon:r})},goToNextOtp:function(e,t){""!==e&&this.$refs[t].focus()},isValidEmail:function(e){var t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}.){1,8}[a-zA-Z]{2,5}$/;return t.test(e)||"Invalid email"},isValidPassword:function(e){var t=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,16}$/;return t.test(e)||"Your password must be 8 to 16 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character"},checkEmailVerification:function(){var e=this,t=this.isValidEmail(this.email);if("Invalid email"===t)return!1;this.sendingRequest=!0,this.sendForgetPasswordOtp(this.email).then((function(t){t.data?(e.step=2,e.countDownTimer()):V.Z.create({progress:!0,message:t.message,type:"negative"}),e.sendingRequest=!1}))},checkPasswordVerification:function(){var e=this,t=this.isValidPassword(this.password);if(!0!==t)return!1;if(this.password===this.confirmPassword){var n=this.otp.first+this.otp.second+this.otp.third+this.otp.forth,s={code:n,password:this.password,passwordConfirmation:this.confirmPassword};this.sendingRequest=!0,this.resetPassword(s).then((function(t){t?(e.step=4,e.sendingRequest=!1):V.Z.create({progress:!0,message:"Password Not Updated",type:"negative"})}))}else V.Z.create({progress:!0,message:"Confirmation password must match",type:"negative"})},validate:function(e){var t=!0;switch(e){case 1:if(!this.email)return t=!1,t;break;case 2:if(!this.otp.first||!this.otp.second||!this.otp.third||!this.otp.forth)return t=!1,t;break;case 3:if(!this.password)return t=!1,t;break}return t},goToStep:function(){var e=!1;1===this.step?(e=this.validate(this.step),e?this.checkEmailVerification():this.$refs.otpFirst.focus()):2===this.step?(e=this.validate(),e?this.verifyOtp():this.$refs.otpFirst.focus()):3===this.step?(e=this.validate(this.step),e?this.checkPasswordVerification():this.$refs.password.focus()):4===this.step&&this.$router.push("welcome")},goToBack:function(){1===this.step?this.$router.push("welcome"):this.step=this.step-1},validateOtp:function(){var e=!0;return this.otp.first&&this.otp.second&&this.otp.third&&this.otp.forth||(e=!1),e},verifyOtp:function(){var e=this,t=this.otp.first+this.otp.second+this.otp.third+this.otp.forth,n={email:this.email,otp:t};this.sendingRequest=!0,this.verifyForgetPasswordOtp(n).then((function(t){t.data?e.step=3:V.Z.create({progress:!0,message:t.message,type:"negative"}),e.sendingRequest=!1}))},countDownTimer:function(){var e=this,t=null;this.countDown>0?t=setTimeout((function(){e.countDown-=1,e.allowResendOtp=!1,e.countDownTimer()}),1e3):(this.countDown=20,this.allowResendOtp=!0,clearTimeout(t))},resendOtp:function(){var e=this;this.allowResendOtp&&(this.sendingRequest=!0,this.sendForgetPasswordOtp(this.email).then((function(t){t.data&&(e.countDownTimer(),V.Z.create({progress:!0,message:t.message,type:"positive"})),e.sendingRequest=!1})))}})},O=n(11639),T=n(69885),W=n(22857),Z=n(8225),R=n(46017),D=n(13119),F=n(21992),I=n(68879),U=n(18149),z=n(69984),C=n.n(z);const $=(0,O.Z)(q,[["render",b],["__scopeId","data-v-25c8b745"]]);var S=$;C()(q,"components",{QPage:T.Z,QIcon:W.Z,QStepper:Z.Z,QStep:R.Z,QInput:D.Z,QStepperNavigation:F.Z,QBtn:I.Z,QField:U.Z})}}]);