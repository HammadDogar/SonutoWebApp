(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"0d50":function(t,e,s){},"3d19":function(t,e,s){"use strict";var i=s("0d50"),a=s.n(i);a.a},"46d3":function(t,e,s){},a422:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex page"},[s("div",{staticClass:"q-gutter-y-md",staticStyle:{width:"100%"}},[s("q-card",{staticClass:"maincard"},[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":"","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"Published",label:"Published","no-caps":""}}),s("q-tab",{attrs:{name:"Requests",label:"Requests","no-caps":""}}),s("q-tab",{attrs:{name:"Rejected",label:"Rejected","no-caps":""}}),s("q-tab",{attrs:{name:"Unpublished",label:"Unpublished","no-caps":""}})],1),s("q-separator"),s("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Published"}},[0===t.publishedBlogs.length?s("div",[s("div",{staticClass:"flex flex-center"},[s("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),s("p",{staticClass:"emptymsg"},[t._v("No Published found ")])],1)]):s("div",t._l(t.publishedBlogs,(function(e){return s("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[s("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?s("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(s){return t.goToBlogArticle(e.id)}}}):t._e(),s("q-card-section",[s("div",{staticClass:"flex flex-center justify-between"},[s("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(s){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),s("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(s){return t.openBlogOptionModel(e)}}})],1),s("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),s("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Requests"}},[0===t.submittedBlogs.length?s("div",[s("div",{staticClass:"flex flex-center"},[s("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),s("p",{staticClass:"emptymsg"},[t._v("No Requests found.")])],1)]):s("div",t._l(t.submittedBlogs,(function(e){return s("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[s("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?s("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(s){return t.goToBlogArticle(e.id)}}}):t._e(),s("q-card-section",[s("div",{staticClass:"flex flex-center justify-between"},[s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs blog-title",on:{click:function(s){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),s("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(s){return t.openBlogOptionModel(e)}}})],1),s("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),s("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Rejected"}},[0===t.rejectedBlogs.length?s("div",[s("div",{staticClass:"flex flex-center"},[s("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),s("p",{staticClass:"emptymsg"},[t._v("No Rejected found. ")])],1)]):s("div",t._l(t.rejectedBlogs,(function(e){return s("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[s("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?s("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(s){return t.goToBlogArticle(e.id)}}}):t._e(),s("q-card-section",[s("div",{staticClass:"flex flex-center justify-between"},[s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs blog-title",on:{click:function(s){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),s("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(s){return t.openBlogOptionModel(e)}}})],1),s("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)]),s("q-tab-panel",{staticStyle:{padding:"0px !important"},attrs:{name:"Unpublished"}},[0===t.unpublishedBlogs.length?s("div",[s("div",{staticClass:"flex flex-center"},[s("q-img",{staticClass:"emptyDraft",attrs:{src:"statics/avatars/empty-draft-avatar.svg"}}),s("p",{staticClass:"emptymsg"},[t._v("No Unpublished found. ")])],1)]):s("div",t._l(t.unpublishedBlogs,(function(e){return s("q-intersection",{key:e.id,attrs:{transition:"scale",once:""}},[s("q-card",{staticClass:"my-card",staticStyle:{width:"100%"},attrs:{flat:""}},[e.CoverPhoto?s("q-img",{staticClass:"blog-cover",attrs:{src:t.getImageurl(e.CoverPhoto.url)},on:{click:function(s){return t.goToBlogArticle(e.id)}}}):t._e(),s("q-card-section",[s("div",{staticClass:"flex flex-center justify-between"},[s("div",{staticClass:"text-h6 q-mt-sm q-mb-xs blog-title",on:{click:function(s){return t.goToBlogArticle(e.id)}}},[t._v(t._s(e.Title)+"\n                    ")]),s("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"app:three-dots"},on:{click:function(s){return t.openBlogOptionModel(e)}}})],1),s("div",{staticClass:"text-caption text-grey blog-description"},[t._v("\n                    "+t._s(t._f("truncate")(e.Description,50,"..."))+"\n                  ")])])],1)],1)})),1)])],1)],1)],1),s("div",{ref:"fullscreenElement",attrs:{id:"image-box"}},[s("FullScreen",{attrs:{details:t.fullscreendata}})],1),s("q-dialog",{attrs:{position:"bottom"},model:{value:t.blogOptionModel,callback:function(e){t.blogOptionModel=e},expression:"blogOptionModel"}},[s("ManageBlogOption",{attrs:{selectedBlog:t.selectedBlog},on:{"clicked-selected-Option":t.selectedManageOption}})],1),s("q-dialog",{attrs:{position:"bottom"},model:{value:t.confirmModal,callback:function(e){t.confirmModal=e},expression:"confirmModal"}},[s("q-card",{staticClass:"roundedNewsFeed"},[s("div",{staticClass:"row items-center no-wrap",staticStyle:{"margin-bottom":"30px"}},[s("div",{staticClass:"col"},[s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("div",{staticClass:"text-h6"},[t._v(t._s(t.selectedOption)+" Blog")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),s("q-card-section",{staticClass:"row items-center q-pb-none"},[s("p",{staticClass:"col-12"},[t._v("\n              Are you sure you want to "+t._s(t.selectedOption)+" this blog?\n            ")])]),s("div",{staticClass:"col-12 text-center"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 text-center"},[s("q-btn",{staticClass:"button default-button",staticStyle:{color:"#000000",width:"90%"},attrs:{label:"Cancel","no-caps":"",outline:"",color:"primary"},on:{click:function(e){return t.confirmChoice("cancel")}}})],1),s("div",{staticClass:"col-6 text-center"},[s("q-btn",{staticClass:"button default-button",staticStyle:{width:"90%"},attrs:{color:"primary",label:"Confirm","no-caps":""},on:{click:function(e){return t.confirmChoice("confirm")}}})],1)])])],1)])])],1)],1)},a=[],o=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("9523")),n=s.n(o),c=s("2f62"),l=s("d41a"),r=s("2a19"),d=s("bd4c"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"roundedNewsFeed"},[s("div",[s("hr",{staticClass:"hr",on:{click:t.closeActionDialog}})]),s("div",{staticClass:"row items-center no-wrap"},[s("div",{staticClass:"col"},[s("q-list",{staticClass:"rounded-borders",staticStyle:{width:"100%","padding-bottom":"45px"},attrs:{bordered:"",padding:""}},["Submitted"===t.selectedBlog.Status||"Rejected"===t.selectedBlog.Status?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Approve")}}},[s("div",{staticClass:"icon-div"},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"icon-img",attrs:{name:"app:approve"}})],1)],1),s("q-item-section",{staticClass:"option"},[t._v("Approve")])],1):t._e(),"Published"===t.selectedBlog.Status?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Unpublish")}}},[s("div",{staticClass:"icon-div"},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"icon-img",attrs:{name:"app:eye-slash"}})],1)],1),s("q-item-section",{staticClass:"option"},[t._v("Unpublish")])],1):t._e(),"Submitted"===t.selectedBlog.Status||"Published"===t.selectedBlog.Status?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Reject")}}},[s("div",{staticClass:"icon-div"},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"icon-img",attrs:{name:"app:reject"}})],1)],1),s("q-item-section",{staticClass:"option"},[t._v("Reject")])],1):t._e(),"Unpublished"===t.selectedBlog.Status?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"","active-class":"my-menu-link"},on:{click:function(e){return t.action("Publish")}}},[s("div",{staticClass:"icon-div"},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"icon-img",attrs:{name:"app:eye"}})],1)],1),s("q-item-section",{staticClass:"option"},[t._v("Publish")])],1):t._e()],1)],1)])])},p=[],g={name:"ManageBlogOption",props:{selectedBlog:{type:Object,required:!1}},methods:{action:function(t){this.$emit("clicked-selected-Option",t)},closeActionDialog:function(){}}},f=g,m=(s("dfaf"),s("2877")),b=s("f09f"),h=s("1c1c"),v=s("66e5"),C=s("4074"),q=s("0016"),y=s("714f"),B=s("eebe"),x=s.n(B),O=Object(m["a"])(f,u,p,!1,null,"3be24e3f",null),k=O.exports;function _(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function w(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}x()(O,"components",{QCard:b["a"],QList:h["a"],QItem:v["a"],QItemSection:C["a"],QIcon:q["a"]}),x()(O,"directives",{Ripple:y["a"]});var S={name:"BlogArticle",created:function(){this.$root.$on("headerRightIcon2Click",this.gotoSearch),this.$root.$on("onformatDateClick",this.formatDate),this.$root.$on("onExitFullscreen",this.closeFullScreen)},beforeDestroy:function(){this.$root.$off("headerRightIcon2Click",this.gotoSearch),this.$root.$off("onformatDateClick",this.formatDate),this.$root.$off("onExitFullscreen",this.closeFullScreen)},computed:w(w(w({},Object(c["c"])("blog",["blogs","publishedBlogs","submittedBlogs","draftBlogs","rejectedBlogs","unpublishedBlogs"])),Object(c["c"])("config",["blobBaseUrl"])),Object(c["c"])("userprofile",["userDetails"])),components:{FullScreen:l["a"],ManageBlogOption:k},filters:{truncate:function(t,e,s){return null===t?"":(null===t||void 0===t?void 0:t.length)>e?t.substring(0,e)+s:t}},mounted:function(){this.setHeaderData(!1,!0,"Manage Blogs","","","",!0,!0),this.fetchBlogs(!1)},data:function(){return{tab:"Published",fullscreendata:{url:null,userprofile:"",feedtext:"",created_at:"",likeLength:"",commentLength:"",id:"",likeIcon:""},selectedBlog:null,blogOptionModel:!1,confirmModal:!1,selectedOption:""}},methods:w(w(w({},Object(c["b"])("header",["setHeader"])),Object(c["b"])("blog",["fetchBlogs","storeContent","fetchBlogs","updateBlogStatus"])),{},{setHeaderData:function(t,e,s,i,a,o,n,c){this.setHeader({hamburgerIcon:t,backIcon:e,title:s,rightIcon1:i,rightIcon2:a,rightLinkText:o,notificationIcon:n,searchIcon:c})},formatDate:function(t){return d["a"].formatDate(t,"DD MMM")+" at "+d["a"].formatDate(t,"hh.mm A")},gotoSearch:function(){this.$router.push("/blog-search")},backButtonClick:function(){this.$router.push("dashboard")},goToCreateBlog:function(){this.$router.push("/create-blog")},goToReview:function(t){},goToBlogArticle:function(t){this.$router.push("/blog-article/"+t)},closeFullScreen:function(){if(document.exitFullscreen){document.exitFullscreen(),this.selectedBlog={};var t=document.getElementById("image-box");t.setAttribute("style","display:none;")}},getImageurl:function(t){var e=t.substring(t.lastIndexOf("/")+1);e="small_"+e;var s=this.blobBaseUrl;return t=s+e,t},openBlogOptionModel:function(t){this.selectedBlog=t,this.blogOptionModel=!0},selectedManageOption:function(t){this.selectedOption=t,this.blogOptionModel=!1,this.confirmModal=!0},confirmChoice:function(t){var e=this;if("confirm"===t){var s="Approve"===this.selectedOption||"Publish"===this.selectedOption?"Published":"Reject"===this.selectedOption?"Rejected":"Unpublish"===this.selectedOption?"Unpublished":"";this.updateBlogStatus({id:this.selectedBlog.id,status:s}).then((function(t){r["a"].create({progress:!0,message:"Blog Status Updated Successfully",type:"positive"}),e.selectedOption="",e.selectedBlog=null,e.confirmModal=!1}))}else this.selectedBlog=null,this.confirmModal=!1,this.selectedOption=""}})},j=S,P=(s("3d19"),s("9989")),D=s("429b"),M=s("7460"),I=s("eb85"),T=s("adad"),$=s("823b"),A=s("068f"),Q=s("ad56"),R=s("a370"),U=s("9c40"),F=s("24e8"),N=s("2c91"),E=s("7f67"),H=Object(m["a"])(j,i,a,!1,null,"0df61b73",null);e["default"]=H.exports;x()(H,"components",{QPage:P["a"],QCard:b["a"],QTabs:D["a"],QTab:M["a"],QSeparator:I["a"],QTabPanels:T["a"],QTabPanel:$["a"],QImg:A["a"],QIntersection:Q["a"],QCardSection:R["a"],QBtn:U["a"],QDialog:F["a"],QSpace:N["a"]}),x()(H,"directives",{ClosePopup:E["a"]})},dfaf:function(t,e,s){"use strict";var i=s("46d3"),a=s.n(i);a.a}}]);