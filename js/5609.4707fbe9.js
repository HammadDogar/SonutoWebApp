"use strict";(self["webpackChunkKonoku"]=self["webpackChunkKonoku"]||[]).push([[5609],{5609:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var o=n(59835),i=function(e){return(0,o.dD)("data-v-ee3f1e56"),e=e(),(0,o.Cn)(),e},s={class:"main-container"},a={class:"profile-edit-section"},r={class:"row"},c={class:"col"},u=i((function(){return(0,o._)("p",{class:"heading"},"Delete Account",-1)})),l=i((function(){return(0,o._)("p",null,"When you delete your konoku account, you won't be able to retrieve the content or information you've shared on konoku. Your main profile and all of your messages will also be deleted. ",-1)})),d=i((function(){return(0,o._)("div",{class:"msginfo",style:{"margin-bottom":"10px","margin-top":"20px",width:"100%"}},[(0,o._)("span",{class:"user-name"}," Please enter your email to confirm you wish to delete your account ")],-1)})),p={key:0,class:"msginfo",style:{"margin-bottom":"10px","margin-top":"20px",width:"100%"}},h=i((function(){return(0,o._)("span",{class:"user-name"}," Please enter the verification code sent to your registered email account ",-1)})),f=[h],m={class:"more-info-item",style:{"margin-top":"40px",width:"100%"}};function g(e,t,n,i,h,g){var k=(0,o.up)("q-icon"),v=(0,o.up)("q-input"),y=(0,o.up)("q-btn"),b=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(b,{class:"flex-center"},{default:(0,o.w5)((function(){return[(0,o._)("div",s,[(0,o._)("div",a,[(0,o._)("div",r,[(0,o._)("div",c,[u,l,d,(0,o.Wm)(v,{modelValue:h.password,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.password=e}),borderless:"",type:"text",class:"input-control",readonly:2===h.step,disabled:2==h.step,"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"}},{append:(0,o.w5)((function(){return[(0,o.Wm)(k,{name:2===h.step&&"verified",color:2==h.step&&"green",style:{"margin-right":"5px"}},null,8,["name","color"])]})),_:1},8,["modelValue","readonly","disabled"]),2==h.step?((0,o.wg)(),(0,o.iD)("div",p,f)):(0,o.kq)("",!0),2==h.step?((0,o.wg)(),(0,o.j4)(v,{key:1,borderless:"",class:"input-control",modelValue:h.otp,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.otp=e}),"input-style":{maxWidth:"335px",height:"46px",padding:"0px 5px"}},null,8,["modelValue"])):(0,o.kq)("",!0),(0,o._)("div",m,[(0,o.Wm)(y,{color:"primary",label:1===h.step?"Verify":"Delete",rounded:"","no-caps":"",disable:1==h.step&&""==h.password||2==h.step&&""==h.otp||h.loading,onClick:g.submitFunc},null,8,["label","disable","onClick"])])])])])])]})),_:1})}var k=n(46264),v=n.n(k),y=(n(69665),n(11476),n(32119),n(6827)),b=n(33100),w={created:function(){this.$emitter.on("headerBackButtonClick",this.backButtonClick),this.$emitter.on("headerRightIcon2Click",this.gotoSearch)},beforeUnmount:function(){this.$emitter.off("headerBackButtonClick",this.backButtonClick),this.$emitter.off("headerRightIcon2Click",this.gotoSearch)},computed:v()({},(0,b.Se)("userprofile",["userprofileDetail","userDetails"])),data:function(){return{loading:!1,password:"",otp:"",isPwd:!0,step:1}},mounted:function(){this.$auth.isAuthenticated()?this.setHeaderData(!1,!0,"Delete Account","","","",!0,!0):this.setHeaderData(!1,!0,"Delete Account","","","",!1,!1)},methods:v()(v()(v()(v()({},(0,b.nv)("header",["setHeader"])),(0,b.nv)("userprofile",["logout"])),(0,b.nv)("accountSettings",["sendEmailForAccountDelete","verifyOtp"])),{},{setHeaderData:function(e,t,n,o,i,s,a,r){this.setHeader({hamburgerIcon:e,backIcon:t,title:n,rightIcon1:o,rightIcon2:i,rightLinkText:s,notificationIcon:a,searchIcon:r})},backButtonClick:function(){this.$router.push("account-setting")},afterUpdateSuccess:function(){y.Z.create({progress:!0,message:"Account Settings Updated",type:"positive"}),this.backButtonClick()},gotoSearch:function(){this.$router.push("search-result")},validateSpace:function(e){/^\s/.test(this.form[e])&&(this.form[e]="")},verifyPasswordFunc:function(){var e=this;this.loading=!0,this.sendEmailForAccountDelete({email:this.password}).then((function(t){e.loading=!1,t&&(e.step=2)}))},verifyOtpFunc:function(){var e=this;this.loading=!0,this.verifyOtp({email:this.password,otp:this.otp}).then((function(t){e.loading=!1,t&&e.logout()}))},submitFunc:function(){1===this.step?this.verifyPasswordFunc():2===this.step&&this.verifyOtpFunc()}})},x=n(11639),_=n(69885),C=n(13119),D=n(22857),I=n(68879),B=n(18149),F=n(69984),S=n.n(F);const A=(0,x.Z)(w,[["render",g],["__scopeId","data-v-ee3f1e56"]]);var V=A;S()(w,"components",{QPage:_.Z,QInput:C.Z,QIcon:D.Z,QBtn:I.Z,QField:B.Z})}}]);